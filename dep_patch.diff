--- a/package.json
+++ b/package.json
@@ -13,12 +13,6 @@
     "seed": "tsx scripts/seed-templates.ts"
   },
   "dependencies": {
-    "@capacitor/android": "^7.2.0",
-    "@capacitor/cli": "^7.2.0",
-    "@capacitor/core": "^7.2.0",
-    "@capacitor/ios": "^7.2.0",
     "@hello-pangea/dnd": "^18.0.1",
     "@hookform/resolvers": "^3.10.0",
     "@radix-ui/react-accordion": "^1.2.11",
@@ -52,12 +46,7 @@
     "@stripe/stripe-js": "^7.8.0",
     "@supabase/supabase-js": "^2.53.0",
     "@tanstack/react-query": "^5.60.5",
-    "@types/bcrypt": "^6.0.0",
-    "@types/jsonwebtoken": "^9.0.10",
-    "@types/pg": "^8.15.5",
-    "@types/qrcode": "^1.5.5",
-    "bcrypt": "^6.0.0",
     "class-variance-authority": "^0.7.1",
     "clsx": "^2.1.1",
     "cmdk": "^1.1.1",
@@ -87,7 +76,6 @@
     "react-dom": "^18.3.1",
     "react-helmet-async": "^2.0.5",
     "react-hook-form": "^7.55.0",
-    "react-icons": "^5.4.0",
     "react-resizable-panels": "^3.0.4",
     "recharts": "^3.1.2",
     "sharp": "^0.34.3",
@@ -98,10 +86,10 @@
     "vaul": "^1.1.2",
     "wouter": "^3.3.5",
     "ws": "^8.18.0",
-    "zod": "^3.24.2",
-    "zod-validation-error": "^3.4.0"
+    "zod": "^3.24.2"
   },
   "devDependencies": {
+    "@capacitor/cli": "^7.2.0",
     "@tailwindcss/typography": "^0.5.15",
     "@types/connect-pg-simple": "^7.0.3",
     "@types/express": "4.17.21",
@@ -111,18 +99,21 @@
     "@types/node": "20.16.11",
     "@types/react": "^18.3.11",
     "@types/react-dom": "^18.3.1",
     "@types/ws": "^8.5.13",
+    "@types/bcrypt": "^6.0.0",
+    "@types/jsonwebtoken": "^9.0.10",
+    "@types/pg": "^8.15.5",
+    "@types/qrcode": "^1.5.5",
     "@vitejs/plugin-react": "^4.3.2",
-    "autoprefixer": "^10.4.20",
-    "cross-env": "^10.0.0",
-    "drizzle-kit": "^0.30.4",
+    "drizzle-kit": "^0.31.4",
     "esbuild": "^0.25.0",
-    "postcss": "^8.4.47",
     "tailwindcss": "^3.4.17",
     "tsx": "^4.19.1",
     "typescript": "5.6.3",
-    "vite": "^5.4.14"
+    "vite": "^7.1.1"
   },
   "optionalDependencies": {
     "bufferutil": "^4.0.8"

=== Summary of Changes ===

REMOVED from dependencies (8 packages):
- @capacitor/android, @capacitor/core, @capacitor/ios (unused mobile platform)
- @capacitor/cli (moved to devDependencies)
- bcrypt, @types/bcrypt (unused, project likely uses different auth)
- react-icons (unused in codebase)
- zod-validation-error (unused)

MOVED to devDependencies (4 packages):
- @capacitor/cli (build tool)
- @types/jsonwebtoken, @types/pg, @types/qrcode (TypeScript types)

REMOVED from devDependencies (3 packages):
- autoprefixer (Vite handles this)
- cross-env (use native NODE_ENV)
- postcss (Vite includes this)

UPDATED versions (2 packages):
- vite: ^5.4.14 → ^7.1.1 (security fix)
- drizzle-kit: ^0.30.4 → ^0.31.4 (security fix)

=== Apply this patch ===
git apply dep_patch.diff

=== Or manually apply ===
1. Open package.json
2. Apply the changes shown above
3. Run: npm install
4. Run: npm dedupe
5. Run: npm audit fix

=== Verify after applying ===
npm run build
npm run check
npm audit