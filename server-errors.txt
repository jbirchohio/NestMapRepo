server/approvalEngine.ts(30,56): error TS2551: Property 'organization_id' does not exist on type 'ApprovalWorkflowConfig'. Did you mean 'organizationId'?
server/approvalEngine.ts(65,26): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_rules"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_rules"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 10 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/approvalEngine.ts(114,16): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; hasRuntimeDefault: false; enumValues: undefined; baseColumn: never; identity: undefined; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; hasRuntimeDefault: false; enumValues: undefined; baseColumn: never; identity: undefined; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; hasRuntimeDefault: false; enumValues: undefined; baseColumn: never; identity: undefined; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/approvalEngine.ts(139,53): error TS2551: Property 'organization_id' does not exist on type 'ApprovalWorkflowConfig'. Did you mean 'organizationId'?
server/approvalEngine.ts(146,9): error TS2769: No overload matches this call.
  Overload 2 of 2, '(values: { organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: SQL<unknown> | "create" | "delete" | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'organizationId' does not exist in type '{ organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: SQL<unknown> | "create" | "delete" | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }[]'.
server/approvalEngine.ts(146,32): error TS2551: Property 'organization_id' does not exist on type 'ApprovalWorkflowConfig'. Did you mean 'organizationId'?
server/approvalEngine.ts(163,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/approvalEngine.ts(164,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/approvalEngine.ts(178,18): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "users"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/approvalEngine.ts(179,9): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "role"; tableName: "users"; dataType: "string"; columnType: "PgEnumColumn"; data: "super_admin" | "admin" | "manager" | "member" | "guest"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>, right: "super_admin" | ... 4 more ... | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'string' is not assignable to parameter of type '"super_admin" | "admin" | "manager" | "member" | "guest" | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<string>, right: string | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "role"; tableName: "users"; dataType: "string"; columnType: "PgEnumColumn"; data: "super_admin" | "admin" | "manager" | "member" | "guest"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string>'.
      Type 'PgColumn<{ name: "role"; tableName: "users"; dataType: "string"; columnType: "PgEnumColumn"; data: "super_admin" | "admin" | "manager" | "member" | "guest"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "role"; tableName: "users"; dataType: "string"; columnType: "PgEnumColumn"; data: "super_admin" | "admin" | "manager" | "member" | "guest"; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/approvalEngine.ts(219,9): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; hasRuntimeDefault: false; enumValues: undefined; baseColumn: never; identity: undefined; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; hasRuntimeDefault: false; enumValues: undefined; baseColumn: never; identity: undefined; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; hasRuntimeDefault: false; enumValues: undefined; baseColumn: never; identity: undefined; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/approvalEngine.ts(220,18): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "users"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/approvalEngine.ts(240,29): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<....'. Did you mean 'organizationId'?
server/approvalEngine.ts(280,18): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "users"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/auditLogger.ts(1,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db.js'?
server/auditLogger.ts(2,27): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db/auditLog.js'?
server/billing.ts(8,5): error TS2322: Type '"2023-10-16"' is not assignable to type '"2025-05-28.basil"'.
server/billing.ts(69,56): error TS2339: Property 'payment_intent' does not exist on type 'string | Invoice'.
  Property 'payment_intent' does not exist on type 'string'.
server/billing.ts(124,47): error TS2339: Property 'current_period_end' does not exist on type 'Subscription'.
server/bookingEngine.ts(206,14): error TS6133: 'params' is declared but its value is never read.
server/bookingEngine.ts(210,16): error TS6133: 'bookingId' is declared but its value is never read.
server/bookingEngine.ts(214,19): error TS6133: 'bookingId' is declared but its value is never read.
server/bookingEngine.ts(230,29): error TS6133: 'amount' is declared but its value is never read.
server/bookingEngine.ts(230,45): error TS6133: 'currency' is declared but its value is never read.
server/bookingEngine.ts(230,63): error TS6133: 'metadata' is declared but its value is never read.
server/bookingEngine.ts(239,24): error TS6133: 'paymentIntentId' is declared but its value is never read.
server/bookingProviders.ts(114,5): error TS1117: An object literal cannot have multiple properties with the same name.
server/bookingProviders.ts(140,32): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './duffelProvider.js'?
server/budgetForecast.ts(1,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db.js'?
server/budgetForecast.ts(2,23): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/budgetForecast.ts(22,13): error TS7006: Parameter 't' implicitly has an 'any' type.
server/budgetForecast.ts(23,10): error TS7006: Parameter 't' implicitly has an 'any' type.
server/budgetForecast.ts(27,39): error TS7006: Parameter 'a' implicitly has an 'any' type.
server/budgetForecast.ts(27,42): error TS7006: Parameter 'b' implicitly has an 'any' type.
server/businessTripGenerator.ts(1,47): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './services/openaiClient.js'?
server/businessTripGenerator.ts(2,35): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './utils/tripCost.js'?
server/businessTripGenerator.ts(3,37): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './services/conflictDetector.js'?
server/businessTripGenerator.ts(4,91): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './predictiveAI.js'?
server/businessTripGenerator.ts(5,72): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './smartOptimizer.js'?
server/businessTripGenerator.ts(6,42): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './carbonTracker.js'?
server/businessTripGenerator.ts(7,45): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './bookingProviders.js'?
server/businessTripGenerator.ts(165,49): error TS7006: Parameter 'flight' implicitly has an 'any' type.
server/businessTripGenerator.ts(187,47): error TS7006: Parameter 'hotel' implicitly has an 'any' type.
server/calendar.ts(2,32): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/calendarSync.ts(2,32): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/calendarSync.ts(95,41): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/carbonTracker.ts(5,11): error TS2395: Individual declarations in merged declaration 'CarbonFootprint' must be all exported or all local.
server/carbonTracker.ts(258,18): error TS2395: Individual declarations in merged declaration 'CarbonFootprint' must be all exported or all local.
server/carbonTracker.ts(299,30): error TS2353: Object literal may only specify known properties, and 'ground' does not exist in type '{ flights: number; hotels: number; localTransport: number; activities: number; meals: number; }'.
server/carbonTracker.ts(317,12): error TS2339: Property 'esgCompliance' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(324,22): error TS2339: Property 'accommodation' does not exist on type '{ flights: number; hotels: number; localTransport: number; activities: number; meals: number; }'.
server/carbonTracker.ts(325,12): error TS2339: Property 'esgCompliance' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(334,22): error TS2339: Property 'ground' does not exist on type '{ flights: number; hotels: number; localTransport: number; activities: number; meals: number; }'.
server/carbonTracker.ts(335,12): error TS2339: Property 'esgCompliance' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(345,12): error TS2339: Property 'esgCompliance' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(348,10): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(354,10): error TS2339: Property 'metrics' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(354,37): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(355,10): error TS2339: Property 'metrics' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(355,38): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(358,10): error TS2339: Property 'esgCompliance' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(362,20): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(368,20): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(374,20): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(380,3): error TS2322: Type 'string[]' is not assignable to type 'CarbonReduction[]'.
  Type 'string' is not assignable to type 'CarbonReduction'.
server/carbonTracker.ts(383,10): error TS2339: Property 'trends' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(470,10): error TS2393: Duplicate function implementation.
server/carbonTracker.ts(470,65): error TS6133: 'trip' is declared but its value is never read.
server/carbonTracker.ts(473,41): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(479,24): error TS2339: Property 'ground' does not exist on type '{ flights: number; hotels: number; localTransport: number; activities: number; meals: number; }'.
server/carbonTracker.ts(479,40): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(484,24): error TS2339: Property 'accommodation' does not exist on type '{ flights: number; hotels: number; localTransport: number; activities: number; meals: number; }'.
server/carbonTracker.ts(484,47): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(489,14): error TS2339: Property 'totalCO2kg' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(498,3): error TS6133: 'currentCarbon' is declared but its value is never read.
server/carbonTracker.ts(499,3): error TS6133: 'organizationId' is declared but its value is never read.
server/carbonTracker.ts(500,3): error TS6133: 'userId' is declared but its value is never read.
server/carbonTracker.ts(501,28): error TS2339: Property 'trends' does not exist on type 'CarbonFootprint'.
server/carbonTracker.ts(542,3): error TS6133: 'organizationId' is declared but its value is never read.
server/carbonTracker.ts(628,10): error TS2393: Duplicate function implementation.
server/carbonTracker.ts(704,33): error TS2571: Object is of type 'unknown'.
server/carbonTracker.ts(704,79): error TS18046: 'sum' is of type 'unknown'.
server/carbonTracker.ts(704,85): error TS18046: 'val' is of type 'unknown'.
server/carbonTracker.ts(708,22): error TS18046: 'actual' is of type 'unknown'.
server/carbonTracker.ts(713,26): error TS2345: Argument of type 'unknown' is not assignable to parameter of type 'number'.
server/db-connection.ts(5,25): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/db.ts(6,35): error TS6059: File '/home/runner/work/NestMapRepo/NestMapRepo/shared/superadmin-schema.ts' is not under 'rootDir' '/home/runner/work/NestMapRepo/NestMapRepo/server'. 'rootDir' is expected to contain all source files.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/shared/package.json' has field "type" with value "module"
server/db.ts(6,35): error TS6307: File '/home/runner/work/NestMapRepo/NestMapRepo/shared/superadmin-schema.ts' is not listed within the file list of project '/home/runner/work/NestMapRepo/NestMapRepo/server/tsconfig.json'. Projects must list all files or use an 'include' pattern.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/shared/package.json' has field "type" with value "module"
server/db/invoiceSchema.ts(4,38): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './schema.js'?
server/db/invoiceSchema.ts(5,34): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../shared/types/invoice.js'?
server/db/proposalSchema.ts(5,45): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './schema.js'?
server/db/redis.ts(2,24): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../utils/logger.js'?
server/db/superadminSchema.ts(3,38): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './schema.js'?
server/demoAnalytics.ts(1,56): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './analytics.js'?
server/domainVerification.ts(94,32): error TS2339: Property 'getPeerCertificate' does not exist on type 'Socket'.
server/duffelProvider.ts(248,20): error TS6133: 'params' is declared but its value is never read.
server/emailService.ts(2,35): error TS2307: Cannot find module '../branding.js' or its corresponding type declarations.
server/emailService.ts(52,13): error TS2304: Cannot find name 'generateNotificationHTML'.
server/health.ts(2,22): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db-connection.js'?
server/health.ts(8,35): error TS6133: 'req' is declared but its value is never read.
server/index.ts(18,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'NextHandleFunction' is not assignable to parameter of type 'PathParams'.
server/index.ts(19,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'NextHandleFunction' is not assignable to parameter of type 'PathParams'.
server/index.ts(35,21): error TS6133: 'req' is declared but its value is never read.
server/index.ts(53,23): error TS6133: 'req' is declared but its value is never read.
server/index.ts(61,10): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/index.ts(61,15): error TS6133: 'req' is declared but its value is never read.
server/index.ts(61,15): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/index.ts(61,20): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/index.ts(61,25): error TS6133: 'next' is declared but its value is never read.
server/index.ts(61,25): error TS7006: Parameter 'next' implicitly has an 'any' type.
server/index.ts(70,10): error TS6133: 'req' is declared but its value is never read.
server/loadBalancer.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db-connection.js'?
server/loadBalancer.ts(3,66): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/loadBalancer.ts(282,55): error TS7006: Parameter 'd' implicitly has an 'any' type.
server/middleware/auditLog.ts(33,34): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ organizationId: string | null; userId: string; action: string; resource: string; resourceId: string | null; metadata: { body: any; statusCode: number; }; }[]' is not assignable to parameter of type '{ userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }'.
      Type '{ organizationId: string | null; userId: string; action: string; resource: string; resourceId: string | null; metadata: { body: any; statusCode: number; }; }[]' is missing the following properties from type '{ userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }': userId, organizationId, action, resource
  Overload 2 of 2, '(values: { userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Type 'string | null' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
      Type 'null' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any>'.
server/middleware/auditLog.ts(34,25): error TS18048: 'req.user' is possibly 'undefined'.
server/middleware/auditLog.ts(35,17): error TS18048: 'req.user' is possibly 'undefined'.
server/middleware/comprehensive-rate-limiting.ts(17,11): error TS2430: Interface 'CustomRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'socket' are incompatible.
    Type '{ remoteAddress?: string | null | undefined; } | undefined' is not assignable to type '{ remoteAddress?: string | undefined; } | undefined'.
      Type '{ remoteAddress?: string | null | undefined; }' is not assignable to type '{ remoteAddress?: string | undefined; }'.
        Types of property 'remoteAddress' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | undefined'.
            Type 'null' is not assignable to type 'string | undefined'.
server/middleware/comprehensive-rate-limiting.ts(384,36): error TS2345: Argument of type 'CustomRequest' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'socket' are incompatible.
    Type '{ remoteAddress?: string | null | undefined; } | undefined' is not assignable to type '{ remoteAddress?: string | undefined; } | undefined'.
      Type '{ remoteAddress?: string | null | undefined; }' is not assignable to type '{ remoteAddress?: string | undefined; }'.
        Types of property 'remoteAddress' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | undefined'.
            Type 'null' is not assignable to type 'string | undefined'.
server/middleware/comprehensive-rate-limiting.ts(389,35): error TS2345: Argument of type 'CustomRequest' is not assignable to parameter of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'socket' are incompatible.
    Type '{ remoteAddress?: string | null | undefined; } | undefined' is not assignable to type '{ remoteAddress?: string | undefined; } | undefined'.
      Type '{ remoteAddress?: string | null | undefined; }' is not assignable to type '{ remoteAddress?: string | undefined; }'.
        Types of property 'remoteAddress' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | undefined'.
            Type 'null' is not assignable to type 'string | undefined'.
server/middleware/globalErrorHandler.ts(25,31): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/middleware/inputValidation.ts(24,11): error TS2430: Interface 'CustomRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'params' are incompatible.
    Type '{ [key: string]: string | undefined; }' is not assignable to type 'ParamsDictionary'.
      'string' index signatures are incompatible.
        Type 'string | undefined' is not assignable to type 'string'.
          Type 'undefined' is not assignable to type 'string'.
server/middleware/organization.ts(3,35): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/middleware/organization.ts(18,31): error TS6133: 'res' is declared but its value is never read.
server/middleware/organization.ts(58,43): error TS7030: Not all code paths return a value.
server/middleware/organization.ts(79,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/organization.ts(79,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/organization.ts(80,7): error TS2687: All declarations of 'organizationId' must have identical modifiers.
server/middleware/organization.ts(80,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationId' must be of type 'string', but here has type 'string | undefined'.
server/middleware/organizationContext.ts(3,36): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../src/types/auth-user.js'?
server/middleware/organizationContext.ts(16,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/organizationContext.ts(16,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/organizationContext.ts(17,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'AuthUser | undefined', but here has type 'User | undefined'.
server/middleware/organizationContext.ts(19,7): error TS2687: All declarations of 'organizationFilter' must have identical modifiers.
server/middleware/organizationContext.ts(19,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationFilter' must be of type 'any', but here has type '(orgId: string | null) => boolean'.
server/middleware/organizationContext.ts(85,11): error TS2339: Property 'isWhiteLabelDomain' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/organizationContext.ts(85,37): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(87,41): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(91,26): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(105,30): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(112,7): error TS2551: Property 'organizationFilter' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(123,17): error TS7030: Not all code paths return a value.
server/middleware/organizationContext.ts(181,17): error TS7030: Not all code paths return a value.
server/middleware/organizationContext.ts(209,7): error TS2339: Property 'analyticsScope' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/organizationContext.ts(233,33): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/middleware/organizationContext.ts(234,44): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/middleware/organizationContext.ts(258,11): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(259,11): error TS2339: Property 'isWhiteLabelDomain' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/organizationRoleMiddleware.ts(2,42): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../permissions.js'?
server/middleware/organizationRoleMiddleware.ts(18,18): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/middleware/organizationScoping.clean.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/middleware/organizationScoping.clean.ts(3,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/schema.js'?
server/middleware/organizationScoping.clean.ts(6,36): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../src/types/auth-user.js'?
server/middleware/organizationScoping.clean.ts(15,18): error TS2430: Interface 'CustomRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  The types returned by 'get(...)' are incompatible between these types.
    Type 'string | undefined' is not assignable to type 'string[] | undefined'.
      Type 'string' is not assignable to type 'string[]'.
server/middleware/organizationScoping.clean.ts(178,17): error TS7030: Not all code paths return a value.
server/middleware/organizationScoping.clean.ts(266,17): error TS7030: Not all code paths return a value.
server/middleware/organizationScoping.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/middleware/organizationScoping.ts(3,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/schema.js'?
server/middleware/organizationScoping.ts(6,36): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../src/types/auth-user.js'?
server/middleware/organizationScoping.ts(15,18): error TS2430: Interface 'CustomRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  The types returned by 'get(...)' are incompatible between these types.
    Type 'string | undefined' is not assignable to type 'string[] | undefined'.
      Type 'string' is not assignable to type 'string[]'.
server/middleware/organizationScoping.ts(178,17): error TS7030: Not all code paths return a value.
server/middleware/organizationScoping.ts(266,17): error TS7030: Not all code paths return a value.
server/middleware/performance.ts(116,61): error TS6133: 'res' is declared but its value is never read.
server/middleware/responseCoordinator.ts(13,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/responseCoordinator.ts(13,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/responseCoordinator.ts(14,7): error TS2687: All declarations of 'responseMetrics' must have identical modifiers.
server/middleware/responseCoordinator.ts(14,7): error TS2717: Subsequent property declarations must have the same type.  Property 'responseMetrics' must be of type 'any', but here has type 'ResponseMetrics'.
server/middleware/responseCoordinator.ts(27,7): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(51,15): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(52,47): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(53,17): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(54,46): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(71,13): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(71,48): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(74,26): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(75,27): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(80,13): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(82,11): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/secureAuth.ts(24,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../src/types/auth-user.js'?
server/middleware/secureAuth.ts(30,22): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/secureAuth.ts(30,22): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/secureAuth.ts(90,5): error TS2741: Property 'id' is missing in type 'TokenPayload' but required in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/middleware/secureAuth.ts(136,5): error TS2741: Property 'id' is missing in type 'TokenPayload' but required in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/middleware/secureAuth.ts(152,10): error TS7030: Not all code paths return a value.
server/middleware/secureAuth.ts(171,36): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/middleware/secureAuth.ts(190,11): error TS7030: Not all code paths return a value.
server/middleware/secureAuth.ts(215,50): error TS6133: 'res' is declared but its value is never read.
server/middleware/securityAuditLogger.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/middleware/securityAuditLogger.ts(3,34): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/middleware/securityAuditLogger.ts(57,13): error TS2322: Type 'string' is not assignable to type 'number'.
server/middleware/securityAuditLogger.ts(61,38): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/middleware/securityAuditLogger.ts(194,48): error TS6133: 'res' is declared but its value is never read.
server/middleware/securityAuditLogger.ts(197,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/middleware/securityAuditLogger.ts(200,32): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/middleware/sessionTracking.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db-connection.js'?
server/middleware/sessionTracking.ts(3,30): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/middleware/sessionTracking.ts(15,55): error TS6133: 'res' is declared but its value is never read.
server/middleware/sessionTracking.ts(21,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/middleware/sessionTracking.ts(22,32): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/middleware/subscription-limits.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/middleware/subscription-limits.ts(4,45): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/schema.js'?
server/middleware/subscription-limits.ts(5,24): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../utils/logger.js'?
server/middleware/subscription-limits.ts(6,27): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../types/user.js'?
server/middleware/subscription-limits.ts(18,31): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/middleware/subscription-limits.ts(76,11): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type 'JwtUser | undefined' is not assignable to type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined'.
      Type 'JwtUser' is missing the following properties from type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }': id, email, role
server/middleware/subscription-limits.ts(163,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(169,39): error TS2559: Type 'JwtUser' has no properties in common with type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
server/middleware/subscription-limits.ts(193,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(199,39): error TS2559: Type 'JwtUser' has no properties in common with type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
server/middleware/subscription-limits.ts(223,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(229,39): error TS2559: Type 'JwtUser' has no properties in common with type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
server/middleware/subscription-limits.ts(251,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(257,39): error TS2559: Type 'JwtUser' has no properties in common with type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
server/middleware/superadmin.ts(2,28): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/schema.js'?
server/middleware/superadmin.ts(3,26): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../src/types/auth-user.js'?
server/middleware/superadmin.ts(21,13): error TS2310: Type 'Request<P, ResBody, ReqBody, ReqQuery, LocalsObj>' recursively references itself as a base type.
server/middleware/superadmin.ts(25,34): error TS7030: Not all code paths return a value.
server/middleware/superadmin.ts(49,39): error TS7030: Not all code paths return a value.
server/middleware/superadmin.ts(78,33): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/middleware/superadmin.ts(79,50): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/superadminSchema.js'?
server/middleware/unified-monitoring.ts(2,33): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './api-security.js'?
server/middleware/unified-monitoring.ts(3,37): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../routes/health.js'?
server/middleware/unified-monitoring.ts(4,30): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../routes/system-metrics.js'?
server/middleware/unified-monitoring.ts(16,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/unified-monitoring.ts(16,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/unified-monitoring.ts(37,7): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(46,7): error TS2339: Property 'trackQuery' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(47,9): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(48,9): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(51,11): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(78,15): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(79,43): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(80,31): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(80,64): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(92,24): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(99,13): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(102,26): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(103,27): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(104,26): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(143,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/unified-monitoring.ts(143,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/validation.ts(26,4): error TS6133: 'req' is declared but its value is never read.
server/middleware/validation.ts(26,18): error TS6133: 'res' is declared but its value is never read.
server/notificationManager.ts(1,39): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './emailService.js'?
server/notificationManager.ts(2,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './pushNotifications.js'?
server/notificationService.ts(1,27): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './emailService.js'?
server/openai.ts(2,30): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './aiLocations.js'?
server/organizationContext.ts(2,25): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './storage.js'?
server/organizationContext.ts(7,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/organizationContext.ts(7,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/organizationContext.ts(8,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'AuthUser | undefined', but here has type '{ [key: string]: any; id: number; organizationId?: number | null | undefined; role?: string | undefined; } | undefined'.
server/organizationContext.ts(14,7): error TS2687: All declarations of 'organizationId' must have identical modifiers.
server/organizationContext.ts(14,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationId' must be of type 'string', but here has type 'number | null | undefined'.
server/organizationContext.ts(15,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationContext' must be of type '{ organizationId: string; isWhiteLabelDomain: boolean; domainOrganizationId?: string | undefined; } | undefined', but here has type '{ id: number | null; canAccessOrganization: (orgId: number | null) => boolean; enforceOrganizationAccess: (orgId: number | null) => void; } | undefined'.
server/organizationContext.ts(28,61): error TS6133: 'res' is declared but its value is never read.
server/organizationContext.ts(39,32): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/organizationContext.ts(43,9): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(68,18): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(93,3): error TS2322: Type 'T & { organizationId: string | null | undefined; }' is not assignable to type 'T & { organizationId?: number | null | undefined; }'.
  Type 'T & { organizationId: string | null | undefined; }' is not assignable to type '{ organizationId?: number | null | undefined; }'.
    Types of property 'organizationId' are incompatible.
      Type 'string | null | undefined' is not assignable to type 'number | null | undefined'.
        Type 'string' is not assignable to type 'number'.
server/organizationContext.ts(102,17): error TS7030: Not all code paths return a value.
server/organizationContext.ts(103,12): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(152,13): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(153,11): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/permissions.ts(145,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db.js'?
server/permissions.ts(146,49): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/predictiveAI.ts(2,36): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './weather.js'?
server/proposalGenerator.ts(2,32): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/rbac.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db-connection.js'?
server/rbac.ts(3,49): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/rbac.ts(5,70): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/rbac.ts(92,35): error TS2345: Argument of type 'string' is not assignable to parameter of type '"view_analytics" | "manage_users" | "manage_organizations" | "export_data"'.
server/rbac.ts(98,35): error TS2345: Argument of type 'string' is not assignable to parameter of type '"delete_trip" | "view_trip" | "edit_trip" | "manage_collaborators" | "add_activities" | "edit_activities" | "delete_activities" | "add_notes" | "edit_notes" | "export_trip"'.
server/rbac.ts(135,10): error TS7030: Not all code paths return a value.
server/rbac.ts(136,18): error TS2352: Conversion of type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' to type 'AuthenticatedUser' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is missing the following properties from type 'AuthenticatedUser': auth_id, username
server/rbac.ts(156,10): error TS7030: Not all code paths return a value.
server/rbac.ts(157,18): error TS2352: Conversion of type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' to type 'AuthenticatedUser' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is missing the following properties from type 'AuthenticatedUser': auth_id, username
server/rbac.ts(184,8): error TS2352: Conversion of type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' to type 'UserWithTripRole' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is missing the following properties from type 'UserWithTripRole': auth_id, username
server/routes/admin-analytics.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/admin-analytics.ts(3,57): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/admin-analytics.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/admin-analytics.ts(53,35): error TS7030: Not all code paths return a value.
server/routes/admin-analytics.ts(109,57): error TS7006: Parameter 'tier' implicitly has an 'any' type.
server/routes/admin-analytics.ts(139,28): error TS7006: Parameter 'trip' implicitly has an 'any' type.
server/routes/admin-analytics.ts(145,28): error TS7006: Parameter 'user' implicitly has an 'any' type.
server/routes/admin-analytics.ts(156,45): error TS7006: Parameter 'day' implicitly has an 'any' type.
server/routes/admin-analytics.ts(193,51): error TS7030: Not all code paths return a value.
server/routes/admin-analytics.ts(220,40): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/admin-settings.ts(4,46): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/admin-settings.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/admin-settings.ts(83,34): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(110,34): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(165,46): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(206,30): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(245,37): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(258,32): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/admin.temp.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/admin.temp.ts(3,122): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/admin.temp.ts(4,27): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/auditLog.js'?
server/routes/admin.temp.ts(8,44): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/validation.js'?
server/routes/admin.temp.ts(11,22): error TS6133: 'role' is declared but its value is never read.
server/routes/admin.temp.ts(11,40): error TS6133: 'req' is declared but its value is never read.
server/routes/admin.temp.ts(11,54): error TS6133: 'res' is declared but its value is never read.
server/routes/admin.temp.ts(88,30): error TS2769: No overload matches this call.
  Overload 1 of 2, '(values: readonly [string, ...string[]], params?: RawCreateParams): ZodEnum<[string, ...string[]]>', gave the following error.
    Argument of type '[string, string, string, string, string, string, string, null]' is not assignable to parameter of type 'readonly [string, ...string[]]'.
      Type at positions 1 through 7 in source is not compatible with type at position 1 in target.
        Type 'null' is not assignable to type 'string'.
  Overload 2 of 2, '(values: [string, ...string[]], params?: RawCreateParams): ZodEnum<[string, ...string[]]>', gave the following error.
    Argument of type '[string, string, string, string, string, string, string, null]' is not assignable to parameter of type '[string, ...string[]]'.
      Type at positions 1 through 7 in source is not compatible with type at position 1 in target.
        Type 'null' is not assignable to type 'string'.
server/routes/admin.temp.ts(129,17): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/admin.temp.ts(150,3): error TS7030: Not all code paths return a value.
server/routes/admin.temp.ts(173,19): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/admin.temp.ts(222,17): error TS7006: Parameter 'rows' implicitly has an 'any' type.
server/routes/admin.ts(6,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/db.js'?
server/routes/admin.ts(7,89): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/schema.js'?
server/routes/admin.ts(9,44): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/validation.js'?
server/routes/admin.ts(10,29): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../auditLogger.js'?
server/routes/admin.ts(11,57): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/admin.ts(244,17): error TS7006: Parameter 'org' implicitly has an 'any' type.
server/routes/admin.ts(244,24): error TS7031: Binding element 'eq' implicitly has an 'any' type.
server/routes/admin.ts(399,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/admin.ts(408,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/admin.ts(535,13): error TS7006: Parameter 'rows' implicitly has an 'any' type.
server/routes/admin.ts(538,15): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/admin.ts(538,22): error TS7031: Binding element 'and' implicitly has an 'any' type.
server/routes/admin.ts(538,27): error TS7031: Binding element 'eq' implicitly has an 'any' type.
server/routes/admin.ts(538,31): error TS7031: Binding element 'gte' implicitly has an 'any' type.
server/routes/admin.ts(538,36): error TS7031: Binding element 'lte' implicitly has an 'any' type.
server/routes/admin.ts(546,17): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/admin.ts(546,24): error TS7031: Binding element 'desc' implicitly has an 'any' type.
server/routes/ai.ts(3,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/ai.ts(6,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/ai.ts(7,35): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/ai.ts(9,30): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../aiLocations.js'?
server/routes/ai.ts(88,31): error TS7030: Not all code paths return a value.
server/routes/ai.ts(128,12): error TS7006: Parameter 'activity' implicitly has an 'any' type.
server/routes/ai.ts(164,30): error TS7030: Not all code paths return a value.
server/routes/ai.ts(247,36): error TS7030: Not all code paths return a value.
server/routes/ai.ts(284,12): error TS7006: Parameter 'activity' implicitly has an 'any' type.
server/routes/ai.ts(347,36): error TS7030: Not all code paths return a value.
server/routes/ai.ts(420,35): error TS7030: Not all code paths return a value.
server/routes/ai.ts(489,32): error TS7030: Not all code paths return a value.
server/routes/alerts.ts(5,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/alerts.ts(6,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/alerts.ts(7,31): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/alerts.ts(253,56): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/alerts.ts(279,7): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/alerts.ts(338,134): error TS7030: Not all code paths return a value.
server/routes/alerts.ts(360,135): error TS6133: 'req' is declared but its value is never read.
server/routes/alerts.ts(399,124): error TS6133: 'req' is declared but its value is never read.
server/routes/analytics.ts(3,38): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationRoleMiddleware.js'?
server/routes/analytics.ts(4,67): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/analytics.ts(5,40): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/subscription-limits.js'?
server/routes/analytics.ts(6,36): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../analytics-simple.js'?
server/routes/analytics.ts(14,43): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(22,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/analytics.ts(32,25): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(38,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/analytics.ts(48,23): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(63,78): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(83,64): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(89,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(26,37): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(27,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(31,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(57,30): error TS2339: Property 'display_name' does not exist on type 'PgTableWithColumns<{ name: "users"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn<...>; }...'.
server/routes/approvals.ts(64,29): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<....'. Did you mean 'organizationId'?
server/routes/approvals.ts(77,51): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(78,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(83,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(102,9): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/approvals.ts(103,29): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<....'. Did you mean 'organizationId'?
server/routes/approvals.ts(133,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/approvals.ts(145,31): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(147,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(151,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(160,7): error TS2345: Argument of type 'Record<string, any> | undefined' is not assignable to parameter of type 'Record<string, any>'.
  Type 'undefined' is not assignable to type 'Record<string, any>'.
server/routes/approvals.ts(171,83): error TS2345: Argument of type 'Record<string, any> | undefined' is not assignable to parameter of type 'Record<string, any>'.
  Type 'undefined' is not assignable to type 'Record<string, any>'.
server/routes/approvals.ts(176,8): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: SQL<unknown> | "create" | "delete" | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'number | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any> | null | undefined'.
      Type 'number' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any> | null | undefined'.
  Overload 2 of 2, '(values: { organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: SQL<unknown> | "create" | "delete" | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'organizationId' does not exist in type '{ organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: SQL<unknown> | "create" | "delete" | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }[]'.
server/routes/approvals.ts(199,35): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(200,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(204,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(215,31): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_rules"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_rules"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 10 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/routes/approvals.ts(222,36): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(224,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(228,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(268,24): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_rules"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_rules"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 10 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/routes/approvals.ts(282,9): error TS2322: Type 'string' is not assignable to type 'number'.
server/routes/approvals.ts(330,3): error TS6133: 'entityType' is declared but its value is never read.
server/routes/approvals.ts(331,3): error TS6133: 'proposedData' is declared but its value is never read.
server/routes/approvals.ts(338,16): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "users"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/routes/approvals.ts(343,3): error TS2322: Type '{ id: string; }' is not assignable to type '{ id: number; }'.
  Types of property 'id' are incompatible.
    Type 'string' is not assignable to type 'number'.
server/routes/approvals.ts(374,15): error TS2561: Object literal may only specify known properties, but 'approved_by' does not exist in type '{ userId?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; organizationId?: string | SQL<...> | PgColumn<...> | undefined; ... 16 more ...; reimbursedAt?: Date | ... 3 more ... | undefined; }'. Did you mean to write 'approvedBy'?
server/routes/auth.ts(3,31): error TS2307: Cannot find module '../src/auth/auth.container' or its corresponding type declarations.
server/routes/auth.ts(12,8): error TS2307: Cannot find module '../src/auth/dtos/auth.dto' or its corresponding type declarations.
server/routes/billing.ts(22,17): error TS7030: Not all code paths return a value.
server/routes/billing.ts(24,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/billing.ts(29,32): error TS2339: Property 'organizations' does not exist on type '{}'.
server/routes/billing.ts(30,44): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/billing.ts(62,51): error TS2339: Property 'current_period_end' does not exist on type 'Response<Subscription>'.
server/routes/billing.ts(87,30): error TS7030: Not all code paths return a value.
server/routes/billing.ts(100,21): error TS7053: Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ free: { id: string; name: string; price: number; interval: string; features: string[]; stripePriceId: null; }; team: { id: string; name: string; price: number; interval: string; features: string[]; stripePriceId: string | undefined; }; enterprise: { ...; }; }'.
server/routes/billing.ts(106,32): error TS2339: Property 'organizations' does not exist on type '{}'.
server/routes/billing.ts(123,16): error TS2561: Object literal may only specify known properties, but 'stripe_customer_id' does not exist in type '{ name?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; slug?: string | SQL<unknown> | PgColumn<...> | undefined; ... 17 more ...; updatedAt?: Date | ... 2 more ... | undefined; }'. Did you mean to write 'stripeCustomerId'?
server/routes/billing.ts(145,16): error TS2561: Object literal may only specify known properties, but 'stripe_subscription_id' does not exist in type '{ name?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; slug?: string | SQL<unknown> | PgColumn<...> | undefined; ... 17 more ...; updatedAt?: Date | ... 2 more ... | undefined; }'. Did you mean to write 'stripeSubscriptionId'?
server/routes/billing.ts(166,24): error TS7030: Not all code paths return a value.
server/routes/bookings.ts(1,76): error TS2724: '"express"' has no exported member named 'RequestHandlerParams'. Did you mean 'RequestHandler'?
server/routes/bookings.ts(8,26): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../src/types/auth-user.js'?
server/routes/bookings.ts(14,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/routes/bookings.ts(14,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/routes/bookings.ts(17,7): error TS2687: All declarations of 'organizationFilter' must have identical modifiers.
server/routes/bookings.ts(17,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationFilter' must be of type 'any', but here has type '(orgId: string | null) => boolean'.
server/routes/bookings.ts(51,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(51,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(51,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(85,18): error TS2345: Argument of type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type '(req: Request<any, any, any, any, Record<string, any>>, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<...>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type 'AuthenticatedRequest<any, any, any, any>'.
      Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type '{ user: AuthUser; organizationId: string; }'.
        Types of property 'user' are incompatible.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type 'AuthUser'.
            Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/bookings.ts(85,18): error TS7030: Not all code paths return a value.
server/routes/bookings.ts(97,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'string | null' is not assignable to parameter of type 'string | SQLWrapper'.
      Type 'null' is not assignable to type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<string | null>, right: string | SQLWrapper | null): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string | null>'.
      Type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string | null>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/bookings.ts(114,48): error TS2339: Property 'createBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(133,48): error TS2339: Property 'createHotelBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(183,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(183,41): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(183,46): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(206,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(206,41): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(206,46): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(240,3): error TS2304: Cannot find name 'route'.
server/routes/bookings.ts(240,39): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(240,44): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(267,32): error TS2339: Property 'cancelBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(295,5): error TS2304: Cannot find name 'route'.
server/routes/bookings.ts(295,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(295,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(311,5): error TS2304: Cannot find name 'route'.
server/routes/bookings.ts(311,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(311,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(335,29): error TS2339: Property 'startDate' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'.
server/routes/bookings.ts(344,18): error TS2345: Argument of type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type '(req: Request<any, any, any, any, Record<string, any>>, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<...>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type 'AuthenticatedRequest<any, any, any, any>'.
      Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type '{ user: AuthUser; organizationId: string; }'.
        Types of property 'user' are incompatible.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type 'AuthUser'.
            Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/bookings.ts(344,18): error TS7030: Not all code paths return a value.
server/routes/bookings.ts(355,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'string | null' is not assignable to parameter of type 'string | SQLWrapper'.
      Type 'null' is not assignable to type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<string | null>, right: string | SQLWrapper | null): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string | null>'.
      Type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string | null>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/bookings.ts(383,5): error TS2304: Cannot find name 'route'.
server/routes/bookings.ts(383,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(383,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/calendar.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/calendar.ts(4,57): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/calendar.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/calendar.ts(17,39): error TS7030: Not all code paths return a value.
server/routes/calendar.ts(19,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(23,40): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/calendar.ts(24,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(61,29): error TS7030: Not all code paths return a value.
server/routes/calendar.ts(63,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(68,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(92,35): error TS7030: Not all code paths return a value.
server/routes/calendar.ts(94,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(98,40): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/calendar.ts(99,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(174,33): error TS6133: 'index' is declared but its value is never read.
server/routes/calendar.ts(216,27): error TS7006: Parameter 'activity' implicitly has an 'any' type.
server/routes/collaboration.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/collaboration.ts(4,82): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/collaboration.ts(7,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/collaboration.ts(12,107): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(14,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(19,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(67,40): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(69,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(74,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(108,35): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/collaboration.ts(154,46): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(156,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(161,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(195,39): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(197,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(202,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/corporateCards.ts(3,57): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/corporateCards.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/corporateCards.ts(16,32): error TS2551: Property 'organization' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(55,32): error TS2551: Property 'organization' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(98,32): error TS2551: Property 'organization' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(138,32): error TS2551: Property 'organization' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(184,32): error TS2551: Property 'organization' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(334,75): error TS7030: Not all code paths return a value.
server/routes/corporateCards.ts(378,35): error TS7006: Parameter 'c' implicitly has an 'any' type.
server/routes/corporateCards.ts(379,38): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/corporateCards.ts(379,43): error TS7006: Parameter 'card' implicitly has an 'any' type.
server/routes/corporateCards.ts(380,41): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/corporateCards.ts(380,46): error TS7006: Parameter 'card' implicitly has an 'any' type.
server/routes/corporateCards.ts(391,48): error TS6133: 'req' is declared but its value is never read.
server/routes/corporateCards.ts(402,57): error TS6133: 'req' is declared but its value is never read.
server/routes/domains.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/domains.ts(3,66): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/domains.ts(8,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/domains.ts(31,5): error TS2769: No overload matches this call.
  Overload 1 of 6, '(path: PathParams, ...handlers: RequestHandler<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ domains: Domain[]; }>) => Promise<Response<{ domains: Domain[]; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 6, '(path: PathParams, ...handlers: RequestHandlerParams<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ domains: Domain[]; }>) => Promise<Response<{ domains: Domain[]; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ domains: Domain[]; }>) => Promise<Response<{ domains: Domain[]; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(31,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(33,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ domains: Domain[]; }'.
server/routes/domains.ts(38,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ domains: Domain[]; }'.
server/routes/domains.ts(59,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ domains: Domain[]; }'.
server/routes/domains.ts(66,5): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; domain: Domain; }>) => Promise<Response<{ success: boolean; domain: Domain; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; domain: Domain; }>) => Promise<Response<{ success: boolean; domain: Domain; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ success: boolean; domain: Domain; }>) => Promise<Response<{ success: boolean; domain: Domain; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(66,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(68,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(73,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(79,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(93,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(101,11): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(127,9): error TS2353: Object literal may only specify known properties, and 'verification' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(136,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(143,5): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(143,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(145,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(162,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(189,11): error TS2353: Object literal may only specify known properties, and 'nextSteps' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(196,11): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(202,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(209,5): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(209,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(211,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(227,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(236,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(243,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(296,5): error TS2769: No overload matches this call.
  Overload 1 of 6, '(path: PathParams, ...handlers: RequestHandler<{}, any, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{}, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{}, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 6, '(path: PathParams, ...handlers: RequestHandlerParams<{}, any, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{}, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{}, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{}, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(296,5): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(4,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/expenses.ts(5,40): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/expenses.ts(7,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/expenses.ts(9,32): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../approvalEngine.js'?
server/routes/expenses.ts(44,17): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(46,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(50,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(95,36): error TS7006: Parameter 'row' implicitly has an 'any' type.
server/routes/expenses.ts(127,22): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(129,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(133,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(144,7): error TS2322: Type 'SQL<unknown> | undefined' is not assignable to type 'SQL<unknown>'.
  Type 'undefined' is not assignable to type 'SQL<unknown>'.
server/routes/expenses.ts(199,18): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(201,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(205,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(267,29): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(269,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(274,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(336,38): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(338,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(343,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(393,36): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(395,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(400,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(435,23): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(437,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(441,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(499,38): error TS7006: Parameter 'row' implicitly has an 'any' type.
server/routes/expenses.ts(522,43): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/expenses.ts(522,48): error TS7006: Parameter 'row' implicitly has an 'any' type.
server/routes/expenses.ts(523,40): error TS7006: Parameter 'acc' implicitly has an 'any' type.
server/routes/expenses.ts(523,45): error TS7006: Parameter 'row' implicitly has an 'any' type.
server/routes/expenses.ts(527,42): error TS7006: Parameter 'acc' implicitly has an 'any' type.
server/routes/expenses.ts(527,47): error TS7006: Parameter 'row' implicitly has an 'any' type.
server/routes/export.ts(3,44): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/inputValidation.js'?
server/routes/export.ts(5,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/export.ts(6,50): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../utils/exporters.js'?
server/routes/export.ts(7,29): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../services/tripService.js'?
server/routes/export.ts(19,92): error TS7030: Not all code paths return a value.
server/routes/export.ts(33,92): error TS7030: Not all code paths return a value.
server/routes/flights.ts(126,28): error TS2352: Conversion of type 'DuffelFlightOffer[]' to type 'DuffelOffer[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'passenger_identity_documents_required' is missing in type 'DuffelFlightOffer' but required in type 'DuffelOffer'.
server/routes/flights.ts(185,34): error TS2339: Property 'cabin_class' does not exist on type 'DuffelPassenger'.
server/routes/flights.ts(186,30): error TS2339: Property 'baggages' does not exist on type 'DuffelPassenger'.
server/routes/flights.ts(186,44): error TS7006: Parameter 'baggage' implicitly has an 'any' type.
server/routes/flights.ts(192,42): error TS2339: Property 'conditions' does not exist on type 'DuffelOffer'.
server/routes/flights.ts(193,42): error TS2339: Property 'conditions' does not exist on type 'DuffelOffer'.
server/routes/flights.ts(194,42): error TS2339: Property 'conditions' does not exist on type 'DuffelOffer'.
server/routes/invoices.ts(85,3): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/invoices.ts(85,3): error TS7030: Not all code paths return a value.
server/routes/invoices.ts(118,41): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/invoices.ts(118,41): error TS7030: Not all code paths return a value.
server/routes/invoices.ts(156,41): error TS2339: Property 'invoiceNumber' does not exist on type '{ id: string; number: string; proposalId: string | null; organizationId: string; createdById: string | null; clientName: string; clientEmail: string; status: "paid" | "cancelled" | "draft" | ... 4 more ... | null; ... 18 more ...; updatedAt: Date; }'.
server/routes/notifications.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/notifications.ts(3,31): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/notifications.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/notifications.ts(16,17): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(29,50): error TS7006: Parameter 'n' implicitly has an 'any' type.
server/routes/notifications.ts(48,25): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(75,31): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(97,22): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(109,33): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(33,36): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(35,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(39,85): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(48,45): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(50,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(57,16): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(73,46): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(75,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(86,16): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(103,44): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(105,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(109,81): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(118,44): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(120,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(127,32): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(143,40): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(145,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(156,16): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationMembers.ts(8,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/organizationMembers.ts(9,44): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/organizationMembers.ts(11,38): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationRoleMiddleware.js'?
server/routes/organizationMembers.ts(12,69): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../rbac/organizationRoles.js'?
server/routes/organizationMembers.ts(14,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/organizationMembers.ts(25,24): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/organizationMembers.ts(25,24): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(56,49): error TS7006: Parameter 'member' implicitly has an 'any' type.
server/routes/organizationMembers.ts(64,37): error TS7006: Parameter 'm' implicitly has an 'any' type.
server/routes/organizationMembers.ts(81,71): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<any, any, any, any, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<any, any, any, any, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<any, any, any, any, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(81,71): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(91,28): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(94,81): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(177,73): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<any, any, any, any, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<any, any, any, any, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<any, any, any, any, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(177,73): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(203,30): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(206,97): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(265,76): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<any, any, any, any, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<any, any, any, any, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<any, any, any, any, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(265,76): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(315,22): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<void>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/organizationMembers.ts(326,10): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(326,43): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(331,26): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizations.ts(3,42): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/organizations.ts(5,38): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationRoleMiddleware.js'?
server/routes/organizations.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/organizations.ts(7,44): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/inputValidation.js'?
server/routes/organizations.ts(8,25): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../storage.js'?
server/routes/organizations.ts(9,42): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../analytics.js'?
server/routes/organizations.ts(10,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/organizations.ts(11,23): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/organizations.ts(40,22): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(47,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/routes/organizations.ts(48,26): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(53,38): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(91,78): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(114,165): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(142,124): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(161,156): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(176,28): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(190,172): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(219,145): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(231,30): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(248,130): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(267,24): error TS7030: Not all code paths return a value.
server/routes/payments.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/db.js'?
server/routes/payments.ts(4,24): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../stripe.js'?
server/routes/payments.ts(5,26): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/invoiceSchema.js'?
server/routes/payments.ts(6,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/superadminSchema.js'?
server/routes/payments.ts(11,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/payments.ts(12,24): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../utils/logger.js'?
server/routes/payments.ts(13,30): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/db.js'?
server/routes/payments.ts(56,52): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/payments.ts(56,52): error TS7030: Not all code paths return a value.
server/routes/payments.ts(71,15): error TS7006: Parameter 'invoices' implicitly has an 'any' type.
server/routes/payments.ts(71,27): error TS7031: Binding element 'eq' implicitly has an 'any' type.
server/routes/payments.ts(102,15): error TS7006: Parameter 'invoices' implicitly has an 'any' type.
server/routes/payments.ts(102,27): error TS7031: Binding element 'eq' implicitly has an 'any' type.
server/routes/payments.ts(144,25): error TS7030: Not all code paths return a value.
server/routes/payments.ts(336,16): error TS2339: Property 'subscription' does not exist on type 'Invoice'.
server/routes/payments.ts(339,70): error TS2339: Property 'subscription' does not exist on type 'Invoice'.
server/routes/payments.ts(376,15): error TS7006: Parameter 'invoices' implicitly has an 'any' type.
server/routes/payments.ts(376,27): error TS7031: Binding element 'eq' implicitly has an 'any' type.
server/routes/performance.ts(7,36): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../performance-monitor.js'?
server/routes/performance.ts(9,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/performance.ts(17,37): error TS7030: Not all code paths return a value.
server/routes/performance.ts(36,46): error TS7030: Not all code paths return a value.
server/routes/performance.ts(49,46): error TS7006: Parameter 'a' implicitly has an 'any' type.
server/routes/performance.ts(66,44): error TS7030: Not all code paths return a value.
server/routes/performance.ts(84,53): error TS7030: Not all code paths return a value.
server/routes/performance.ts(105,46): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(2,69): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/proposalSchema.js'?
server/routes/proposals.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/proposals.ts(5,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/proposals.ts(6,44): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/inputValidation.js'?
server/routes/proposals.ts(19,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/proposals.ts(44,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/proposals.ts(66,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(66,3): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(92,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(92,3): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(120,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(120,3): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(154,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(154,3): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/reporting.ts(5,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/reporting.ts(14,8): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/reporting.ts(24,26): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(26,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(30,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(86,34): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(88,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(92,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(136,49): error TS7006: Parameter 'trip' implicitly has an 'any' type.
server/routes/reporting.ts(149,49): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/reporting.ts(149,54): error TS7006: Parameter 't' implicitly has an 'any' type.
server/routes/reporting.ts(150,56): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/reporting.ts(150,61): error TS7006: Parameter 't' implicitly has an 'any' type.
server/routes/reporting.ts(151,41): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/reporting.ts(151,46): error TS7006: Parameter 't' implicitly has an 'any' type.
server/routes/reporting.ts(162,37): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(164,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(168,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(217,35): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(219,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(223,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(267,24): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(269,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(273,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(429,38): error TS7006: Parameter 's' implicitly has an 'any' type.
server/routes/reporting.ts(430,39): error TS7006: Parameter 's' implicitly has an 'any' type.
server/routes/reporting.ts(431,39): error TS7006: Parameter 's' implicitly has an 'any' type.
server/routes/reporting.ts(528,53): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/reporting.ts(528,58): error TS7006: Parameter 't' implicitly has an 'any' type.
server/routes/reporting.ts(611,57): error TS7006: Parameter 'sum' implicitly has an 'any' type.
server/routes/reporting.ts(611,62): error TS7006: Parameter 'e' implicitly has an 'any' type.
server/routes/reporting.ts(623,42): error TS6133: 'organizationId' is declared but its value is never read.
server/routes/reporting.ts(623,66): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(623,83): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(654,56): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(654,76): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(663,59): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(663,79): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(673,59): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(673,79): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(683,61): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(683,81): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(705,34): error TS6133: 'organizationId' is declared but its value is never read.
server/routes/security.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db-connection.js'?
server/routes/security.ts(3,67): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/security.ts(6,36): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/sessionTracking.js'?
server/routes/security.ts(8,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/security.ts(32,23): error TS7030: Not all code paths return a value.
server/routes/security.ts(34,38): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/security.ts(54,48): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/security.ts(67,83): error TS7006: Parameter 'p' implicitly has an 'any' type.
server/routes/security.ts(73,44): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/security.ts(92,49): error TS7006: Parameter 'log' implicitly has an 'any' type.
server/routes/security.ts(118,24): error TS7030: Not all code paths return a value.
server/routes/security.ts(120,38): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/security.ts(201,30): error TS7030: Not all code paths return a value.
server/routes/security.ts(203,38): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/security.ts(242,44): error TS7006: Parameter 'action' implicitly has an 'any' type.
server/routes/security.ts(274,41): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/stripeOAuth.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/stripeOAuth.ts(4,31): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/stripeOAuth.ts(14,3): error TS2322: Type '"2025-04-30.basil"' is not assignable to type '"2025-05-28.basil"'.
server/routes/stripeOAuth.ts(20,31): error TS7030: Not all code paths return a value.
server/routes/stripeOAuth.ts(61,33): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(3,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/subscription-limits.js'?
server/routes/subscription-status.ts(11,17): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(13,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(17,57): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(26,29): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(28,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(32,54): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(40,29): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(42,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(46,54): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/superadmin.new.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/superadmin.new.ts(6,43): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/superadmin.new.ts(9,33): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.new.ts(10,25): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.new.ts(11,27): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.new.ts(12,32): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.new.ts(13,29): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.new.ts(14,29): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.new.ts(59,26): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/superadmin.ts(3,27): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/auditLog.js'?
server/routes/superadmin.ts(5,62): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/superadmin.js'?
server/routes/superadmin.ts(6,43): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/superadmin.ts(9,33): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.ts(10,25): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.ts(11,27): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.ts(12,32): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.ts(13,29): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.ts(14,29): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin.ts(119,26): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/audit-logs/audit-service.ts(1,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/routes/superadmin/audit-logs/audit-service.ts(51,32): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(52,36): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(53,37): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(54,34): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(60,39): error TS2304: Cannot find name 'and'.
server/routes/superadmin/audit-logs/audit-service.ts(61,16): error TS2304: Cannot find name 'desc'.
server/routes/superadmin/audit-logs/audit-service.ts(61,41): error TS2551: Property 'created_at' does not exist on type 'PgTableWithColumns<{ name: "audit_logs"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "audit_logs"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 8 more ...; createdAt: PgColum...'. Did you mean 'createdAt'?
server/routes/superadmin/audit-logs/audit-service.ts(66,24): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(68,39): error TS2304: Cannot find name 'and'.
server/routes/superadmin/audit-logs/audit-service.ts(69,13): error TS7006: Parameter 'rows' implicitly has an 'any' type.
server/routes/superadmin/audit-logs/index.ts(3,30): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './audit-service.js'?
server/routes/superadmin/billing/controllers.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/routes/superadmin/billing/controllers.ts(3,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db/schema.js'?
server/routes/superadmin/billing/controllers.ts(4,27): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin/billing/controllers.ts(12,37): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../audit-logs/audit-service.js'?
server/routes/superadmin/billing/controllers.ts(13,38): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../middleware/superadmin.js'?
server/routes/superadmin/billing/controllers.ts(16,42): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/billing/controllers.ts(62,39): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(138,39): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(227,28): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(264,7): error TS2353: Object literal may only specify known properties, and 'coupon' does not exist in type 'SubscriptionUpdateParams'.
server/routes/superadmin/billing/controllers.ts(269,44): error TS2339: Property 'id' does not exist on type 'string | Discount'.
  Property 'id' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(270,48): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(271,46): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(272,58): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(272,107): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(273,72): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(273,121): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(274,70): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(274,119): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(275,66): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(275,115): error TS2339: Property 'coupon' does not exist on type 'string | Discount'.
  Property 'coupon' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(277,47): error TS2339: Property 'start' does not exist on type 'string | Discount'.
  Property 'start' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(278,45): error TS2339: Property 'end' does not exist on type 'string | Discount'.
  Property 'end' does not exist on type 'string'.
server/routes/superadmin/billing/controllers.ts(309,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(350,33): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(441,40): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(500,28): error TS7030: Not all code paths return a value.
server/routes/superadmin/dashboard/index.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/routes/superadmin/dashboard/index.ts(3,38): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db/schema.js'?
server/routes/superadmin/dashboard/index.ts(4,37): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin/dashboard/index.ts(10,33): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/dashboard/index.ts(65,24): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/feature-flags/controllers.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/routes/superadmin/feature-flags/controllers.ts(4,3): error TS2305: Module '"../../../db/schema.js"' has no exported member 'superadminFeatureFlags'.
server/routes/superadmin/feature-flags/controllers.ts(5,3): error TS2305: Module '"../../../db/schema.js"' has no exported member 'organizationFeatureFlags'.
server/routes/superadmin/feature-flags/controllers.ts(9,37): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../audit-logs/audit-service.js'?
server/routes/superadmin/feature-flags/controllers.ts(12,39): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/feature-flags/controllers.ts(27,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(73,35): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(94,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(145,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(189,44): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(226,38): error TS7006: Parameter 'flag' implicitly has an 'any' type.
server/routes/superadmin/feature-flags/controllers.ts(239,43): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(330,46): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/index.ts(3,41): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './controllers.js'?
server/routes/superadmin/feature-flags/index.ts(4,41): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './validators.js'?
server/routes/superadmin/organizations/controllers.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/routes/superadmin/organizations/controllers.ts(5,37): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../audit-logs/audit-service.js'?
server/routes/superadmin/organizations/controllers.ts(8,40): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/users/controllers.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/routes/superadmin/users/controllers.ts(3,52): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db/schema.js'?
server/routes/superadmin/users/controllers.ts(5,37): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../audit-logs/audit-service.js'?
server/routes/superadmin/users/controllers.ts(6,30): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../utils/auth.js'?
server/routes/superadmin/users/index.ts(3,34): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './controllers.js'?
server/routes/superadmin/users/index.ts(4,34): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './validators.js'?
server/routes/system-metrics.ts(3,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/system-metrics.ts(6,52): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './alerts.js'?
server/routes/system-metrics.ts(178,64): error TS6133: 'req' is declared but its value is never read.
server/routes/system-metrics.ts(267,65): error TS6133: 'req' is declared but its value is never read.
server/routes/system-metrics.ts(278,71): error TS6133: 'req' is declared but its value is never read.
server/routes/test.routes.ts(3,26): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../utils/validation.js'?
server/routes/test.routes.ts(21,29): error TS6133: 'req' is declared but its value is never read.
server/routes/test.routes.ts(60,23): error TS6133: 'req' is declared but its value is never read.
server/routes/test.routes.ts(60,28): error TS6133: 'res' is declared but its value is never read.
server/routes/trips.ts(7,42): error TS2307: Cannot find module '../middleware/fieldTransform.js' or its corresponding type declarations.
server/routes/trips.ts(18,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/routes/trips.ts(18,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/routes/trips.ts(19,7): error TS2687: All declarations of 'user' must have identical modifiers.
server/routes/trips.ts(19,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'AuthUser | undefined', but here has type '{ userId: string; organizationId: string; role: string; email: string; displayName?: string | undefined; }'.
server/routes/trips.ts(83,20): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(83,29): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(84,19): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(97,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(113,20): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(113,29): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(114,19): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(127,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(143,20): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(143,29): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(144,19): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(157,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(173,18): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, { [key: string]: string | string[] | undefined; }, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, { [key: string]: string | string[] | undefined; }, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, { [key: string]: string | string[] | undefined; }, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type 'JwtUser | undefined'.
                Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' has no properties in common with type 'JwtUser'.
server/routes/trips.ts(177,16): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(177,25): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(178,24): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(185,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(185,16): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(187,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(187,7): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/trips.ts(214,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(215,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(228,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(228,16): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(230,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(230,7): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/trips.ts(257,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(258,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(269,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(269,16): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(271,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(271,7): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/trips.ts(295,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(296,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(334,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(335,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(345,21): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(345,30): error TS2339: Property 'displayName' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(345,59): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(346,18): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(346,27): error TS2339: Property 'displayName' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(388,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(389,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(413,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(414,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/v1/index.ts(12,11): error TS6133: 'req' is declared but its value is never read.
server/routes/v1/index.ts(36,30): error TS6133: 'req' is declared but its value is never read.
server/routes/v1/index.ts(50,23): error TS6133: 'req' is declared but its value is never read.
server/routes/webhooks.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/webhooks.ts(5,40): error TS2307: Cannot find module '../src/email/services/nodemailer-email.service' or its corresponding type declarations.
server/routes/webhooks.ts(7,26): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/invoiceSchema.js'?
server/routes/webhooks.ts(8,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/schema.js'?
server/routes/webhooks.ts(9,24): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../stripe.js'?
server/routes/webhooks.ts(14,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/routes/webhooks.ts(14,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/routes/webhooks.ts(37,13): error TS2310: Type 'Request<P, ResBody, ReqBody, ReqQuery, LocalsObj>' recursively references itself as a base type.
server/routes/webhooks.ts(123,29): error TS2339: Property 'invoice' does not exist on type 'PaymentIntent'.
server/routes/webhooks.ts(124,52): error TS2339: Property 'invoice' does not exist on type 'PaymentIntent'.
server/routes/webhooks.ts(125,31): error TS2339: Property 'invoice' does not exist on type 'PaymentIntent'.
server/routes/webhooks.ts(126,31): error TS2339: Property 'invoice' does not exist on type 'PaymentIntent'.
server/routes/whiteLabelSimplified.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/whiteLabelSimplified.ts(3,58): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/whiteLabelSimplified.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/whiteLabelSimplified.ts(22,44): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(22,44): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(79,43): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(79,43): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(125,37): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(125,37): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(161,42): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(161,42): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(282,49): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(282,49): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(326,38): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(326,38): error TS7030: Not all code paths return a value.
server/routes/whiteLabelStatus.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/routes/whiteLabelStatus.ts(3,66): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/whiteLabelStatus.ts(6,71): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/organizationContext.js'?
server/routes/whiteLabelStatus.ts(7,41): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../middleware/subscription-limits.js'?
server/routes/whiteLabelStatus.ts(19,38): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelStatus.ts(19,38): error TS7030: Not all code paths return a value.
server/routes/whiteLabelStatus.ts(62,46): error TS7006: Parameter 'domain' implicitly has an 'any' type.
server/services/activity.service.ts(1,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/db.js'?
server/services/activity.service.ts(2,28): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/schema.js'?
server/services/activity.service.ts(4,31): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../types/activity.js'?
server/services/activity.service.ts(18,12): error TS2304: Cannot find name 'ActivityStatus'.
server/services/activity.service.ts(19,10): error TS2304: Cannot find name 'ActivityType'.
server/services/activity.service.ts(38,17): error TS2339: Property 'mapToActivity' does not exist on type '{ create(activityData: Omit<{ [x: string]: any; }, "id" | "createdAt" | "updatedAt">): Promise<Activity>; findById(id: string): Promise<any>; findByTripId(tripId: string, filters?: ActivityFilters): Promise<...>; update(id: string, updates: Partial<...>): Promise<...>; delete(id: string): Promise<...>; exists(id: st...'.
server/services/activity.service.ts(48,28): error TS2339: Property 'mapToActivity' does not exist on type '{ create(activityData: Omit<{ [x: string]: any; }, "id" | "createdAt" | "updatedAt">): Promise<Activity>; findById(id: string): Promise<any>; findByTripId(tripId: string, filters?: ActivityFilters): Promise<...>; update(id: string, updates: Partial<...>): Promise<...>; delete(id: string): Promise<...>; exists(id: st...'.
server/services/activity.service.ts(103,27): error TS2339: Property 'mapToActivity' does not exist on type '{ create(activityData: Omit<{ [x: string]: any; }, "id" | "createdAt" | "updatedAt">): Promise<Activity>; findById(id: string): Promise<any>; findByTripId(tripId: string, filters?: ActivityFilters): Promise<...>; update(id: string, updates: Partial<...>): Promise<...>; delete(id: string): Promise<...>; exists(id: st...'.
server/services/database.service.ts(20,11): error TS2564: Property 'redisClient' has no initializer and is not definitely assigned in the constructor.
server/services/database.service.ts(70,10): error TS2339: Property 'drizzle' does not exist on type 'DatabaseService'.
server/services/database.service.ts(129,5): error TS2322: Type 'QueryResult<any>' is not assignable to type 'QueryResult<T>'.
  Types of property 'rowCount' are incompatible.
    Type 'number | null' is not assignable to type 'number'.
      Type 'null' is not assignable to type 'number'.
server/services/database.service.ts(174,17): error TS2339: Property 'drizzle' does not exist on type 'DatabaseService'.
server/services/duffelFlightService.ts(229,34): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(243,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(320,34): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(334,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(357,42): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(361,44): error TS7006: Parameter 'baggage' implicitly has an 'any' type.
server/services/duffelFlightService.ts(398,29): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(420,43): error TS7006: Parameter 'doc' implicitly has an 'any' type.
server/services/duffelFlightService.ts(424,44): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(430,36): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(432,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(434,48): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(461,29): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(469,43): error TS7006: Parameter 'doc' implicitly has an 'any' type.
server/services/duffelFlightService.ts(473,44): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(479,36): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(481,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(483,48): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(507,34): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(530,30): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(535,32): error TS7006: Parameter 'airport' implicitly has an 'any' type.
server/services/invoicePdfService.ts(3,25): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db/invoiceSchema.js'?
server/services/invoicePdfService.ts(56,5): error TS2740: Type 'Uint8Array' is missing the following properties from type 'Buffer': write, toJSON, equals, compare, and 66 more.
server/services/invoicePdfService.ts(128,27): error TS7006: Parameter 'item' implicitly has an 'any' type.
server/services/organizationFundingService.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/services/organizationFundingService.ts(3,31): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/services/organizationFundingService.ts(253,9): error TS2322: Type '"business_entity"' is not assignable to type 'Type | undefined'.
server/services/performanceOptimizer.ts(55,13): error TS6133: 'req' is declared but its value is never read.
server/services/performanceOptimizer.ts(55,27): error TS6133: 'res' is declared but its value is never read.
server/services/stripeIssuingService.ts(74,11): error TS2322: Type 'string[]' is not assignable to type 'AllowedCategory[]'.
  Type 'string' is not assignable to type 'AllowedCategory'.
server/services/stripeIssuingService.ts(82,11): error TS2322: Type 'string[]' is not assignable to type 'BlockedCategory[]'.
  Type 'string' is not assignable to type 'BlockedCategory'.
server/services/stripeIssuingService.ts(168,33): error TS18047: 'stripe' is possibly 'null'.
server/services/stripeIssuingService.ts(203,13): error TS18047: 'stripe' is possibly 'null'.
server/services/stripeIssuingService.ts(237,13): error TS18047: 'stripe' is possibly 'null'.
server/services/stripeIssuingService.ts(298,43): error TS2551: Property 'authorization_code' does not exist on type 'Authorization'. Did you mean 'authorization_method'?
server/services/stripeIssuingService.ts(337,82): error TS2339: Property 'id' does not exist on type 'string | Card'.
  Property 'id' does not exist on type 'string'.
server/services/stripeIssuingService.ts(339,73): error TS2339: Property 'id' does not exist on type 'string | Card'.
  Property 'id' does not exist on type 'string'.
server/services/stripeIssuingService.ts(349,54): error TS2339: Property 'id' does not exist on type 'string | Authorization'.
  Property 'id' does not exist on type 'string'.
server/services/tripService.ts(1,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../db.js'?
server/simple-server.ts(10,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'NextHandleFunction' is not assignable to parameter of type 'PathParams'.
server/simple-server.ts(11,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'NextHandleFunction' is not assignable to parameter of type 'PathParams'.
server/simple-server.ts(27,21): error TS6133: 'req' is declared but its value is never read.
server/simple-server.ts(36,23): error TS6133: 'req' is declared but its value is never read.
server/simple-server.ts(53,20): error TS6133: 'req' is declared but its value is never read.
server/simple-server.ts(53,40): error TS6133: 'next' is declared but its value is never read.
server/simple-server.ts(59,10): error TS6133: 'req' is declared but its value is never read.
server/smartOptimizer.ts(1,47): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './services/openaiClient.js'?
server/smartOptimizer.ts(2,37): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './services/conflictDetector.js'?
server/smartOptimizer.ts(3,45): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../shared/interfaces.js'?
server/smartOptimizer.ts(306,40): error TS7006: Parameter 'a' implicitly has an 'any' type.
server/smartOptimizer.ts(306,43): error TS7006: Parameter 'b' implicitly has an 'any' type.
server/smartOptimizer.ts(322,32): error TS6133: 'original' is declared but its value is never read.
server/smartOptimizer.ts(322,54): error TS6133: 'optimized' is declared but its value is never read.
server/smartOptimizer.ts(331,34): error TS6133: 'activities' is declared but its value is never read.
server/smartOptimizer.ts(390,45): error TS6133: 'activity' is declared but its value is never read.
server/src/auth/auth.module.ts(4,32): error TS2307: Cannot find module './services/jwtAuthService.js' or its corresponding type declarations.
server/src/auth/auth.routes.ts(4,15): error TS2440: Import declaration conflicts with local declaration of 'CustomRequest'.
server/src/auth/auth.routes.ts(7,32): error TS2307: Cannot find module './services/jwtAuthService.js' or its corresponding type declarations.
server/src/auth/auth.routes.ts(13,10): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'loginSchema'.
server/src/auth/auth.routes.ts(13,23): error TS2724: '"./dtos/auth.dto.js"' has no exported member named 'requestPasswordResetSchema'. Did you mean 'RequestPasswordResetDto'?
server/src/auth/auth.routes.ts(13,51): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'resetPasswordSchema'.
server/src/auth/auth.routes.ts(13,72): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'refreshTokenSchema'.
server/src/auth/auth.routes.ts(13,92): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'logoutSchema'.
server/src/auth/auth.routes.ts(45,6): error TS2300: Duplicate identifier 'ControllerMethod'.
server/src/auth/auth.routes.ts(81,6): error TS2300: Duplicate identifier 'ControllerMethod'.
server/src/auth/auth.routes.ts(102,59): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'CustomRequest'.
  Types of property 'query' are incompatible.
    Type 'ParsedQs' is not assignable to type '{ [key: string]: string | string[] | undefined; }'.
      'string' index signatures are incompatible.
        Type 'string | string[] | ParsedQs | ParsedQs[] | undefined' is not assignable to type 'string | string[] | undefined'.
          Type 'ParsedQs' is not assignable to type 'string | string[] | undefined'.
            Type 'ParsedQs' is missing the following properties from type 'string[]': length, pop, push, concat, and 29 more.
server/src/auth/auth.routes.ts(116,40): error TS2345: Argument of type '(RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | ((req: Request<LoginDto, AuthResponseWithoutRefreshToken | { ...; }, ParsedQs>, res: Response<...>, next: NextFunction) => Promise<...>))[]' is not assignable to parameter of type 'ControllerMethod'.
  Type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | ((req: Request<LoginDto, AuthResponseWithoutRefreshToken | { ...; }, ParsedQs>, res: Response<...>, next: NextFunction) => Promise<...>)' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
    Type '(req: Request<LoginDto, AuthResponseWithoutRefreshToken | { error: string; }>, res: Response<AuthResponseWithoutRefreshToken | { error: string; }>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is missing the following properties from type 'Request<LoginDto, AuthResponseWithoutRefreshToken | { error: string; }, ParsedQs>': unifiedMetrics, trackQuery, session, sessionID, sessionStore
server/src/auth/auth.routes.ts(117,48): error TS2345: Argument of type '((req: Request<{ refreshToken?: string | undefined; }, AuthResponseWithoutRefreshToken | { error: string; }, ParsedQs>, res: Response<...>, next: NextFunction) => Promise<...>)[]' is not assignable to parameter of type 'ControllerMethod'.
  Type '(req: Request<{ refreshToken?: string; }, AuthResponseWithoutRefreshToken | { error: string; }>, res: Response<AuthResponseWithoutRefreshToken | { error: string; }>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
    Types of parameters 'req' and 'req' are incompatible.
      Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is missing the following properties from type 'Request<{ refreshToken?: string | undefined; }, AuthResponseWithoutRefreshToken | { error: string; }, ParsedQs>': unifiedMetrics, trackQuery, session, sessionID, sessionStore
server/src/auth/auth.routes.ts(118,57): error TS2345: Argument of type '(RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | ((req: Request<RequestPasswordResetDto, any, ParsedQs>, res: Response<...>, next: NextFunction) => Promise<...>))[]' is not assignable to parameter of type 'ControllerMethod'.
  Type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>> | ((req: Request<RequestPasswordResetDto, any, ParsedQs>, res: Response<...>, next: NextFunction) => Promise<...>)' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
    Type '(req: Request<RequestPasswordResetDto>, res: Response, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is missing the following properties from type 'Request<RequestPasswordResetDto, any, ParsedQs>': unifiedMetrics, trackQuery, session, sessionID, sessionStore
server/src/auth/auth.routes.ts(119,49): error TS2345: Argument of type '((req: Request<ResetPasswordDto, any, ParsedQs>, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<...>)[]' is not assignable to parameter of type 'ControllerMethod'.
  Type '(req: Request<ResetPasswordDto>, res: Response, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
    Types of parameters 'req' and 'req' are incompatible.
      Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is missing the following properties from type 'Request<ResetPasswordDto, any, ParsedQs>': unifiedMetrics, trackQuery, session, sessionID, sessionStore
server/src/auth/auth.routes.ts(128,41): error TS2345: Argument of type '((req: Request<{ refreshToken?: string | undefined; }, { success: boolean; } | { error: string; }, ParsedQs>, res: Response<{ success: boolean; } | { error: string; }, Record<string, any>>, next: NextFunction) => Promise<...>)[]' is not assignable to parameter of type 'ControllerMethod'.
  Type '(req: Request<{ refreshToken?: string; }, { success: boolean; } | { error: string; }>, res: Response<{ success: boolean; } | { error: string; }>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
    Types of parameters 'req' and 'req' are incompatible.
      Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is missing the following properties from type 'Request<{ refreshToken?: string | undefined; }, { success: boolean; } | { error: string; }, ParsedQs>': unifiedMetrics, trackQuery, session, sessionID, sessionStore
server/src/auth/auth.routes.ts(138,24): error TS2352: Conversion of type '(req: Request, res: Response<{ success: boolean; message: string; } | { error: string; }>, next: NextFunction) => Promise<void>' to type '(req: Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<...>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is missing the following properties from type 'Request<any, any, ParsedQs>': unifiedMetrics, trackQuery, session, sessionID, sessionStore
server/src/auth/auth.service.ts(7,20): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/auth.service.ts(8,23): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/auth.service.ts(10,80): error TS2307: Cannot find module './auth.service.interface' or its corresponding type declarations.
server/src/auth/auth.service.ts(11,26): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/auth.service.ts(12,24): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../utils/logger.js'?
server/src/auth/auth.service.ts(13,29): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../utils/redis.js'?
server/src/auth/auth.service.ts(64,44): error TS6133: 'type' is declared but its value is never read.
server/src/auth/auth.service.ts(276,38): error TS6133: 'newPassword' is declared but its value is never read.
server/src/auth/controllers/auth.controller.ts(88,11): error TS2739: Type '{ readonly emailVerified: boolean; readonly id: string; readonly role: UserRole; readonly email: string; readonly firstName: string | null; readonly lastName: string | null; }' is missing the following properties from type 'UserResponse': createdAt, updatedAt
server/src/auth/controllers/auth.controller.ts(146,11): error TS2739: Type '{ readonly emailVerified: boolean; readonly id: string; readonly role: UserRole; readonly email: string; readonly firstName: string | null; readonly lastName: string | null; }' is missing the following properties from type 'UserResponse': createdAt, updatedAt
server/src/auth/index.ts(2,15): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/index.ts(3,15): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/index.ts(4,15): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/index.ts(7,15): error TS2307: Cannot find module './services/auth.service' or its corresponding type declarations.
server/src/auth/index.ts(8,15): error TS2307: Cannot find module './repositories/user.repository' or its corresponding type declarations.
server/src/auth/index.ts(9,15): error TS2307: Cannot find module './repositories/refresh-token.repository' or its corresponding type declarations.
server/src/auth/index.ts(12,15): error TS2307: Cannot find module './controllers/auth.controller' or its corresponding type declarations.
server/src/auth/index.ts(15,15): error TS2307: Cannot find module './dtos/auth.dto' or its corresponding type declarations.
server/src/auth/index.ts(18,15): error TS2307: Cannot find module './auth.container' or its corresponding type declarations.
server/src/auth/index.ts(21,60): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/index.ts(24,36): error TS2307: Cannot find module './auth.container' or its corresponding type declarations.
server/src/auth/interfaces/auth.interface.ts(1,22): error TS2307: Cannot find module './user.interface' or its corresponding type declarations.
server/src/auth/interfaces/user.repository.interface.ts(2,32): error TS2307: Cannot find module '../../common/repositories/base.repository.interface' or its corresponding type declarations.
server/src/auth/jwt/index.ts(4,23): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../utils/redis.js'?
server/src/auth/jwt/index.ts(14,8): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './types.js'?
server/src/auth/jwt/index.ts(249,43): error TS6133: 'userId' is declared but its value is never read.
server/src/auth/jwt/index.ts(255,15): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './types.js'?
server/src/auth/middleware/index.ts(2,29): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/middleware/index.ts(3,62): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/auth/middleware/index.ts(4,24): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../utils/logger.js'?
server/src/auth/middleware/index.ts(5,23): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db/redis.js'?
server/src/auth/middleware/index.ts(10,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/src/auth/middleware/index.ts(10,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/src/auth/middleware/index.ts(46,29): error TS7030: Not all code paths return a value.
server/src/auth/middleware/index.ts(97,7): error TS2353: Object literal may only specify known properties, and 'sessionId' does not exist in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/src/auth/middleware/index.ts(115,10): error TS7030: Not all code paths return a value.
server/src/auth/middleware/rate-limiter.middleware.ts(16,13): error TS6133: 'req' is declared but its value is never read.
server/src/auth/repositories/refresh-token.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/src/auth/repositories/refresh-token.ts(5,40): error TS2307: Cannot find module '../interfaces/refresh-token.repository.interface' or its corresponding type declarations.
server/src/common/common.module.ts(2,30): error TS2307: Cannot find module './services/error.service' or its corresponding type declarations.
server/src/common/common.module.ts(3,32): error TS2307: Cannot find module './services/booking.service' or its corresponding type declarations.
server/src/common/common.module.ts(4,35): error TS2307: Cannot find module './controllers/booking.controller' or its corresponding type declarations.
server/src/common/common.module.ts(5,36): error TS2307: Cannot find module './repositories/repositories.module' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(3,32): error TS2307: Cannot find module '../services/booking.service' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(5,35): error TS2307: Cannot find module '../utils/response-formatter.util' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(6,47): error TS2307: Cannot find module '../middleware/standardized-error-handler.middleware' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(7,77): error TS2307: Cannot find module '../middleware/auth.middleware' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(8,40): error TS2307: Cannot find module '../middleware/validation.middleware' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(9,44): error TS2307: Cannot find module '../interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(10,30): error TS2307: Cannot find module '../services/error.service' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(11,57): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(31,62): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(31,96): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(31,127): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(34,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(34,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(51,75): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(51,109): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(51,140): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(54,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(54,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(66,75): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(66,109): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(66,140): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(69,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(69,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(81,106): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(81,140): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(81,171): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(85,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(85,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(133,24): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(134,25): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(135,21): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(139,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(139,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/middleware/auth.middleware.test.ts(15,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/src/common/middleware/auth.middleware.test.ts(15,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/src/common/middleware/auth.middleware.test.ts(16,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'AuthUser | undefined', but here has type 'AuthUser | undefined'.
server/src/common/middleware/auth.middleware.test.ts(27,8): error TS2307: Cannot find module './auth.middleware' or its corresponding type declarations.
server/src/common/middleware/auth.middleware.test.ts(28,27): error TS2307: Cannot find module '../types/error.types' or its corresponding type declarations.
server/src/common/middleware/auth.middleware.test.ts(47,7): error TS2322: Type '{ id: string; organizationId: string | number; role: string; email: string; }' is not assignable to type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | number' is not assignable to type 'string | null | undefined'.
      Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(72,7): error TS2322: Type '{ id: string; email: string; role: string; organizationId: string | number | null; }' is not assignable to type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | number | null' is not assignable to type 'string | null | undefined'.
      Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(228,70): error TS2322: Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(235,60): error TS2322: Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(260,60): error TS2322: Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.ts(22,38): error TS6133: 'res' is declared but its value is never read.
server/src/common/middleware/auth.middleware.ts(104,44): error TS6133: 'res' is declared but its value is never read.
server/src/common/middleware/error-handler.middleware.test.ts(8,8): error TS2307: Cannot find module './error-handler.middleware' or its corresponding type declarations.
server/src/common/middleware/standardized-error-handler.middleware.ts(88,33): error TS2304: Cannot find name 'ExtendedErrorResponse'.
server/src/common/middleware/standardized-error-handler.middleware.ts(98,31): error TS2304: Cannot find name 'ExtendedErrorResponse'.
server/src/common/middleware/standardized-error-handler.middleware.ts(114,3): error TS6133: 'logger' is declared but its value is never read.
server/src/common/modules/booking.module.ts(2,35): error TS2307: Cannot find module '../controllers/booking.controller' or its corresponding type declarations.
server/src/common/modules/booking.module.ts(3,32): error TS2307: Cannot find module '../services/booking.service' or its corresponding type declarations.
server/src/common/modules/booking.module.ts(4,36): error TS2307: Cannot find module '../repositories/repositories.module' or its corresponding type declarations.
server/src/common/repositories/activity/activity.repository.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../../db.js'?
server/src/common/repositories/activity/activity.repository.ts(5,36): error TS2307: Cannot find module './activity.repository.interface' or its corresponding type declarations.
server/src/common/repositories/activity/activity.repository.ts(6,36): error TS2307: Cannot find module '../base.repository' or its corresponding type declarations.
server/src/common/repositories/activity/activity.repository.ts(15,10): error TS2339: Property 'logger' does not exist on type 'ActivityRepositoryImpl'.
server/src/common/repositories/activity/activity.repository.ts(21,27): error TS2339: Property 'startTime' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'.
server/src/common/repositories/activity/activity.repository.ts(25,10): error TS2339: Property 'logger' does not exist on type 'ActivityRepositoryImpl'.
server/src/common/repositories/activity/activity.repository.ts(38,10): error TS2339: Property 'logger' does not exist on type 'ActivityRepositoryImpl'.
server/src/common/repositories/activity/activity.repository.ts(48,10): error TS2339: Property 'logger' does not exist on type 'ActivityRepositoryImpl'.
server/src/common/repositories/activity/activity.repository.ts(56,30): error TS2339: Property 'startTime' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'.
server/src/common/repositories/activity/activity.repository.ts(59,27): error TS2339: Property 'startTime' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'.
server/src/common/repositories/activity/activity.repository.ts(63,10): error TS2339: Property 'logger' does not exist on type 'ActivityRepositoryImpl'.
server/src/common/repositories/base.repository.ts(43,13): error TS2488: Type 'any[] | QueryResult<never>' must have a '[Symbol.iterator]()' method that returns an iterator.
server/src/common/repositories/base.repository.ts(73,21): error TS2339: Property 'rowsAffected' does not exist on type 'QueryResult<never>'.
server/src/common/repositories/booking/booking.repository.interface.ts(1,25): error TS2307: Cannot find module '../../../db/bookingSchema.js' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.interface.ts(3,10): error TS2305: Module '"../../interfaces/booking.interfaces.js"' has no exported member 'BookingConfirmationDetails'.
server/src/common/repositories/booking/booking.repository.spec.ts(1,22): error TS2307: Cannot find module '@nestjs/testing' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.spec.ts(2,39): error TS2307: Cannot find module './booking.repository' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../../db.js'?
server/src/common/repositories/booking/booking.repository.ts(5,35): error TS2307: Cannot find module './booking.repository.interface' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(6,36): error TS2307: Cannot find module '../base.repository' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(7,44): error TS2307: Cannot find module '../../interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(20,10): error TS2339: Property 'logger' does not exist on type 'BookingRepositoryImpl'.
server/src/common/repositories/booking/booking.repository.ts(30,10): error TS2339: Property 'logger' does not exist on type 'BookingRepositoryImpl'.
server/src/common/repositories/booking/booking.repository.ts(40,10): error TS2339: Property 'logger' does not exist on type 'BookingRepositoryImpl'.
server/src/common/repositories/booking/booking.repository.ts(52,10): error TS2339: Property 'logger' does not exist on type 'BookingRepositoryImpl'.
server/src/common/repositories/booking/booking.repository.ts(68,10): error TS2339: Property 'logger' does not exist on type 'BookingRepositoryImpl'.
server/src/common/repositories/booking/booking.repository.ts(84,10): error TS2339: Property 'logger' does not exist on type 'BookingRepositoryImpl'.
server/src/common/repositories/booking/booking.repository.ts(101,10): error TS2339: Property 'logger' does not exist on type 'BookingRepositoryImpl'.
server/src/common/repositories/booking/booking.repository.ts(111,26): error TS2339: Property 'organizationId' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<....'.
server/src/common/repositories/index.ts(2,15): error TS2307: Cannot find module './base.repository.interface' or its corresponding type declarations.
server/src/common/repositories/index.ts(3,15): error TS2307: Cannot find module './organization/organization.repository.interface' or its corresponding type declarations.
server/src/common/repositories/index.ts(4,15): error TS2307: Cannot find module './activity/activity.repository.interface' or its corresponding type declarations.
server/src/common/repositories/index.ts(5,15): error TS2307: Cannot find module './user/user.repository.interface' or its corresponding type declarations.
server/src/common/repositories/index.ts(6,15): error TS2307: Cannot find module './booking/booking.repository.interface' or its corresponding type declarations.
server/src/common/repositories/index.ts(9,15): error TS2307: Cannot find module './base.repository' or its corresponding type declarations.
server/src/common/repositories/index.ts(10,15): error TS2307: Cannot find module './organization/organization.repository' or its corresponding type declarations.
server/src/common/repositories/index.ts(11,15): error TS2307: Cannot find module './activity/activity.repository' or its corresponding type declarations.
server/src/common/repositories/index.ts(12,15): error TS2307: Cannot find module './user/user.repository' or its corresponding type declarations.
server/src/common/repositories/index.ts(13,15): error TS2307: Cannot find module './booking/booking.repository' or its corresponding type declarations.
server/src/common/repositories/index.ts(16,15): error TS2307: Cannot find module './repositories.module' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.interface.ts(1,36): error TS2307: Cannot find module '../../../db/schema.js' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.interface.ts(2,45): error TS2307: Cannot find module '../../interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../../db.js'?
server/src/common/repositories/organization/organization.repository.ts(5,40): error TS2307: Cannot find module './organization.repository.interface' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(6,45): error TS2307: Cannot find module '../../interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(7,36): error TS2307: Cannot find module '../base.repository' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(16,10): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/organization/organization.repository.ts(28,10): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/organization/organization.repository.ts(38,24): error TS7006: Parameter 'm' implicitly has an 'any' type.
server/src/common/repositories/organization/organization.repository.ts(42,10): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/organization/organization.repository.ts(57,12): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/organization/organization.repository.ts(63,10): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/organization/organization.repository.ts(78,10): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/organization/organization.repository.ts(97,10): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/organization/organization.repository.ts(112,10): error TS2339: Property 'logger' does not exist on type 'OrganizationRepositoryImpl'.
server/src/common/repositories/repositories.module.ts(2,37): error TS2307: Cannot find module './repository.providers' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(2,36): error TS2307: Cannot find module '../../trips/repositories/trip.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(3,44): error TS2307: Cannot find module './organization/organization.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(4,40): error TS2307: Cannot find module './activity/activity.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(5,36): error TS2307: Cannot find module './user/user.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(6,39): error TS2307: Cannot find module './booking/booking.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(7,62): error TS2307: Cannot find module '../../auth/repositories/user.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(8,44): error TS2307: Cannot find module '../../auth/repositories/refresh-token.repository' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.interface.ts(1,22): error TS2307: Cannot find module '../../../db/schema.js' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.interface.ts(2,32): error TS2307: Cannot find module '../base.repository.interface' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.interface.ts(3,40): error TS2307: Cannot find module '../../interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../../db.js'?
server/src/common/repositories/user/user.repository.ts(5,32): error TS2307: Cannot find module './user.repository.interface' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(6,40): error TS2307: Cannot find module '../../interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(7,36): error TS2307: Cannot find module '../base.repository' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(16,10): error TS2339: Property 'logger' does not exist on type 'UserRepositoryImpl'.
server/src/common/repositories/user/user.repository.ts(28,10): error TS2339: Property 'logger' does not exist on type 'UserRepositoryImpl'.
server/src/common/repositories/user/user.repository.ts(38,24): error TS7006: Parameter 'm' implicitly has an 'any' type.
server/src/common/repositories/user/user.repository.ts(42,10): error TS2339: Property 'logger' does not exist on type 'UserRepositoryImpl'.
server/src/common/repositories/user/user.repository.ts(56,10): error TS2339: Property 'logger' does not exist on type 'UserRepositoryImpl'.
server/src/common/repositories/user/user.repository.ts(70,10): error TS2339: Property 'logger' does not exist on type 'UserRepositoryImpl'.
server/src/common/services/booking.service.ts(4,10): error TS2305: Module '"../interfaces/booking.interfaces.js"' has no exported member 'BookingConfirmationDetails'.
server/src/email/index.ts(1,15): error TS2307: Cannot find module './interfaces/email.service.interface' or its corresponding type declarations.
server/src/email/index.ts(2,15): error TS2307: Cannot find module './services/nodemailer-email.service' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(7,30): error TS2307: Cannot find module '../../common/services/error.service' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(14,8): error TS2307: Cannot find module '../interfaces/email.service.interface' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(68,13): error TS2531: Object is possibly 'null'.
server/src/email/services/nodemailer-email.service.ts(136,47): error TS2366: Function lacks ending return statement and return type does not include 'undefined'.
server/src/email/services/nodemailer-email.service.ts(147,79): error TS2366: Function lacks ending return statement and return type does not include 'undefined'.
server/src/middleware/authenticate.ts(2,29): error TS2307: Cannot find module '../auth/services/jwtAuthService.js' or its corresponding type declarations.
server/src/middleware/authenticate.ts(5,17): error TS7030: Not all code paths return a value.
server/src/middleware/authenticate.ts(24,40): error TS2693: 'TokenType' only refers to a type, but is being used as a value here.
server/src/trips/controllers/trip.controller.ts(68,7): error TS2322: Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => void' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
      Types of property 'user' are incompatible.
        Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
            Types of property 'organizationId' are incompatible.
              Type 'string | null | undefined' is not assignable to type 'string | null'.
                Type 'undefined' is not assignable to type 'string | null'.
server/src/trips/controllers/trip.controller.ts(69,7): error TS2322: Type '(req: AuthenticatedRequest, _res: Response, next: NextFunction) => void' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
      Types of property 'user' are incompatible.
        Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
            Types of property 'organizationId' are incompatible.
              Type 'string | null | undefined' is not assignable to type 'string | null'.
                Type 'undefined' is not assignable to type 'string | null'.
server/src/trips/controllers/trip.controller.ts(95,7): error TS2322: Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => void' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
      Types of property 'user' are incompatible.
        Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
            Types of property 'organizationId' are incompatible.
              Type 'string | null | undefined' is not assignable to type 'string | null'.
                Type 'undefined' is not assignable to type 'string | null'.
server/src/trips/controllers/trip.controller.ts(96,7): error TS2322: Type '(req: AuthenticatedRequest, _res: Response, next: NextFunction) => void' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
      Types of property 'user' are incompatible.
        Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
            Types of property 'organizationId' are incompatible.
              Type 'string | null | undefined' is not assignable to type 'string | null'.
                Type 'undefined' is not assignable to type 'string | null'.
server/src/trips/controllers/trip.controller.ts(122,7): error TS2322: Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => void' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
      Types of property 'user' are incompatible.
        Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
            Types of property 'organizationId' are incompatible.
              Type 'string | null | undefined' is not assignable to type 'string | null'.
                Type 'undefined' is not assignable to type 'string | null'.
server/src/trips/interfaces/trip.repository.interface.ts(2,34): error TS2307: Cannot find module './trip.service.interface' or its corresponding type declarations.
server/src/trips/interfaces/trip.repository.interface.ts(3,32): error TS2307: Cannot find module '../../common/repositories/base.repository.interface' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(3,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../../db.js'?
server/src/trips/repositories/trip.repository.ts(6,32): error TS2307: Cannot find module '../interfaces/trip.repository.interface' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(7,34): error TS2307: Cannot find module '../interfaces/trip.service.interface' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(8,35): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../common/errors.js'?
server/src/trips/repositories/trip.repository.ts(9,36): error TS2307: Cannot find module '../../common/repositories/base.repository' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(18,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(32,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(41,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(46,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(51,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(56,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(61,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/services/trip.service.ts(3,47): error TS2307: Cannot find module '../interfaces/trip.service.interface' or its corresponding type declarations.
server/src/trips/services/trip.service.ts(4,32): error TS2307: Cannot find module '../interfaces/trip.repository.interface' or its corresponding type declarations.
server/src/trips/services/trip.service.ts(5,35): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../../common/errors.js'?
server/src/trips/trip.container.ts(3,28): error TS2307: Cannot find module './trip.module' or its corresponding type declarations.
server/src/trips/trip.container.ts(4,32): error TS2307: Cannot find module './controllers/trip.controller' or its corresponding type declarations.
server/src/trips/trip.container.ts(5,33): error TS2307: Cannot find module './services/trip.service' or its corresponding type declarations.
server/src/trips/trip.container.ts(7,40): error TS2307: Cannot find module '../common/repositories/repository.providers' or its corresponding type declarations.
server/src/trips/trip.module.ts(2,32): error TS2307: Cannot find module './controllers/trip.controller' or its corresponding type declarations.
server/src/trips/trip.module.ts(3,37): error TS2307: Cannot find module './trip.container' or its corresponding type declarations.
server/src/trips/trip.module.ts(4,36): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/src/utils/error-utils.ts(63,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './logger.js'?
server/sslManager.ts(282,33): error TS6133: 'certificate' is declared but its value is never read.
server/sslManager.ts(293,60): error TS6133: 'privateKey' is declared but its value is never read.
server/ssoProvider.ts(2,20): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './db.js'?
server/ssoProvider.ts(3,52): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/ssoProvider.ts(61,51): error TS6133: 'relayState' is declared but its value is never read.
server/ssoProvider.ts(239,29): error TS6133: 'samlResponse' is declared but its value is never read.
server/ssoProvider.ts(296,35): error TS6133: 'code' is declared but its value is never read.
server/ssoProvider.ts(296,49): error TS6133: 'state' is declared but its value is never read.
server/ssoProvider.ts(301,34): error TS6133: 'accessToken' is declared but its value is never read.
server/ssoProvider.ts(413,9): error TS2339: Property 'session' does not exist on type 'Request<{ organizationId: string; }, any, any, ParsedQs, Record<string, any>>'.
server/ssoProvider.ts(414,9): error TS2339: Property 'session' does not exist on type 'Request<{ organizationId: string; }, any, any, ParsedQs, Record<string, any>>'.
server/ssoProvider.ts(439,9): error TS2339: Property 'session' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'.
server/ssoProvider.ts(440,9): error TS2339: Property 'session' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'.
server/storage.ts(2,28): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './storage/implementations/MemStorage.js'?
server/storage.ts(5,15): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/storage.ts(6,15): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './storage/implementations/MemStorage.js'?
server/storage/index.ts(2,15): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/storage/index.ts(5,15): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './implementations/MemStorage.js'?
server/storage/index.ts(10,15): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './repositories/TripTravelerRepository.js'?
server/storage/index.ts(14,25): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../storage.js'?
server/test-app.ts(5,23): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean './routes/index.js'?
server/test-app.ts(8,10): error TS2614: Module '"./middleware/secureAuth.js"' has no exported member 'preventSQLInjection'. Did you mean to use 'import preventSQLInjection from "./middleware/secureAuth.js"' instead?
server/test-app.ts(8,31): error TS2614: Module '"./middleware/secureAuth.js"' has no exported member 'configureCORS'. Did you mean to use 'import configureCORS from "./middleware/secureAuth.js"' instead?
server/test-app.ts(35,10): error TS2614: Module '"./middleware/secureAuth.js"' has no exported member 'unifiedAuthMiddleware'. Did you mean to use 'import unifiedAuthMiddleware from "./middleware/secureAuth.js"' instead?
server/test-app.ts(38,10): error TS2724: '"./middleware/caseConverter.js"' has no exported member named 'caseConversionMiddleware'. Did you mean 'caseConverterMiddleware'?
server/test-app.ts(62,9): error TS2352: Conversion of type 'NextHandleFunction' to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not comparable to type 'IncomingMessage'.
      Types of property 'socket' are incompatible.
        Type '{ remoteAddress?: string | undefined; } | undefined' is not comparable to type 'Socket'.
          Type '{ remoteAddress?: string | undefined; }' is missing the following properties from type 'Socket': destroySoon, write, connect, setEncoding, and 85 more.
server/test-app.ts(63,9): error TS2352: Conversion of type 'NextHandleFunction' to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not comparable to type 'IncomingMessage'.
      Types of property 'socket' are incompatible.
        Type '{ remoteAddress?: string | undefined; } | undefined' is not comparable to type 'Socket'.
          Type '{ remoteAddress?: string | undefined; }' is missing the following properties from type 'Socket': destroySoon, write, connect, setEncoding, and 85 more.
server/test-app.ts(84,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: CustomRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'PathParams'.
server/test-app.ts(85,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: CustomRequest, res: Response<any, Record<string, any>>, next: NextFunction) => void | Response<any, Record<string, any>>' is not assignable to parameter of type 'PathParams'.
server/vite.ts(24,48): error TS6059: File '/home/runner/work/NestMapRepo/NestMapRepo/vite.config.ts' is not under 'rootDir' '/home/runner/work/NestMapRepo/NestMapRepo/server'. 'rootDir' is expected to contain all source files.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/package.json' has field "type" with value "module"
server/vite.ts(24,48): error TS6307: File '/home/runner/work/NestMapRepo/NestMapRepo/vite.config.ts' is not listed within the file list of project '/home/runner/work/NestMapRepo/NestMapRepo/server/tsconfig.json'. Projects must list all files or use an 'include' pattern.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/package.json' has field "type" with value "module"
server/vite.ts(84,11): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'RequestHandler<Response<any, Record<string, any>>>' is not assignable to parameter of type 'PathParams'.
shared/superadmin-schema.ts(1,15): error TS2835: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Did you mean '../server/db/superadminSchema.js'?
