server/middleware/database.ts(23,7): error TS2353: Object literal may only specify known properties, and 'requireSameOrganization' does not exist in type '{ id: number | null; canAccessOrganization: (orgId: number | null) => boolean; enforceOrganizationAccess: (orgId: number | null) => void; }'.
server/middleware/securityAuditLogger.ts(28,9): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'user_id' does not exist in type '{ admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'user_id' does not exist in type '{ admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }[]'.
server/middleware/securityAuditLogger.ts(96,7): error TS2561: Object literal may only specify known properties, but 'organizationId' does not exist in type 'AuditLogEntry'. Did you mean to write 'organization_id'?
server/middleware/superadmin.ts(28,45): error TS2304: Cannot find name 'AuthenticatedRequest'.
server/middleware/unifiedAuth.ts(14,18): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; } | undefined' is not assignable to type 'JWTUser | undefined'.
      Property 'organization_id' is missing in type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; }' but required in type 'JWTUser'.
server/middleware/validation.ts(135,3): error TS2322: Type '(chunk?: any, encoding?: any) => void' is not assignable to type '{ (cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, cb?: (() => void) | undefined): Response<any, Record<string, any>>; (chunk: any, encoding: BufferEncoding, cb?: (() => void) | undefined): Response<...>; }'.
  Type 'void' is not assignable to type 'Response<any, Record<string, any>>'.
server/notificationService.ts(1,10): error TS2305: Module '"./emailService"' has no exported member 'sendEmail'.
server/organizationContext.ts(8,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'JWTUser | undefined', but here has type '{ [key: string]: any; id: number; organizationId?: number | null | undefined; role?: string | undefined; } | undefined'.
server/organizationContext.ts(14,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationId' must be of type 'number | undefined', but here has type 'number | null | undefined'.
server/pdfExport.ts(906,41): error TS2551: Property 'startDate' does not exist on type '{ organization_id: number | null; id: number; created_at: Date | null; updated_at: Date | null; user_id: number; title: string; start_date: Date; end_date: Date; ... 18 more ...; budget: number | null; }'. Did you mean 'start_date'?
server/pdfExport.ts(907,39): error TS2551: Property 'endDate' does not exist on type '{ organization_id: number | null; id: number; created_at: Date | null; updated_at: Date | null; user_id: number; title: string; start_date: Date; end_date: Date; ... 18 more ...; budget: number | null; }'. Did you mean 'end_date'?
server/pdfExport.ts(920,26): error TS2552: Cannot find name 'tripActivities'. Did you mean 'activities'?
server/pdfExport.ts(920,46): error TS7006: Parameter 'a' implicitly has an 'any' type.
server/pdfExport.ts(921,26): error TS2552: Cannot find name 'tripActivities'. Did you mean 'activities'?
server/pdfExport.ts(921,46): error TS7006: Parameter 'a' implicitly has an 'any' type.
server/pdfExport.ts(931,15): error TS7022: 'activities' implicitly has type 'any' because it does not have a type annotation and is referenced directly or indirectly in its own initializer.
server/pdfExport.ts(931,28): error TS2448: Block-scoped variable 'activities' used before its declaration.
server/rbac.ts(5,39): error TS2724: '"@shared/schema"' has no exported member named 'UserRole'. Did you mean 'USER_ROLES'?
server/rbac.ts(91,27): error TS7053: Element implicitly has an 'any' type because expression of type 'UserRole' can't be used to index type '{ admin: ("export_data" | "manage_organizations" | "manage_users" | "view_analytics")[]; manager: ("export_data" | "view_analytics")[]; user: never[]; guest: never[]; }'.
server/rbac.ts(98,35): error TS2345: Argument of type 'string' is not assignable to parameter of type '"view_trip"'.
server/rbac.ts(232,9): error TS2322: Type 'string' is not assignable to type 'SQL<unknown> | Aliased<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | PgTable<TableConfig> | SelectedFieldsFlat<...>'.
server/rbac.ts(239,15): error TS2345: Argument of type '{ userRole: PgColumn<{ name: "role"; tableName: "trip_collaborators"; dataType: "string"; columnType: "PgText"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, {}>; ... 32 more ...; enableRLS: () => Omit<...>; }' is not assignable to parameter of type 'SelectedFields'.
  Property '_' is incompatible with index signature.
    Type '{ readonly brand: "Table"; readonly config: { name: "trips"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "trips"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; ... 8 more ...; generated: undefined; }, {}, {}>; ... 25 more ...; updated_at: PgColumn<...>; }; dia...' is not assignable to type 'SQL<unknown> | Aliased<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | PgTable<TableConfig> | SelectedFieldsFlat<...>'.
      Type '{ readonly brand: "Table"; readonly config: { name: "trips"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "trips"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; ... 8 more ...; generated: undefined; }, {}, {}>; ... 25 more ...; updated_at: PgColumn<...>; }; dia...' is not assignable to type 'SelectedFieldsFlat<PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}>>'.
        Property 'brand' is incompatible with index signature.
          Type 'string' is not assignable to type 'SQL<unknown> | Aliased<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}>'.
server/routes/activities.ts(12,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/activities.ts(51,53): error TS2551: Property 'trip_id' does not exist on type '{ date: Date; title: string; completed: boolean; time: string; order: number; tripId: number; locationName: string; organizationId?: number | undefined; latitude?: string | null | undefined; ... 4 more ...; travelMode?: string | ... 1 more ... | undefined; }'. Did you mean 'tripId'?
server/routes/admin.ts(22,36): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'target_organization_id' does not exist in type '{ admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'admin_user_id' does not exist in type '{ admin_user_id: number | SQL<unknown> | Placeholder<string, any>; action_type: string | SQL<unknown> | Placeholder<string, any>; id?: number | SQL<unknown> | Placeholder<...> | undefined; ip_address?: string | ... 3 more ... | undefined; action_data?: unknown; timestamp?: SQL<...> | ... 3 more ... | undefined; }[]'.
server/routes/admin.ts(383,47): error TS2339: Property 'target_organization_id' does not exist on type 'PgTableWithColumns<{ name: "admin_audit_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "admin_audit_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 4 more ...; timestamp: PgColumn<...>...'.
server/routes/admin.ts(391,49): error TS2339: Property 'target_organization_id' does not exist on type 'PgTableWithColumns<{ name: "admin_audit_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "admin_audit_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 4 more ...; timestamp: PgColumn<...>...'.
server/routes/ai.ts(15,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/ai.ts(53,44): error TS2551: Property 'organizationId' does not exist on type 'JWTUser'. Did you mean 'organization_id'?
server/routes/ai.ts(197,44): error TS2551: Property 'organizationId' does not exist on type 'JWTUser'. Did you mean 'organization_id'?
server/routes/analytics-broken.ts(9,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/analytics-broken.ts(40,29): error TS2304: Cannot find name 'getUserPersonalAnalytics'.
server/routes/analytics-broken.ts(55,29): error TS2552: Cannot find name 'getAnalytics'. Did you mean 'analytics'?
server/routes/analytics-broken.ts(77,29): error TS2304: Cannot find name 'getOrganizationAnalytics'.
server/routes/analytics-broken.ts(92,25): error TS2552: Cannot find name 'getAnalytics'. Did you mean 'analytics'?
server/routes/analytics-broken.ts(98,25): error TS2304: Cannot find name 'getOrganizationAnalytics'.
server/routes/analytics-broken.ts(108,25): error TS2304: Cannot find name 'getUserPersonalAnalytics'.
server/routes/analytics-broken.ts(111,30): error TS2304: Cannot find name 'exportAnalyticsCSV'.
server/routes/analytics.ts(10,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/approvals.ts(47,38): error TS2551: Property 'created_at' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'createdAt'?
server/routes/approvals.ts(55,44): error TS2551: Property 'requester_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'requesterId'?
server/routes/approvals.ts(57,29): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/approvals.ts(60,31): error TS2551: Property 'approver_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'approverId'?
server/routes/approvals.ts(61,35): error TS2551: Property 'approver_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'approverId'?
server/routes/approvals.ts(64,71): error TS2551: Property 'created_at' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'createdAt'?
server/routes/approvals.ts(101,29): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/approvals.ts(180,9): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { organizationId: number | SQL<unknown> | Placeholder<string, any>; entityType: string | SQL<unknown> | Placeholder<string, any>; entityId: number | SQL<...> | Placeholder<...>; ... 18 more ...; notificationsSent?: SQL<...> | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, but 'organization_id' does not exist in type '{ organizationId: number | SQL<unknown> | Placeholder<string, any>; entityType: string | SQL<unknown> | Placeholder<string, any>; entityId: number | SQL<...> | Placeholder<...>; ... 18 more ...; notificationsSent?: SQL<...> | ... 3 more ... | undefined; }'. Did you mean to write 'organizationId'?
  Overload 2 of 2, '(values: { organizationId: number | SQL<unknown> | Placeholder<string, any>; entityType: string | SQL<unknown> | Placeholder<string, any>; entityId: number | SQL<...> | Placeholder<...>; ... 18 more ...; notificationsSent?: SQL<...> | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'organization_id' does not exist in type '{ organizationId: number | SQL<unknown> | Placeholder<string, any>; entityType: string | SQL<unknown> | Placeholder<string, any>; entityId: number | SQL<...> | Placeholder<...>; ... 18 more ...; notificationsSent?: SQL<...> | ... 3 more ... | undefined; }[]'.
server/routes/approvals.ts(220,31): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_rules"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_rules"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 11 more ...; updatedAt: PgColumn<...>;...'. Did you mean 'organizationId'?
server/routes/approvals.ts(279,24): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_rules"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_rules"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 11 more ...; updatedAt: PgColumn<...>;...'. Did you mean 'organizationId'?
server/routes/auth.ts(103,60): error TS2345: Argument of type 'string | null' is not assignable to parameter of type 'string'.
  Type 'null' is not assignable to type 'string'.
server/routes/bookings-broken.ts(256,15): error TS2339: Property 'bookHotel' does not exist on type 'typeof import("C:/Users/Jonas/Desktop/NestMapRepo/server/bookingProviders")'.
server/routes/bookings-broken.ts(337,21): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/bookings-broken.ts(401,21): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/bookings.ts(13,42): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/bookings.ts(34,23): error TS2551: Property 'trip_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'tripId'?
server/routes/bookings.ts(35,23): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/bookings.ts(37,32): error TS2551: Property 'created_at' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'createdAt'?
server/routes/bookings.ts(49,42): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/bookings.ts(76,48): error TS2339: Property 'createBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(95,48): error TS2339: Property 'createHotelBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(152,23): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/bookings.ts(179,23): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/bookings.ts(214,23): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/bookings.ts(230,32): error TS2339: Property 'cancelBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(349,42): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/bookings.ts(384,42): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/calendar.ts(16,40): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/calendar.ts(69,42): error TS2551: Property 'created_at' does not exist on type 'PgTableWithColumns<{ name: "calendar_integrations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "calendar_integrations"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; ... 8 more ...; generated: undefined; }, {}, {}>; ... 9 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'createdAt'?
server/routes/calendar.ts(73,33): error TS2551: Property 'user_id' does not exist on type 'PgTableWithColumns<{ name: "calendar_integrations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "calendar_integrations"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; ... 8 more ...; generated: undefined; }, {}, {}>; ... 9 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'userId'?
server/routes/calendar.ts(74,33): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "calendar_integrations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "calendar_integrations"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; ... 8 more ...; generated: undefined; }, {}, {}>; ... 9 more ...; updatedAt: PgColumn<...>; }...'. Did you mean 'organizationId'?
server/routes/calendar.ts(91,40): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/collaboration.ts(233,39): error TS2551: Property 'user_id' does not exist on type 'PgTableWithColumns<{ name: "activity_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activity_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 8 more ...; timestamp: PgColumn<...>; }; d...'. Did you mean 'userId'?
server/routes/collaboration.ts(235,24): error TS2551: Property 'trip_id' does not exist on type 'PgTableWithColumns<{ name: "activity_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activity_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 8 more ...; timestamp: PgColumn<...>; }; d...'. Did you mean 'tripId'?
server/routes/collaboration.ts(236,24): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "activity_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activity_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 8 more ...; timestamp: PgColumn<...>; }; d...'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(56,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { organization_id: number | SQL<unknown> | Placeholder<string, any>; user_id: number | SQL<unknown> | Placeholder<string, any>; stripe_card_id: string | SQL<...> | Placeholder<...>; ... 24 more ...; auto_lock_triggers?: unknown; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ organization_id: number; user_id: any; stripe_card_id: string; card_number_masked: string; card_token: string; card_provider: string; card_type: string; status: string; spending_limit: number; ... 6 more ...; updated_at: Date; }' is not assignable to parameter of type '{ organization_id: number | SQL<unknown> | Placeholder<string, any>; user_id: number | SQL<unknown> | Placeholder<string, any>; stripe_card_id: string | SQL<...> | Placeholder<...>; ... 24 more ...; auto_lock_triggers?: unknown; }'.
      Property 'created_by' is missing in type '{ organization_id: number; user_id: any; stripe_card_id: string; card_number_masked: string; card_token: string; card_provider: string; card_type: string; status: string; spending_limit: number; ... 6 more ...; updated_at: Date; }' but required in type '{ organization_id: number | SQL<unknown> | Placeholder<string, any>; user_id: number | SQL<unknown> | Placeholder<string, any>; stripe_card_id: string | SQL<...> | Placeholder<...>; ... 24 more ...; auto_lock_triggers?: unknown; }'.
  Overload 2 of 2, '(values: { organization_id: number | SQL<unknown> | Placeholder<string, any>; user_id: number | SQL<unknown> | Placeholder<string, any>; stripe_card_id: string | SQL<...> | Placeholder<...>; ... 24 more ...; auto_lock_triggers?: unknown; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'organization_id' does not exist in type '{ organization_id: number | SQL<unknown> | Placeholder<string, any>; user_id: number | SQL<unknown> | Placeholder<string, any>; stripe_card_id: string | SQL<...> | Placeholder<...>; ... 24 more ...; auto_lock_triggers?: unknown; }[]'.
server/routes/corporateCards.ts(185,30): error TS18047: 'card.available_balance' is possibly 'null'.
server/routes/corporateCards.ts(186,27): error TS18047: 'card.spending_limit' is possibly 'null'.
server/routes/domains.ts(7,11): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type '{ id: number; email: string; username: string; organization_id?: number | undefined; role: string; } | undefined' is not assignable to type 'JWTUser | undefined'.
      Type '{ id: number; email: string; username: string; organization_id?: number | undefined; role: string; }' is not assignable to type 'JWTUser'.
        Types of property 'organization_id' are incompatible.
          Type 'number | undefined' is not assignable to type 'number'.
            Type 'undefined' is not assignable to type 'number'.
server/routes/expenses.ts(77,7): error TS2741: Property 'where' is missing in type 'Omit<import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"expenses", Record<"expenses", { id: import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "expenses"; dataType: "number"; col...' but required in type 'Omit<import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"expenses", Record<"expenses", { id: import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "expenses"; dataType: "number"; col...'.
server/routes/expenses.ts(479,5): error TS2741: Property 'where' is missing in type 'Omit<import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"expenses", { expense: import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "expenses"; schema: undefined; columns: { id: import("C:/Users/Jo...' but required in type 'Omit<import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"expenses", { expense: import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/table").PgTableWithColumns<{ name: "expenses"; schema: undefined; columns: { id: import("C:/Users/Jo...'.
server/routes/organizationFunding.ts(33,23): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'JWTUser | undefined' is not assignable to type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; } | undefined'.
                Type 'JWTUser' is missing the following properties from type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; }': authId, roleType
server/routes/organizationFunding.ts(48,32): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'JWTUser | undefined' is not assignable to type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; } | undefined'.
                Type 'JWTUser' is missing the following properties from type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; }': authId, roleType
server/routes/organizationFunding.ts(73,33): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'JWTUser | undefined' is not assignable to type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; } | undefined'.
                Type 'JWTUser' is missing the following properties from type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; }': authId, roleType
server/routes/organizationFunding.ts(103,31): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'JWTUser | undefined' is not assignable to type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; } | undefined'.
                Type 'JWTUser' is missing the following properties from type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; }': authId, roleType
server/routes/organizationFunding.ts(118,31): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'JWTUser | undefined' is not assignable to type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; } | undefined'.
                Type 'JWTUser' is missing the following properties from type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; }': authId, roleType
server/routes/organizationFunding.ts(143,27): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type 'JWTUser | undefined' is not assignable to type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; } | undefined'.
                Type 'JWTUser' is missing the following properties from type '{ id: number; authId: string; username: string; email: string; role: string; roleType: string; organizationId?: number | undefined; }': authId, roleType
server/routes/organizationMembers.ts(18,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/organizationMembers.ts(89,28): error TS2339: Property 'userOrgRole' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/organizationMembers.ts(92,81): error TS2339: Property 'userOrgRole' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/organizationMembers.ts(201,30): error TS2339: Property 'userOrgRole' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/organizationMembers.ts(204,97): error TS2339: Property 'userOrgRole' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/organizationMembers.ts(324,10): error TS2339: Property 'userOrgRole' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/organizationMembers.ts(324,43): error TS2339: Property 'userOrgRole' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/organizationMembers.ts(329,26): error TS2339: Property 'userOrgRole' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/organizations.ts(15,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/reporting.ts(605,20): error TS2339: Property 'expense_category' does not exist on type '{ category: string; totalAmount: number; }'.
server/routes/reporting.ts(671,34): error TS2551: Property 'trip_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'tripId'?
server/routes/reporting.ts(672,34): error TS2551: Property 'user_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'userId'?
server/routes/reporting.ts(673,24): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "bookings"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "bookings"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 19 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/reporting.ts(682,32): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "approval_requests"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn...'. Did you mean 'organizationId'?
server/routes/security.ts(37,26): error TS2339: Property 'target_organization_id' does not exist on type 'PgTableWithColumns<{ name: "admin_audit_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "admin_audit_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 4 more ...; timestamp: PgColumn<...>...'.
server/routes/security.ts(142,28): error TS2339: Property 'target_organization_id' does not exist on type 'PgTableWithColumns<{ name: "admin_audit_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "admin_audit_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 4 more ...; timestamp: PgColumn<...>...'.
server/routes/security.ts(150,28): error TS2339: Property 'target_organization_id' does not exist on type 'PgTableWithColumns<{ name: "admin_audit_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "admin_audit_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 4 more ...; timestamp: PgColumn<...>...'.
server/routes/security.ts(158,28): error TS2339: Property 'target_organization_id' does not exist on type 'PgTableWithColumns<{ name: "admin_audit_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "admin_audit_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 4 more ...; timestamp: PgColumn<...>...'.
server/routes/security.ts(222,26): error TS2339: Property 'target_organization_id' does not exist on type 'PgTableWithColumns<{ name: "admin_audit_log"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "admin_audit_log"; dataType: "number"; columnType: "PgSerial"; data: number; driverParam: number; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 4 more ...; timestamp: PgColumn<...>...'.
server/routes/stripeOAuth.ts(14,3): error TS2322: Type '"2025-04-30.basil"' is not assignable to type '"2025-07-30.basil"'.
server/routes/subscription-status.ts(8,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/trips.ts(18,12): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void>' is not assignable to parameter of type 'PathParams'.
server/routes/trips.ts(190,7): error TS2339: Property 'skipCaseConversion' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/routes/trips.ts(410,28): error TS2339: Property 'displayName' does not exist on type 'JWTUser'.
server/routes/webhooks.ts(14,3): error TS2322: Type '"2025-04-30.basil"' is not assignable to type '"2025-07-30.basil"'.
server/routes/whiteLabelSimplified.ts(7,11): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type '{ id: number; email: string; username: string; role: string; organization_id?: number | undefined; organizationId?: number | undefined; } | undefined' is not assignable to type 'JWTUser | undefined'.
      Type '{ id: number; email: string; username: string; role: string; organization_id?: number | undefined; organizationId?: number | undefined; }' is not assignable to type 'JWTUser'.
        Types of property 'organization_id' are incompatible.
          Type 'number | undefined' is not assignable to type 'number'.
            Type 'undefined' is not assignable to type 'number'.
server/services/duffelFlightService.ts(229,34): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(243,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(320,34): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(334,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(357,42): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(361,44): error TS7006: Parameter 'baggage' implicitly has an 'any' type.
server/services/duffelFlightService.ts(398,29): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(420,43): error TS7006: Parameter 'doc' implicitly has an 'any' type.
server/services/duffelFlightService.ts(424,44): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(430,36): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(432,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(434,48): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(461,29): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(469,43): error TS7006: Parameter 'doc' implicitly has an 'any' type.
server/services/duffelFlightService.ts(473,44): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(479,36): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(481,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(483,48): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(507,34): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(530,30): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(535,32): error TS7006: Parameter 'airport' implicitly has an 'any' type.
server/services/organizationFundingService.ts(65,11): error TS2353: Object literal may only specify known properties, and 'stripe_account_id' does not exist in type '{ name?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; id?: number | SQL<unknown> | PgColumn<...> | undefined; ... 29 more ...; updated_at?: SQL<...> | ... 3 more ... | undefined; }'.
server/services/organizationFundingService.ts(82,18): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(88,25): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(105,18): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(110,61): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(142,18): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(157,20): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(244,18): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(253,9): error TS2322: Type '"business_entity"' is not assignable to type 'Type | undefined'.
server/services/organizationFundingService.ts(262,31): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(279,31): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/organizationFundingService.ts(293,18): error TS2339: Property 'stripe_account_id' does not exist on type '{ id: number; name: string; domain: string | null; plan: string | null; white_label_enabled: boolean | null; white_label_plan: string | null; primary_color: string | null; secondary_color: string | null; ... 23 more ...; updated_at: Date | null; }'.
server/services/stripeIssuingService.ts(74,11): error TS2322: Type 'string[]' is not assignable to type 'AllowedCategory[]'.
  Type 'string' is not assignable to type 'AllowedCategory'.
server/services/stripeIssuingService.ts(82,11): error TS2322: Type 'string[]' is not assignable to type 'BlockedCategory[]'.
  Type 'string' is not assignable to type 'BlockedCategory'.
server/services/stripeIssuingService.ts(168,33): error TS18047: 'stripe' is possibly 'null'.
server/services/stripeIssuingService.ts(203,13): error TS18047: 'stripe' is possibly 'null'.
server/services/stripeIssuingService.ts(237,13): error TS18047: 'stripe' is possibly 'null'.
server/services/stripeIssuingService.ts(298,43): error TS2551: Property 'authorization_code' does not exist on type 'Authorization'. Did you mean 'authorization_method'?
server/services/stripeIssuingService.ts(337,82): error TS2339: Property 'id' does not exist on type 'string | Card'.
  Property 'id' does not exist on type 'string'.
server/services/stripeIssuingService.ts(339,73): error TS2339: Property 'id' does not exist on type 'string | Card'.
  Property 'id' does not exist on type 'string'.
server/services/stripeIssuingService.ts(349,54): error TS2339: Property 'id' does not exist on type 'string | Authorization'.
  Property 'id' does not exist on type 'string'.
server/services/stripeIssuingService.ts(432,34): error TS2339: Property 'remaining_limit' does not exist on type '{ id: number; organization_id: number; user_id: number; stripe_card_id: string; card_number_masked: string; card_token: string; card_provider: string; card_type: string | null; status: string | null; ... 18 more ...; updated_at: Date | null; }'.
server/services/stripeIssuingService.ts(433,44): error TS2339: Property 'remaining_limit' does not exist on type '{ id: number; organization_id: number; user_id: number; stripe_card_id: string; card_number_masked: string; card_token: string; card_provider: string; card_type: string | null; status: string | null; ... 18 more ...; updated_at: Date | null; }'.
server/services/stripeIssuingService.ts(453,18): error TS2339: Property 'phone' does not exist on type '{ organization_id: number | null; id: number; auth_id: string; username: string; email: string; password_hash: string | null; display_name: string | null; avatar_url: string | null; role: string | null; ... 6 more ...; created_at: Date | null; }'.
server/ssoProvider.ts(5,29): error TS2307: Cannot find module './auditLogger' or its corresponding type declarations.
server/ssoProvider.ts(155,11): error TS2353: Object literal may only specify known properties, and 'sso_provider' does not exist in type '{ auth_id?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; username?: string | SQL<...> | PgColumn<...> | undefined; ... 13 more ...; created_at?: SQL<...> | ... 3 more ... | undefined; }'.
server/ssoProvider.ts(177,10): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { auth_id: string | SQL<unknown> | Placeholder<string, any>; username: string | SQL<unknown> | Placeholder<string, any>; email: string | SQL<unknown> | Placeholder<...>; ... 12 more ...; created_at?: SQL<...> | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'sso_provider' does not exist in type '{ auth_id: string | SQL<unknown> | Placeholder<string, any>; username: string | SQL<unknown> | Placeholder<string, any>; email: string | SQL<unknown> | Placeholder<...>; ... 12 more ...; created_at?: SQL<...> | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { auth_id: string | SQL<unknown> | Placeholder<string, any>; username: string | SQL<unknown> | Placeholder<string, any>; email: string | SQL<unknown> | Placeholder<...>; ... 12 more ...; created_at?: SQL<...> | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'email' does not exist in type '{ auth_id: string | SQL<unknown> | Placeholder<string, any>; username: string | SQL<unknown> | Placeholder<string, any>; email: string | SQL<unknown> | Placeholder<...>; ... 12 more ...; created_at?: SQL<...> | ... 3 more ... | undefined; }[]'.
server/ssoProvider.ts(295,49): error TS2551: Property 'organization_id' does not exist on type 'SSOConfig'. Did you mean 'organizationId'?
server/ssoProvider.ts(316,30): error TS2551: Property 'organization_id' does not exist on type 'SSOConfig'. Did you mean 'organizationId'?
server/ssoProvider.ts(340,48): error TS2551: Property 'organization_id' does not exist on type '{ organizationId: string; }'. Did you mean 'organizationId'?
server/ssoProvider.ts(354,48): error TS2551: Property 'organization_id' does not exist on type '{ organizationId: string; }'. Did you mean 'organizationId'?
server/ssoProvider.ts(368,48): error TS2551: Property 'organization_id' does not exist on type '{ organizationId: string; }'. Did you mean 'organizationId'?
server/ssoProvider.ts(378,77): error TS2551: Property 'organization_id' does not exist on type '{ user: SSOUser; organizationId: number; }'. Did you mean 'organizationId'?
server/ssoProvider.ts(381,17): error TS2339: Property 'user_id' does not exist on type 'Session & Partial<SessionData>'.
server/ssoProvider.ts(382,17): error TS2339: Property 'organization_id' does not exist on type 'Session & Partial<SessionData>'.
server/ssoProvider.ts(404,77): error TS2551: Property 'organization_id' does not exist on type '{ user: SSOUser; organizationId: number; }'. Did you mean 'organizationId'?
server/ssoProvider.ts(407,17): error TS2339: Property 'user_id' does not exist on type 'Session & Partial<SessionData>'.
server/ssoProvider.ts(408,17): error TS2339: Property 'organization_id' does not exist on type 'Session & Partial<SessionData>'.
server/storage.ts(213,11): error TS2322: Type '{ id: number; role: string | null; role_type: string | null; organization_id: number | null; company: string | null; job_title: string | null; team_size: string | null; use_case: string | null; ... 7 more ...; last_login?: Date | ... 1 more ... | undefined; }' is not assignable to type '{ organization_id: number | null; id: number; auth_id: string; username: string; email: string; password_hash: string | null; display_name: string | null; avatar_url: string | null; role: string | null; ... 6 more ...; created_at: Date | null; }'.
  Types of property 'last_login' are incompatible.
    Type 'Date | null | undefined' is not assignable to type 'Date | null'.
      Type 'undefined' is not assignable to type 'Date | null'.
server/storage.ts(710,14): error TS2420: Class 'DatabaseStorage' incorrectly implements interface 'IStorage'.
  Type 'DatabaseStorage' is missing the following properties from type 'IStorage': getTripTravelers, addTripTraveler, updateTripTraveler, removeTripTraveler, and 40 more.
server/storage.ts(799,15): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { user_id: number | SQL<unknown> | Placeholder<string, any>; title: string | SQL<unknown> | Placeholder<string, any>; start_date: SQL<unknown> | Date | Placeholder<...>; ... 23 more ...; budget?: number | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Argument of type '{ title: string; start_date: Date | null; end_date: Date | null; user_id: number; organization_id: number | null; is_public: boolean; sharing_enabled: boolean; share_permission: string; ... 6 more ...; budget: number | undefined; }' is not assignable to parameter of type '{ user_id: number | SQL<unknown> | Placeholder<string, any>; title: string | SQL<unknown> | Placeholder<string, any>; start_date: SQL<unknown> | Date | Placeholder<...>; ... 23 more ...; budget?: number | ... 3 more ... | undefined; }'.
      Types of property 'start_date' are incompatible.
        Type 'Date | null' is not assignable to type 'SQL<unknown> | Date | Placeholder<string, any>'.
          Type 'null' is not assignable to type 'SQL<unknown> | Date | Placeholder<string, any>'.
  Overload 2 of 2, '(values: { user_id: number | SQL<unknown> | Placeholder<string, any>; title: string | SQL<unknown> | Placeholder<string, any>; start_date: SQL<unknown> | Date | Placeholder<...>; ... 23 more ...; budget?: number | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Argument of type '{ title: string; start_date: Date | null; end_date: Date | null; user_id: number; organization_id: number | null; is_public: boolean; sharing_enabled: boolean; share_permission: string; ... 6 more ...; budget: number | undefined; }' is not assignable to parameter of type '{ user_id: number | SQL<unknown> | Placeholder<string, any>; title: string | SQL<unknown> | Placeholder<string, any>; start_date: SQL<unknown> | Date | Placeholder<...>; ... 23 more ...; budget?: number | ... 3 more ... | undefined; }[]'.
      Type '{ title: string; start_date: Date | null; end_date: Date | null; user_id: number; organization_id: number | null; is_public: boolean; sharing_enabled: boolean; share_permission: string; ... 6 more ...; budget: number | undefined; }' is missing the following properties from type '{ user_id: number | SQL<unknown> | Placeholder<string, any>; title: string | SQL<unknown> | Placeholder<string, any>; start_date: SQL<unknown> | Date | Placeholder<...>; ... 23 more ...; budget?: number | ... 3 more ... | undefined; }[]': length, pop, push, concat, and 29 more.
server/storage.ts(1456,7): error TS2741: Property 'where' is missing in type 'Omit<import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"expenses", Record<"expenses", { id: import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "expenses"; dataType: "number"; col...' but required in type 'Omit<import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/query-builders/select").PgSelectBase<"expenses", Record<"expenses", { id: import("C:/Users/Jonas/Desktop/NestMapRepo/node_modules/drizzle-orm/pg-core/columns/common").PgColumn<{ name: "id"; tableName: "expenses"; dataType: "number"; col...'.
