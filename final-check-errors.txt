server/billing.ts(9,5): error TS2322: Type '"2025-01-27.acacia"' is not assignable to type '"2025-05-28.basil"'.
server/billing.ts(71,76): error TS2339: Property 'payment_intent' does not exist on type 'Invoice'.
server/billing.ts(127,48): error TS2339: Property 'current_period_end' does not exist on type 'Subscription'.
server/calendar.ts(8,35): error TS2769: No overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number | Date'.
      Type 'undefined' is not assignable to type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number'.
      Type 'undefined' is not assignable to type 'string | number'.
server/calendar.ts(9,30): error TS18048: 'activity.time' is possibly 'undefined'.
server/calendar.ts(46,35): error TS2769: No overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number | Date'.
      Type 'undefined' is not assignable to type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number'.
      Type 'undefined' is not assignable to type 'string | number'.
server/calendar.ts(47,30): error TS18048: 'activity.time' is possibly 'undefined'.
server/calendar.ts(65,35): error TS2769: No overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number | Date'.
      Type 'undefined' is not assignable to type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number'.
      Type 'undefined' is not assignable to type 'string | number'.
server/calendar.ts(66,30): error TS18048: 'activity.time' is possibly 'undefined'.
server/calendarSync.ts(6,11): error TS2430: Interface 'AuthenticatedRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; organizationId: string; } | undefined' is not assignable to type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined'.
      Property 'role' is missing in type '{ id: string; email: string; organizationId: string; }' but required in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/calendarSync.ts(104,41): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/calendarSync.ts(115,35): error TS2769: No overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number | Date'.
      Type 'undefined' is not assignable to type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number'.
      Type 'undefined' is not assignable to type 'string | number'.
server/calendarSync.ts(170,35): error TS2769: No overload matches this call.
  Overload 1 of 4, '(value: string | number | Date): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number | Date'.
      Type 'undefined' is not assignable to type 'string | number | Date'.
  Overload 2 of 4, '(value: string | number): Date', gave the following error.
    Argument of type 'string | undefined' is not assignable to parameter of type 'string | number'.
      Type 'undefined' is not assignable to type 'string | number'.
server/config.ts(136,40): error TS2367: This comparison appears to be unintentional because the types '"development" | "production" | "test.js" | "development.js"' and '"test"' have no overlap.
server/config/index.ts(101,5): error TS2322: Type '"development" | "production" | "test"' is not assignable to type '"development" | "production" | "test.js"'.
  Type '"test"' is not assignable to type '"development" | "production" | "test.js"'.
server/db/invoiceSchema.ts(5,34): error TS2307: Cannot find module '@shared/shared/types/invoice' or its corresponding type declarations.
server/demoAnalytics.ts(6,43): error TS2345: Argument of type 'number' is not assignable to parameter of type 'string'.
server/domainVerification.ts(94,32): error TS2339: Property 'getPeerCertificate' does not exist on type 'Socket'.
server/emailService.ts(2,35): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/emailService.ts(52,13): error TS2304: Cannot find name 'generateNotificationHTML'.
server/emailService.ts(52,40): error TS2304: Cannot find name 'generateNotificationHTML'.
server/index.ts(18,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'NextHandleFunction' is not assignable to parameter of type 'PathParams'.
server/index.ts(19,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'NextHandleFunction' is not assignable to parameter of type 'PathParams'.
server/index.ts(61,10): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/index.ts(61,15): error TS7006: Parameter '_req' implicitly has an 'any' type.
server/index.ts(61,21): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/index.ts(61,26): error TS7006: Parameter '_next' implicitly has an 'any' type.
server/index.ts(70,10): error TS6133: 'req' is declared but its value is never read.
server/loadBalancer.ts(3,10): error TS2305: Module '"../shared/src/schema.js"' has no exported member 'customDomains'.
server/loadBalancer.ts(3,25): error TS2724: '"../shared/src/schema.js"' has no exported member named 'organizations'. Did you mean 'OrganizationPlan'?
server/loadBalancer.ts(3,40): error TS2305: Module '"../shared/src/schema.js"' has no exported member 'whiteLabelSettings'.
server/middleware/comprehensive-rate-limiting.ts(369,29): error TS2551: Property 'organizationTier' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/middleware/inputValidation.ts(345,14): error TS2339: Property 'file' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/inputValidation.ts(349,24): error TS2339: Property 'file' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/organization.ts(18,31): error TS6133: 'res' is declared but its value is never read.
server/middleware/organization.ts(58,43): error TS7030: Not all code paths return a value.
server/middleware/organization.ts(79,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/organization.ts(79,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/organizationContext.ts(50,11): error TS2339: Property 'isWhiteLabelDomain' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/organizationContext.ts(50,37): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(52,41): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(56,26): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(70,30): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(77,7): error TS2551: Property 'organizationFilter' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(88,17): error TS7030: Not all code paths return a value.
server/middleware/organizationContext.ts(146,17): error TS7030: Not all code paths return a value.
server/middleware/organizationContext.ts(174,7): error TS2339: Property 'analyticsScope' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/organizationContext.ts(199,44): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/middleware/organizationContext.ts(223,11): error TS2551: Property 'domainOrganizationId' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/middleware/organizationContext.ts(224,11): error TS2339: Property 'isWhiteLabelDomain' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/organizationRoleMiddleware.ts(16,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/middleware/organizationRoleMiddleware.ts(18,45): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/middleware/organizationScoping.clean.ts(15,18): error TS2430: Interface 'CustomRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  The types returned by 'get(...)' are incompatible between these types.
    Type 'string | undefined' is not assignable to type 'string[] | undefined'.
      Type 'string' is not assignable to type 'string[]'.
server/middleware/organizationScoping.clean.ts(178,17): error TS7030: Not all code paths return a value.
server/middleware/organizationScoping.clean.ts(266,17): error TS7030: Not all code paths return a value.
server/middleware/organizationScoping.ts(15,18): error TS2430: Interface 'CustomRequest' incorrectly extends interface 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
  The types returned by 'get(...)' are incompatible between these types.
    Type 'string | undefined' is not assignable to type 'string[] | undefined'.
      Type 'string' is not assignable to type 'string[]'.
server/middleware/organizationScoping.ts(178,17): error TS7030: Not all code paths return a value.
server/middleware/organizationScoping.ts(266,17): error TS7030: Not all code paths return a value.
server/middleware/performance.ts(116,61): error TS6133: 'res' is declared but its value is never read.
server/middleware/responseCoordinator.ts(13,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/responseCoordinator.ts(13,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/responseCoordinator.ts(14,7): error TS2687: All declarations of 'responseMetrics' must have identical modifiers.
server/middleware/responseCoordinator.ts(14,7): error TS2717: Subsequent property declarations must have the same type.  Property 'responseMetrics' must be of type 'any', but here has type 'ResponseMetrics'.
server/middleware/responseCoordinator.ts(27,7): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(51,15): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(52,47): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(53,17): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(54,46): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(71,13): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(71,48): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(74,26): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(75,27): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(80,13): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/responseCoordinator.ts(82,11): error TS2339: Property 'responseMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/secureAuth.ts(30,22): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/secureAuth.ts(30,22): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/secureAuth.ts(90,5): error TS2741: Property 'id' is missing in type 'TokenPayload' but required in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/middleware/secureAuth.ts(136,5): error TS2741: Property 'id' is missing in type 'TokenPayload' but required in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/middleware/secureAuth.ts(152,10): error TS7030: Not all code paths return a value.
server/middleware/secureAuth.ts(171,36): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/middleware/secureAuth.ts(190,11): error TS7030: Not all code paths return a value.
server/middleware/secureAuth.ts(215,50): error TS6133: 'res' is declared but its value is never read.
server/middleware/securityAuditLogger.ts(3,34): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/middleware/securityAuditLogger.ts(57,13): error TS2322: Type 'string' is not assignable to type 'number'.
server/middleware/securityAuditLogger.ts(61,13): error TS2322: Type 'string | null | undefined' is not assignable to type 'number | undefined'.
  Type 'null' is not assignable to type 'number | undefined'.
server/middleware/securityAuditLogger.ts(194,48): error TS6133: 'res' is declared but its value is never read.
server/middleware/securityAuditLogger.ts(197,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/middleware/securityAuditLogger.ts(200,7): error TS2322: Type 'string | null | undefined' is not assignable to type 'number | undefined'.
  Type 'null' is not assignable to type 'number | undefined'.
server/middleware/sessionTracking.ts(3,30): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/middleware/sessionTracking.ts(15,55): error TS6133: 'res' is declared but its value is never read.
server/middleware/sessionTracking.ts(21,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/middleware/sessionTracking.ts(22,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/middleware/subscription-limits.ts(163,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(169,39): error TS2345: Argument of type 'JwtUser' is not assignable to parameter of type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | null' is not assignable to type 'string | number | undefined'.
      Type 'null' is not assignable to type 'string | number | undefined'.
server/middleware/subscription-limits.ts(193,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(199,39): error TS2345: Argument of type 'JwtUser' is not assignable to parameter of type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | null' is not assignable to type 'string | number | undefined'.
      Type 'null' is not assignable to type 'string | number | undefined'.
server/middleware/subscription-limits.ts(223,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(229,39): error TS2345: Argument of type 'JwtUser' is not assignable to parameter of type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | null' is not assignable to type 'string | number | undefined'.
      Type 'null' is not assignable to type 'string | number | undefined'.
server/middleware/subscription-limits.ts(251,10): error TS7030: Not all code paths return a value.
server/middleware/subscription-limits.ts(257,39): error TS2345: Argument of type 'JwtUser' is not assignable to parameter of type '{ organizationId?: string | number | undefined; organization_id?: string | number | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | null' is not assignable to type 'string | number | undefined'.
      Type 'null' is not assignable to type 'string | number | undefined'.
server/middleware/superadmin.ts(21,13): error TS2310: Type 'Request<P, ResBody, ReqBody, ReqQuery, LocalsObj>' recursively references itself as a base type.
server/middleware/superadmin.ts(25,34): error TS7030: Not all code paths return a value.
server/middleware/superadmin.ts(49,39): error TS7030: Not all code paths return a value.
server/middleware/unified-monitoring.ts(16,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/unified-monitoring.ts(16,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/unified-monitoring.ts(17,7): error TS2687: All declarations of 'unifiedMetrics' must have identical modifiers.
server/middleware/unified-monitoring.ts(37,7): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(46,7): error TS2339: Property 'trackQuery' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(47,9): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(48,9): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(51,11): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(78,15): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(79,43): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(80,31): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(80,64): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(92,24): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(99,13): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(102,26): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(103,27): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(104,26): error TS2339: Property 'unifiedMetrics' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/middleware/unified-monitoring.ts(109,27): error TS2367: This comparison appears to be unintentional because the types '"development" | "production" | "test.js" | undefined' and '"development.js"' have no overlap.
server/middleware/unified-monitoring.ts(143,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/middleware/unified-monitoring.ts(143,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/middleware/validation.ts(26,4): error TS6133: 'req' is declared but its value is never read.
server/middleware/validation.ts(26,18): error TS6133: 'res' is declared but its value is never read.
server/notificationService.ts(1,10): error TS2305: Module '"./emailService.js"' has no exported member 'sendEmail'.
server/organizationContext.ts(7,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/organizationContext.ts(7,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/organizationContext.ts(8,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'AuthUser | undefined', but here has type '{ [key: string]: any; id: number; organizationId?: number | null | undefined; role?: string | undefined; } | undefined'.
server/organizationContext.ts(14,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationId' must be of type 'string | undefined', but here has type 'number | null | undefined'.
server/organizationContext.ts(15,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationContext' must be of type '{ organizationId: string; isWhiteLabelDomain: boolean; domainOrganizationId?: string | undefined; } | undefined', but here has type '{ id: number | null; canAccessOrganization: (orgId: number | null) => boolean; enforceOrganizationAccess: (orgId: number | null) => void; } | undefined'.
server/organizationContext.ts(28,61): error TS6133: 'res' is declared but its value is never read.
server/organizationContext.ts(42,5): error TS2322: Type 'string | null | undefined' is not assignable to type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
server/organizationContext.ts(43,9): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(68,18): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(93,3): error TS2322: Type 'T & { organizationId: string | null | undefined; }' is not assignable to type 'T & { organizationId?: number | null | undefined; }'.
  Type 'T & { organizationId: string | null | undefined; }' is not assignable to type '{ organizationId?: number | null | undefined; }'.
    Types of property 'organizationId' are incompatible.
      Type 'string | null | undefined' is not assignable to type 'number | null | undefined'.
        Type 'string' is not assignable to type 'number'.
server/organizationContext.ts(102,17): error TS7030: Not all code paths return a value.
server/organizationContext.ts(103,12): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(146,32): error TS2554: Expected 2 arguments, but got 1.
server/organizationContext.ts(152,13): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/organizationContext.ts(153,11): error TS2339: Property 'organizationContext' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
server/performance-monitor.ts(124,12): error TS2678: Type '"DB_BOTTLENECK"' is not comparable to type '"SLOW_ENDPOINT" | "HIGH_ERROR_RATE" | "MEMORY_LEAK" | "DB_BOTTLENECK.js"'.
server/permissions.ts(146,49): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/predictiveAI.ts(201,7): error TS2322: Type 'WeatherData[]' is not assignable to type '{ date: string; condition: string; temperature: number; precipitation: number; recommendations: string[]; }[]'.
  Type 'WeatherData' is missing the following properties from type '{ date: string; condition: string; temperature: number; precipitation: number; recommendations: string[]; }': precipitation, recommendations
server/pushNotifications.ts(1,21): error TS2307: Cannot find module 'web-push.js' or its corresponding type declarations.
server/rbac.ts(3,10): error TS2724: '"../shared/src/schema.js"' has no exported member named 'users'. Did you mean 'User'?
server/rbac.ts(3,17): error TS2305: Module '"../shared/src/schema.js"' has no exported member 'tripCollaborators'.
server/rbac.ts(3,36): error TS2724: '"../shared/src/schema.js"' has no exported member named 'trips'. Did you mean 'Trip'?
server/rbac.ts(91,27): error TS7053: Element implicitly has an 'any' type because expression of type 'UserRole' can't be used to index type '{ admin: ("view_analytics" | "export_data" | "manage_users" | "manage_organizations")[]; manager: ("view_analytics" | "export_data")[]; user: never[]; guest: never[]; }'.
  Property 'member' does not exist on type '{ admin: ("view_analytics" | "export_data" | "manage_users" | "manage_organizations")[]; manager: ("view_analytics" | "export_data")[]; user: never[]; guest: never[]; }'.
server/rbac.ts(98,35): error TS2345: Argument of type 'string' is not assignable to parameter of type '"view_trip"'.
server/rbac.ts(135,10): error TS7030: Not all code paths return a value.
server/rbac.ts(136,18): error TS2352: Conversion of type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' to type 'AuthenticatedUser' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is missing the following properties from type 'AuthenticatedUser': auth_id, username
server/rbac.ts(156,10): error TS7030: Not all code paths return a value.
server/rbac.ts(157,18): error TS2352: Conversion of type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' to type 'AuthenticatedUser' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is missing the following properties from type 'AuthenticatedUser': auth_id, username
server/rbac.ts(184,8): error TS2352: Conversion of type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' to type 'UserWithTripRole' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is missing the following properties from type 'UserWithTripRole': auth_id, username
server/rbac/organizationRoles.ts(177,3): error TS2353: Object literal may only specify known properties, and 'viewer' does not exist in type 'Record<OrganizationRole, OrganizationPermissions>'.
server/rbac/organizationRoles.ts(288,10): error TS2678: Type '"viewer"' is not comparable to type 'OrganizationRole'.
server/rbac/organizationRoles.ts(304,5): error TS2353: Object literal may only specify known properties, and 'viewer' does not exist in type 'Record<OrganizationRole, number>'.
server/routes/activities.ts(2,34): error TS2307: Cannot find module 'express-serve-static-core.js' or its corresponding type declarations.
server/routes/activities.ts(9,30): error TS2307: Cannot find module 'uuid.js' or its corresponding type declarations.
server/routes/activities.ts(37,23): error TS2367: This comparison appears to be unintentional because the types '"string" | "number" | "bigint" | "boolean" | "symbol" | "undefined" | "object" | "function"' and '"string.js"' have no overlap.
server/routes/admin-analytics.ts(3,57): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/admin-analytics.ts(53,35): error TS7030: Not all code paths return a value.
server/routes/admin-analytics.ts(193,51): error TS7030: Not all code paths return a value.
server/routes/admin-analytics.ts(220,40): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(4,46): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/admin-settings.ts(83,34): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(110,34): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(165,46): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(206,30): error TS7030: Not all code paths return a value.
server/routes/admin-settings.ts(245,37): error TS7030: Not all code paths return a value.
server/routes/admin.temp.ts(3,122): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/admin.temp.ts(8,10): error TS2305: Module '"../middleware/validation.js"' has no exported member 'validateAndSanitizeRequest'.
server/routes/admin.temp.ts(11,22): error TS6133: 'role' is declared but its value is never read.
server/routes/admin.temp.ts(11,40): error TS6133: 'req' is declared but its value is never read.
server/routes/admin.temp.ts(11,54): error TS6133: 'res' is declared but its value is never read.
server/routes/admin.temp.ts(31,32): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'entityType' does not exist in type '{ userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'id' does not exist in type '{ userId: string | SQL<unknown> | Placeholder<string, any>; organizationId: string | SQL<unknown> | Placeholder<string, any>; action: string | SQL<unknown> | Placeholder<...>; ... 4 more ...; resourceId?: string | ... 3 more ... | undefined; }[]'.
server/routes/admin.temp.ts(88,30): error TS2769: No overload matches this call.
  Overload 1 of 2, '(values: readonly [string, ...string[]], params?: RawCreateParams): ZodEnum<[string, ...string[]]>', gave the following error.
    Argument of type '[string, string, string, string, string, string, string, null]' is not assignable to parameter of type 'readonly [string, ...string[]]'.
      Type at positions 1 through 7 in source is not compatible with type at position 1 in target.
        Type 'null' is not assignable to type 'string'.
  Overload 2 of 2, '(values: [string, ...string[]], params?: RawCreateParams): ZodEnum<[string, ...string[]]>', gave the following error.
    Argument of type '[string, string, string, string, string, string, string, null]' is not assignable to parameter of type '[string, ...string[]]'.
      Type at positions 1 through 7 in source is not compatible with type at position 1 in target.
        Type 'null' is not assignable to type 'string'.
server/routes/admin.temp.ts(129,17): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/admin.temp.ts(150,3): error TS7030: Not all code paths return a value.
server/routes/admin.temp.ts(173,19): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/admin.temp.ts(202,22): error TS2339: Property 'entityType' does not exist on type 'PgTableWithColumns<{ name: "audit_logs"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "audit_logs"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 6 more ...; createdAt: PgColum...'.
server/routes/admin.temp.ts(203,22): error TS2339: Property 'entityId' does not exist on type 'PgTableWithColumns<{ name: "audit_logs"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "audit_logs"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 6 more ...; createdAt: PgColum...'.
server/routes/admin.ts(3,30): error TS2307: Cannot find module 'uuid.js' or its corresponding type declarations.
server/routes/admin.ts(4,74): error TS2307: Cannot find module 'drizzle-orm/pg-core.js' or its corresponding type declarations.
server/routes/admin.ts(9,10): error TS2305: Module '"../middleware/validation.js"' has no exported member 'validateAndSanitizeRequest'.
server/routes/admin.ts(11,57): error TS2307: Cannot find module '../types/auth.js' or its corresponding type declarations.
server/routes/admin.ts(399,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/admin.ts(408,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/ai.ts(7,35): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/ai.ts(88,31): error TS7030: Not all code paths return a value.
server/routes/ai.ts(164,30): error TS7030: Not all code paths return a value.
server/routes/ai.ts(247,36): error TS7030: Not all code paths return a value.
server/routes/ai.ts(347,36): error TS7030: Not all code paths return a value.
server/routes/ai.ts(420,35): error TS7030: Not all code paths return a value.
server/routes/ai.ts(489,32): error TS7030: Not all code paths return a value.
server/routes/alerts.ts(7,31): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/alerts.ts(221,16): error TS2367: This comparison appears to be unintentional because the types '"system" | "performance" | "security" | "network.js"' and '"network"' have no overlap.
server/routes/alerts.ts(226,9): error TS2345: Argument of type '"network"' is not assignable to parameter of type '"system" | "performance" | "security" | "network.js"'.
server/routes/alerts.ts(284,9): error TS2345: Argument of type '"info"' is not assignable to parameter of type '"warning" | "critical" | "info.js"'.
server/routes/alerts.ts(327,42): error TS2367: This comparison appears to be unintentional because the types '"warning" | "critical" | "info.js"' and '"info"' have no overlap.
server/routes/alerts.ts(338,134): error TS7030: Not all code paths return a value.
server/routes/alerts.ts(360,135): error TS6133: 'req' is declared but its value is never read.
server/routes/alerts.ts(399,124): error TS6133: 'req' is declared but its value is never read.
server/routes/alerts.ts(418,39): error TS2367: This comparison appears to be unintentional because the types '"warning" | "critical" | "info.js"' and '"info"' have no overlap.
server/routes/alerts.ts(424,40): error TS2367: This comparison appears to be unintentional because the types '"warning" | "critical" | "info.js"' and '"info"' have no overlap.
server/routes/alerts.ts(430,45): error TS2367: This comparison appears to be unintentional because the types '"system" | "performance" | "security" | "network.js"' and '"network"' have no overlap.
server/routes/analytics.ts(14,17): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type 'JwtUser | undefined'.
                Property 'permissions' is missing in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' but required in type 'JwtUser'.
server/routes/analytics.ts(14,43): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(22,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/analytics.ts(32,25): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(48,23): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(63,78): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(74,52): error TS2345: Argument of type 'number' is not assignable to parameter of type 'string'.
server/routes/analytics.ts(83,64): error TS7030: Not all code paths return a value.
server/routes/analytics.ts(90,52): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
server/routes/approvals.ts(26,37): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(27,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(31,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(57,30): error TS2339: Property 'display_name' does not exist on type 'PgTableWithColumns<{ name: "users"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 20 more ...; updatedAt: PgColumn<...>; }...'.
server/routes/approvals.ts(77,51): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(78,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(83,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(102,9): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/approvals.ts(133,14): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "id"; tableName: "approval_requests"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/approvals.ts(145,31): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(147,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(151,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(160,7): error TS2345: Argument of type 'Record<string, any> | undefined' is not assignable to parameter of type 'Record<string, any>'.
  Type 'undefined' is not assignable to type 'Record<string, any>'.
server/routes/approvals.ts(171,83): error TS2345: Argument of type 'Record<string, any> | undefined' is not assignable to parameter of type 'Record<string, any>'.
  Type 'undefined' is not assignable to type 'Record<string, any>'.
server/routes/approvals.ts(176,8): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: "delete" | "create" | SQL<unknown> | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Type 'number | undefined' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any> | null | undefined'.
      Type 'number' is not assignable to type 'string | SQL<unknown> | Placeholder<string, any> | null | undefined'.
  Overload 2 of 2, '(values: { organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: "delete" | "create" | SQL<unknown> | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'organizationId' does not exist in type '{ organizationId: string | SQL<unknown> | Placeholder<string, any>; requestType: "delete" | "create" | SQL<unknown> | "other" | "modify" | "approve" | Placeholder<string, any>; ... 17 more ...; rejectedAt?: Date | ... 3 more ... | undefined; }[]'.
server/routes/approvals.ts(199,35): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(200,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(204,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(222,36): error TS7030: Not all code paths return a value.
server/routes/approvals.ts(224,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(228,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/approvals.ts(268,7): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "organization_id"; tableName: "approval_rules"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "approval_rules"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "organization_id"; tableName: "approval_rules"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "approval_rules"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; ... 5 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/approvals.ts(282,9): error TS2322: Type 'string' is not assignable to type 'number'.
server/routes/approvals.ts(330,3): error TS6133: 'entityType' is declared but its value is never read.
server/routes/approvals.ts(331,3): error TS6133: 'proposedData' is declared but its value is never read.
server/routes/approvals.ts(338,7): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "organization_id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'number' is not assignable to parameter of type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<number>, right: number | SQLWrapper): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<number>'.
      Type 'PgColumn<{ name: "organization_id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<number>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "users"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/approvals.ts(343,3): error TS2322: Type '{ id: string; }' is not assignable to type '{ id: number; }'.
  Types of property 'id' are incompatible.
    Type 'string' is not assignable to type 'number'.
server/routes/approvals.ts(374,15): error TS2561: Object literal may only specify known properties, but 'approved_by' does not exist in type '{ description?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; userId?: string | SQL<...> | PgColumn<...> | undefined; ... 16 more ...; reimbursedAt?: Date | ... 3 more ... | undefined; }'. Did you mean to write 'approvedBy'?
server/routes/auth.ts(2,31): error TS2307: Cannot find module '@nestjs/config.js' or its corresponding type declarations.
server/routes/auth.ts(7,3): error TS2305: Module '"../src/auth/dtos/auth.dto.js"' has no exported member 'loginSchema'.
server/routes/auth.ts(8,3): error TS2305: Module '"../src/auth/dtos/auth.dto.js"' has no exported member 'refreshTokenSchema'.
server/routes/auth.ts(9,3): error TS2305: Module '"../src/auth/dtos/auth.dto.js"' has no exported member 'logoutSchema'.
server/routes/auth.ts(10,3): error TS2724: '"../src/auth/dtos/auth.dto.js"' has no exported member named 'requestPasswordResetSchema'. Did you mean 'RequestPasswordResetDto'?
server/routes/auth.ts(11,3): error TS2305: Module '"../src/auth/dtos/auth.dto.js"' has no exported member 'resetPasswordSchema'.
server/routes/auth.ts(22,25): error TS2673: Constructor of class 'AuthContainer' is private and only accessible within the class declaration.
server/routes/billing.ts(22,17): error TS7030: Not all code paths return a value.
server/routes/billing.ts(24,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/billing.ts(30,44): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/billing.ts(38,14): error TS2551: Property 'stripe_customer_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeCustomerId'?
server/routes/billing.ts(47,15): error TS2551: Property 'stripe_subscription_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeSubscriptionId'?
server/routes/billing.ts(48,70): error TS2551: Property 'stripe_subscription_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeSubscriptionId'?
server/routes/billing.ts(59,27): error TS2551: Property 'stripe_customer_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeCustomerId'?
server/routes/billing.ts(60,31): error TS2551: Property 'stripe_subscription_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeSubscriptionId'?
server/routes/billing.ts(67,27): error TS2551: Property 'stripe_customer_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeCustomerId'?
server/routes/billing.ts(75,25): error TS2551: Property 'stripe_customer_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeCustomerId'?
server/routes/billing.ts(87,30): error TS7030: Not all code paths return a value.
server/routes/billing.ts(100,21): error TS7053: Element implicitly has an 'any' type because expression of type 'any' can't be used to index type '{ free: { id: string; name: string; price: number; interval: string; features: string[]; stripePriceId: null; }; team: { id: string; name: string; price: number; interval: string; features: string[]; stripePriceId: string | undefined; }; enterprise: { ...; }; }'.
server/routes/billing.ts(114,26): error TS2551: Property 'stripe_customer_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeCustomerId'?
server/routes/billing.ts(123,16): error TS2561: Object literal may only specify known properties, but 'stripe_customer_id' does not exist in type '{ name?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; slug?: string | SQL<unknown> | PgColumn<...> | undefined; ... 17 more ...; updatedAt?: Date | ... 2 more ... | undefined; }'. Did you mean to write 'stripeCustomerId'?
server/routes/billing.ts(130,13): error TS2551: Property 'stripe_subscription_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeSubscriptionId'?
server/routes/billing.ts(132,57): error TS2551: Property 'stripe_subscription_id' does not exist on type '{ id: string; name: string; slug: string; plan: "free" | "pro" | "enterprise"; settings: { timezone?: string | undefined; locale?: string | undefined; whiteLabel?: { enabled: boolean; logoUrl?: string | undefined; primaryColor?: string | undefined; } | undefined; } | null; ... 14 more ...; updatedAt: Date; }'. Did you mean 'stripeSubscriptionId'?
server/routes/billing.ts(145,16): error TS2561: Object literal may only specify known properties, but 'stripe_subscription_id' does not exist in type '{ name?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; slug?: string | SQL<unknown> | PgColumn<...> | undefined; ... 17 more ...; updatedAt?: Date | ... 2 more ... | undefined; }'. Did you mean to write 'stripeSubscriptionId'?
server/routes/billing.ts(166,24): error TS7030: Not all code paths return a value.
server/routes/bookings.ts(1,76): error TS2724: '"express"' has no exported member named 'RequestHandlerParams'. Did you mean 'RequestHandler'?
server/routes/bookings.ts(14,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/routes/bookings.ts(14,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/routes/bookings.ts(15,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'AuthUser | undefined', but here has type '(AuthUser & { organizationId: string; role?: string | undefined; }) | undefined'.
server/routes/bookings.ts(16,7): error TS2687: All declarations of 'organizationId' must have identical modifiers.
server/routes/bookings.ts(16,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationId' must be of type 'string | undefined', but here has type 'string'.
server/routes/bookings.ts(17,7): error TS2687: All declarations of 'organizationFilter' must have identical modifiers.
server/routes/bookings.ts(17,7): error TS2717: Subsequent property declarations must have the same type.  Property 'organizationFilter' must be of type '((orgId: string | null) => boolean) | undefined', but here has type '(orgId: string | null) => boolean'.
server/routes/bookings.ts(51,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(51,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(51,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(85,18): error TS2345: Argument of type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type '(req: Request<any, any, any, any, Record<string, any>>, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<...>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type 'AuthenticatedRequest<any, any, any, any>'.
      Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type '{ user: AuthUser; organizationId: string; }'.
        Types of property 'user' are incompatible.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type 'AuthUser'.
            Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/bookings.ts(85,18): error TS7030: Not all code paths return a value.
server/routes/bookings.ts(97,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'string | null' is not assignable to parameter of type 'string | SQLWrapper'.
      Type 'null' is not assignable to type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<string | null>, right: string | SQLWrapper | null): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string | null>'.
      Type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string | null>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/bookings.ts(114,48): error TS2339: Property 'createBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(133,48): error TS2339: Property 'createHotelBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(183,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(183,41): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(183,46): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(206,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(206,41): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(206,46): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(240,3): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(240,39): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(240,44): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(267,32): error TS2339: Property 'cancelBooking' does not exist on type 'DuffelProvider'.
server/routes/bookings.ts(295,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(295,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(295,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(311,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(311,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(311,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/bookings.ts(335,29): error TS2339: Property 'startDate' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'.
server/routes/bookings.ts(344,18): error TS2345: Argument of type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type '(req: Request<any, any, any, any, Record<string, any>>, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<...>'.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type 'AuthenticatedRequest<any, any, any, any>'.
      Type 'Request<any, any, any, any, Record<string, any>>' is not assignable to type '{ user: AuthUser; organizationId: string; }'.
        Types of property 'user' are incompatible.
          Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type 'AuthUser'.
            Type 'undefined' is not assignable to type 'AuthUser'.
server/routes/bookings.ts(344,18): error TS7030: Not all code paths return a value.
server/routes/bookings.ts(355,11): error TS2769: No overload matches this call.
  Overload 1 of 3, '(left: PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>, right: string | SQLWrapper): SQL<...>', gave the following error.
    Argument of type 'string | null' is not assignable to parameter of type 'string | SQLWrapper'.
      Type 'null' is not assignable to type 'string | SQLWrapper'.
  Overload 2 of 3, '(left: Aliased<string | null>, right: string | SQLWrapper | null): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'Aliased<string | null>'.
      Type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is missing the following properties from type 'Aliased<string | null>': sql, fieldAlias
  Overload 3 of 3, '(left: never, right: unknown): SQL<unknown>', gave the following error.
    Argument of type 'PgColumn<{ name: "organization_id"; tableName: "trips"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: false; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>' is not assignable to parameter of type 'never'.
server/routes/bookings.ts(383,5): error TS2552: Cannot find name 'route'. Did you mean 'Router'?
server/routes/bookings.ts(383,38): error TS7006: Parameter 'req' implicitly has an 'any' type.
server/routes/bookings.ts(383,43): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/calendar.ts(4,57): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/calendar.ts(17,39): error TS7030: Not all code paths return a value.
server/routes/calendar.ts(19,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(23,40): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/calendar.ts(24,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(61,29): error TS7030: Not all code paths return a value.
server/routes/calendar.ts(63,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(68,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(92,35): error TS7030: Not all code paths return a value.
server/routes/calendar.ts(94,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(98,40): error TS2551: Property 'trip_id' does not exist on type '{ tripId: string; }'. Did you mean 'tripId'?
server/routes/calendar.ts(99,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/calendar.ts(174,33): error TS6133: 'index' is declared but its value is never read.
server/routes/collaboration.ts(4,82): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/collaboration.ts(12,107): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(14,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(19,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(67,40): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(69,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(74,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(108,35): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/collaboration.ts(154,46): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(156,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(161,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(195,39): error TS7030: Not all code paths return a value.
server/routes/collaboration.ts(197,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/collaboration.ts(202,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(3,57): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/corporateCards.ts(16,32): error TS2551: Property 'organization' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(55,32): error TS2551: Property 'organization' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(98,32): error TS2551: Property 'organization' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(138,32): error TS2551: Property 'organization' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(184,32): error TS2551: Property 'organization' does not exist on type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'. Did you mean 'organizationId'?
server/routes/corporateCards.ts(334,75): error TS7030: Not all code paths return a value.
server/routes/corporateCards.ts(391,48): error TS6133: 'req' is declared but its value is never read.
server/routes/corporateCards.ts(402,57): error TS6133: 'req' is declared but its value is never read.
server/routes/customDomains.ts(3,52): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/customDomains.ts(12,20): error TS2307: Cannot find module 'crypto.js' or its corresponding type declarations.
server/routes/customDomains.ts(13,33): error TS2307: Cannot find module 'dns.js' or its corresponding type declarations.
server/routes/customDomains.ts(170,55): error TS7006: Parameter 'record' implicitly has an 'any' type.
server/routes/domains.ts(3,66): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/domains.ts(6,33): error TS2307: Cannot find module 'dns.js' or its corresponding type declarations.
server/routes/domains.ts(31,5): error TS2769: No overload matches this call.
  Overload 1 of 6, '(path: PathParams, ...handlers: RequestHandler<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ domains: Domain[]; }>) => Promise<Response<{ domains: Domain[]; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 6, '(path: PathParams, ...handlers: RequestHandlerParams<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ domains: Domain[]; }>) => Promise<Response<{ domains: Domain[]; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ domains: Domain[]; }>) => Promise<Response<{ domains: Domain[]; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{}, { domains: Domain[]; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(31,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(33,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ domains: Domain[]; }'.
server/routes/domains.ts(38,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ domains: Domain[]; }'.
server/routes/domains.ts(59,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ domains: Domain[]; }'.
server/routes/domains.ts(66,5): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; domain: Domain; }>) => Promise<Response<{ success: boolean; domain: Domain; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; domain: Domain; }>) => Promise<Response<{ success: boolean; domain: Domain; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ success: boolean; domain: Domain; }>) => Promise<Response<{ success: boolean; domain: Domain; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{}, { success: boolean; domain: Domain; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(66,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(68,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(73,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(79,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(93,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(101,11): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(127,9): error TS2353: Object literal may only specify known properties, and 'verification' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(136,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; domain: Domain; }'.
server/routes/domains.ts(143,5): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(143,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(145,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(162,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(189,11): error TS2353: Object literal may only specify known properties, and 'nextSteps' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(196,11): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(202,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(209,5): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<{ success: boolean; message: string; }>) => Promise<Response<{ success: boolean; message: string; }, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ domainId: string; }, { success: boolean; message: string; }, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(209,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(211,37): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(227,39): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(236,30): error TS2353: Object literal may only specify known properties, and 'error' does not exist in type '{ success: boolean; message: string; }'.
server/routes/domains.ts(243,5): error TS7030: Not all code paths return a value.
server/routes/domains.ts(296,5): error TS2769: No overload matches this call.
  Overload 1 of 6, '(path: PathParams, ...handlers: RequestHandler<{}, any, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{}, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{}, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
  Overload 2 of 6, '(path: PathParams, ...handlers: RequestHandlerParams<{}, any, any, ParsedQs, Record<string, any>>[]): Express', gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{}, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{}, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{}, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/domains.ts(296,5): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(5,40): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/expenses.ts(44,17): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(46,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(50,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(85,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<any, any, "multiple", any, false, "where", { [x: string]: any; }[], any>, "where">'.
server/routes/expenses.ts(127,22): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(129,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(133,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(144,7): error TS2322: Type 'SQL<unknown> | undefined' is not assignable to type 'SQL<unknown>'.
  Type 'undefined' is not assignable to type 'SQL<unknown>'.
server/routes/expenses.ts(199,18): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(201,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(205,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(243,20): error TS2339: Property 'approvalRequests' does not exist on type 'PostgresJsDatabase<{ transformTripToFrontend(trip: Trip): { id: string; title: string; startDate: string; endDate: string; userId: string; organizationId: string; collaborators: Record<string, string> | undefined; ... 19 more ...; updatedAt: string | undefined; }; ... 124 more ...; selectAdminAuditLogSchema: BuildSc...'.
server/routes/expenses.ts(245,22): error TS2339: Property 'approvalRequests' does not exist on type 'PostgresJsDatabase<{ transformTripToFrontend(trip: Trip): { id: string; title: string; startDate: string; endDate: string; userId: string; organizationId: string; collaborators: Record<string, string> | undefined; ... 19 more ...; updatedAt: string | undefined; }; ... 124 more ...; selectAdminAuditLogSchema: BuildSc...'.
server/routes/expenses.ts(267,29): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(269,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(274,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(336,38): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(338,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(343,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(393,36): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(395,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(400,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(435,23): error TS7030: Not all code paths return a value.
server/routes/expenses.ts(437,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(441,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/expenses.ts(467,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<any, { expense: any; trip: { id: any; title: any; destination: any; startDate: any; endDate: any; }; user: { id: any; displayName: any; email: any; }; }, "partial", any, false, "where", any[], { expense: any; trip: { ...; }; user: { ...; }; }>, "where">'.
server/routes/expenses.ts(474,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<any, { expense: any; trip: { id: any; title: any; destination: any; startDate: any; endDate: any; }; user: { id: any; displayName: any; email: any; }; }, "partial", any, false, "where", any[], { expense: any; trip: { ...; }; user: { ...; }; }>, "where">'.
server/routes/expenses.ts(481,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<any, { expense: any; trip: { id: any; title: any; destination: any; startDate: any; endDate: any; }; user: { id: any; displayName: any; email: any; }; }, "partial", any, false, "where", any[], { expense: any; trip: { ...; }; user: { ...; }; }>, "where">'.
server/routes/expenses.ts(488,21): error TS2339: Property 'where' does not exist on type 'Omit<PgSelectBase<any, { expense: any; trip: { id: any; title: any; destination: any; startDate: any; endDate: any; }; user: { id: any; displayName: any; email: any; }; }, "partial", any, false, "where", any[], { expense: any; trip: { ...; }; user: { ...; }; }>, "where">'.
server/routes/export.ts(19,92): error TS7030: Not all code paths return a value.
server/routes/export.ts(21,55): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
server/routes/export.ts(33,92): error TS7030: Not all code paths return a value.
server/routes/export.ts(35,55): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string | undefined'.
  Type 'null' is not assignable to type 'string | undefined'.
server/routes/flights.ts(126,28): error TS2352: Conversion of type 'DuffelFlightOffer[]' to type 'DuffelOffer[]' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Property 'passenger_identity_documents_required' is missing in type 'DuffelFlightOffer' but required in type 'DuffelOffer'.
server/routes/flights.ts(185,34): error TS2339: Property 'cabin_class' does not exist on type 'DuffelPassenger'.
server/routes/flights.ts(186,30): error TS2339: Property 'baggages' does not exist on type 'DuffelPassenger'.
server/routes/flights.ts(186,44): error TS7006: Parameter 'baggage' implicitly has an 'any' type.
server/routes/flights.ts(192,42): error TS2339: Property 'conditions' does not exist on type 'DuffelOffer'.
server/routes/flights.ts(193,42): error TS2339: Property 'conditions' does not exist on type 'DuffelOffer'.
server/routes/flights.ts(194,42): error TS2339: Property 'conditions' does not exist on type 'DuffelOffer'.
server/routes/health.ts(2,75): error TS2307: Cannot find module 'express-serve-static-core.js' or its corresponding type declarations.
server/routes/health.ts(3,23): error TS2307: Cannot find module 'express-rate-limit.js' or its corresponding type declarations.
server/routes/health.ts(104,5): error TS2820: Type '"degraded.js"' is not assignable to type 'HealthStatus'. Did you mean '"degraded"'?
server/routes/health.ts(106,5): error TS2820: Type '"healthy.js"' is not assignable to type 'HealthStatus'. Did you mean '"unhealthy.js"'?
server/routes/health.ts(152,34): error TS2367: This comparison appears to be unintentional because the types '"true" | "false" | undefined' and '"true.js"' have no overlap.
server/routes/health.ts(165,58): error TS2367: This comparison appears to be unintentional because the types 'HealthStatus' and '"unhealthy"' have no overlap.
server/routes/health.ts(168,9): error TS2820: Type '"healthy.js"' is not assignable to type 'HealthStatus'. Did you mean '"unhealthy.js"'?
server/routes/health.ts(172,7): error TS2820: Type '"degraded.js"' is not assignable to type 'HealthStatus'. Did you mean '"degraded"'?
server/routes/health.ts(232,44): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/routes/health.ts(232,49): error TS7006: Parameter '_req' implicitly has an 'any' type.
server/routes/health.ts(232,55): error TS7006: Parameter 'res' implicitly has an 'any' type.
server/routes/health.ts(232,60): error TS7006: Parameter '_next' implicitly has an 'any' type.
server/routes/invoices.ts(2,48): error TS2307: Cannot find module 'express-serve-static-core.js' or its corresponding type declarations.
server/routes/invoices.ts(3,31): error TS2307: Cannot find module 'qs.js' or its corresponding type declarations.
server/routes/invoices.ts(85,3): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/invoices.ts(85,3): error TS7030: Not all code paths return a value.
server/routes/invoices.ts(118,41): error TS2769: No overload matches this call.
  Overload 1 of 5, '(path: PathParams, ...handlers: RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Types of parameters 'req' and 'req' are incompatible.
        Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
  Overload 2 of 5, '(path: PathParams, ...handlers: RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>[]): Router', gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response, next: NextFunction) => Promise<express.Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/invoices.ts(118,41): error TS7030: Not all code paths return a value.
server/routes/invoices.ts(156,41): error TS2339: Property 'invoiceNumber' does not exist on type '{ id: string; number: string; proposalId: string | null; organizationId: string; createdById: string | null; clientName: string; clientEmail: string; status: "paid" | "cancelled" | "draft" | ... 4 more ... | null; ... 18 more ...; updatedAt: Date; }'.
server/routes/notifications.ts(3,31): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/notifications.ts(16,17): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(48,25): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(75,31): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(97,22): error TS7030: Not all code paths return a value.
server/routes/notifications.ts(109,33): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(33,36): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(35,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(39,85): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(48,45): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(50,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(57,16): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(73,46): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(75,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(86,16): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(103,44): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(105,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(109,81): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(118,44): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(120,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(126,72): error TS2345: Argument of type '{ type: "bank_account" | "credit_line" | "stripe_balance"; bankAccount?: { routingNumber: string; accountNumber: string; accountHolderName: string; accountType: "checking" | "savings"; } | undefined; creditLine?: { ...; } | undefined; organizationId: any; }' is not assignable to parameter of type 'FundingSourceConfig'.
  Types of property 'type' are incompatible.
    Type '"bank_account" | "credit_line" | "stripe_balance"' is not assignable to type '"bank_account" | "credit_line" | "stripe_balance.js"'.
      Type '"stripe_balance"' is not assignable to type '"bank_account" | "credit_line" | "stripe_balance.js"'. Did you mean '"stripe_balance.js"'?
server/routes/organizationFunding.ts(127,32): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(143,40): error TS7030: Not all code paths return a value.
server/routes/organizationFunding.ts(145,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationFunding.ts(156,16): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/organizationMembers.ts(9,44): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/organizationMembers.ts(12,69): error TS6307: File '/home/runner/work/NestMapRepo/NestMapRepo/server/rbac/organizationRoles.ts' is not listed within the file list of project '/home/runner/work/NestMapRepo/NestMapRepo/server/tsconfig.json'. Projects must list all files or use an 'include' pattern.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/server/package.json' has field "type" with value "module"
server/routes/organizationMembers.ts(25,24): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/organizationMembers.ts(25,24): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(81,71): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(81,71): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(91,28): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(94,81): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(177,73): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(177,73): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(203,30): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(206,97): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(265,76): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(265,76): error TS7030: Not all code paths return a value.
server/routes/organizationMembers.ts(315,22): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<void>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/organizationMembers.ts(321,73): error TS2345: Argument of type '"viewer"' is not assignable to parameter of type 'OrganizationRole'.
server/routes/organizationMembers.ts(326,10): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(326,43): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizationMembers.ts(331,26): error TS2339: Property 'userOrgRole' does not exist on type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/organizations.ts(3,42): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/organizations.ts(11,23): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/organizations.ts(40,22): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(47,7): error TS2322: Type 'string' is not assignable to type 'number'.
server/routes/organizations.ts(48,26): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(53,38): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(91,78): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(114,165): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(125,47): error TS2551: Property 'updateOrganization' does not exist on type 'MemStorage'. Did you mean 'getOrganization'?
server/routes/organizations.ts(142,124): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(152,35): error TS2551: Property 'getOrganizationMembers' does not exist on type 'MemStorage'. Did you mean 'getOrganization'?
server/routes/organizations.ts(161,156): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(173,38): error TS2339: Property 'createInvitation' does not exist on type 'MemStorage'.
server/routes/organizations.ts(176,28): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(190,172): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(202,41): error TS2339: Property 'updateOrganizationMember' does not exist on type 'MemStorage'.
server/routes/organizations.ts(219,145): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(231,30): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/organizations.ts(235,35): error TS2339: Property 'removeOrganizationMember' does not exist on type 'MemStorage'.
server/routes/organizations.ts(248,130): error TS7030: Not all code paths return a value.
server/routes/organizations.ts(267,24): error TS7030: Not all code paths return a value.
server/routes/payments.ts(2,13): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/stripe"' has no default export.
server/routes/payments.ts(8,24): error TS2307: Cannot find module 'nodemailer.js' or its corresponding type declarations.
server/routes/payments.ts(56,52): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/payments.ts(56,52): error TS7030: Not all code paths return a value.
server/routes/payments.ts(144,25): error TS7030: Not all code paths return a value.
server/routes/performance.ts(17,37): error TS7030: Not all code paths return a value.
server/routes/performance.ts(36,46): error TS7030: Not all code paths return a value.
server/routes/performance.ts(49,51): error TS2367: This comparison appears to be unintentional because the types '"HIGH" | "MEDIUM" | "LOW" | "CRITICAL.js"' and '"CRITICAL"' have no overlap.
server/routes/performance.ts(66,44): error TS7030: Not all code paths return a value.
server/routes/performance.ts(84,53): error TS7030: Not all code paths return a value.
server/routes/performance.ts(105,46): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(19,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/proposals.ts(44,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response) => Promise<void>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<any, any, any, any>'.
server/routes/proposals.ts(50,41): error TS2339: Property 'eq' does not exist on type 'PgColumn<{ name: "organization_id"; tableName: "proposals"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: false; isPrimaryKey: false; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>'.
server/routes/proposals.ts(66,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(66,3): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(72,29): error TS2339: Property 'eq' does not exist on type 'PgColumn<{ name: "id"; tableName: "proposals"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>'.
server/routes/proposals.ts(91,49): error TS2740: Type 'PgEnum<["draft", "sent", "viewed", "signed", "rejected", "expired", "invoiced", "cancelled"]>' is missing the following properties from type 'ZodType<any, any, any>': _type, _output, _input, _def, and 34 more.
server/routes/proposals.ts(92,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(92,3): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(99,29): error TS2339: Property 'eq' does not exist on type 'PgColumn<{ name: "id"; tableName: "proposals"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>'.
server/routes/proposals.ts(120,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(120,3): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(135,29): error TS2339: Property 'eq' does not exist on type 'PgColumn<{ name: "id"; tableName: "proposals"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>'.
server/routes/proposals.ts(154,3): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest<{ id: string; }>, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<{ id: string; }, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Property 'organizationFilter' is missing in type 'Request<{ id: string; }, any, any, ParsedQs, Record<string, any>>' but required in type 'AuthenticatedRequest<{ id: string; }, any, any, any>'.
server/routes/proposals.ts(154,3): error TS7030: Not all code paths return a value.
server/routes/proposals.ts(161,29): error TS2339: Property 'eq' does not exist on type 'PgColumn<{ name: "id"; tableName: "proposals"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; isPrimaryKey: true; isAutoincrement: false; ... 4 more ...; generated: undefined; }, {}, {}>'.
server/routes/reporting.ts(14,8): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/reporting.ts(24,26): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(26,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(30,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(86,34): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(88,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(92,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(162,37): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(164,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(168,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(217,35): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(219,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(223,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(267,24): error TS7030: Not all code paths return a value.
server/routes/reporting.ts(269,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(273,37): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/reporting.ts(623,42): error TS6133: 'organizationId' is declared but its value is never read.
server/routes/reporting.ts(623,66): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(623,83): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(654,56): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(654,76): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(663,59): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(663,79): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(673,59): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(673,79): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(683,61): error TS6133: 'startDate' is declared but its value is never read.
server/routes/reporting.ts(683,81): error TS6133: 'endDate' is declared but its value is never read.
server/routes/reporting.ts(705,34): error TS6133: 'organizationId' is declared but its value is never read.
server/routes/security.ts(3,67): error TS2307: Cannot find module '@shared/schema' or its corresponding type declarations.
server/routes/security.ts(32,23): error TS7030: Not all code paths return a value.
server/routes/security.ts(34,38): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/security.ts(99,9): error TS2820: Type '"data_access"' is not assignable to type '"suspicious_login" | "privilege_escalation" | "unusual_activity" | "failed_authentication" | "data_access.js"'. Did you mean '"data_access.js"'?
server/routes/security.ts(118,24): error TS7030: Not all code paths return a value.
server/routes/security.ts(120,38): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/security.ts(201,30): error TS7030: Not all code paths return a value.
server/routes/security.ts(203,38): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/security.ts(274,41): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/stripeOAuth.ts(2,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/stripe"' has no default export.
server/routes/stripeOAuth.ts(4,31): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/routes/stripeOAuth.ts(20,31): error TS7030: Not all code paths return a value.
server/routes/stripeOAuth.ts(61,33): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(11,17): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(13,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(17,57): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(26,29): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(28,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(32,54): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(40,29): error TS7030: Not all code paths return a value.
server/routes/subscription-status.ts(42,20): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/subscription-status.ts(46,54): error TS2551: Property 'organization_id' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'. Did you mean 'organizationId'?
server/routes/superadmin.new.ts(9,33): error TS2307: Cannot find module './superadmin/organizations.js' or its corresponding type declarations.
server/routes/superadmin.new.ts(10,25): error TS2307: Cannot find module './superadmin/users.js' or its corresponding type declarations.
server/routes/superadmin.new.ts(11,27): error TS2307: Cannot find module './superadmin/billing.js' or its corresponding type declarations.
server/routes/superadmin.new.ts(12,32): error TS2307: Cannot find module './superadmin/feature-flags.js' or its corresponding type declarations.
server/routes/superadmin.new.ts(13,29): error TS2307: Cannot find module './superadmin/dashboard.js' or its corresponding type declarations.
server/routes/superadmin.new.ts(14,29): error TS2307: Cannot find module './superadmin/audit-logs.js' or its corresponding type declarations.
server/routes/superadmin.new.ts(26,7): error TS2769: No overload matches this call.
  Overload 1 of 2, '(value: { action: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; metadata?: Record<string, any> | SQL<...> | Placeholder<...> | null | undefined; ... 6 more ...; entityId?: string | ... 3 more ... | undefined; }): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'adminUserId' does not exist in type '{ action: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; metadata?: Record<string, any> | SQL<...> | Placeholder<...> | null | undefined; ... 6 more ...; entityId?: string | ... 3 more ... | undefined; }'.
  Overload 2 of 2, '(values: { action: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; metadata?: Record<string, any> | SQL<...> | Placeholder<...> | null | undefined; ... 6 more ...; entityId?: string | ... 3 more ... | undefined; }[]): PgInsertBase<...>', gave the following error.
    Object literal may only specify known properties, and 'adminUserId' does not exist in type '{ action: string | SQL<unknown> | Placeholder<string, any>; id?: string | SQL<unknown> | Placeholder<string, any> | undefined; metadata?: Record<string, any> | SQL<...> | Placeholder<...> | null | undefined; ... 6 more ...; entityId?: string | ... 3 more ... | undefined; }[]'.
server/routes/superadmin.new.ts(59,26): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin.ts(9,33): error TS2307: Cannot find module './superadmin/organizations.js' or its corresponding type declarations.
server/routes/superadmin.ts(10,25): error TS2307: Cannot find module './superadmin/users.js' or its corresponding type declarations.
server/routes/superadmin.ts(11,27): error TS2307: Cannot find module './superadmin/billing.js' or its corresponding type declarations.
server/routes/superadmin.ts(12,32): error TS2307: Cannot find module './superadmin/feature-flags.js' or its corresponding type declarations.
server/routes/superadmin.ts(13,29): error TS2307: Cannot find module './superadmin/dashboard.js' or its corresponding type declarations.
server/routes/superadmin.ts(14,29): error TS2307: Cannot find module './superadmin/audit-logs.js' or its corresponding type declarations.
server/routes/superadmin.ts(119,26): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/audit-logs/audit-service.ts(1,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/routes/superadmin/audit-logs/audit-service.ts(2,37): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/routes/superadmin/audit-logs/audit-service.ts(51,32): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(52,36): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(53,37): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(54,34): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(60,39): error TS2304: Cannot find name 'and'.
server/routes/superadmin/audit-logs/audit-service.ts(61,16): error TS2304: Cannot find name 'desc'.
server/routes/superadmin/audit-logs/audit-service.ts(66,24): error TS2304: Cannot find name 'sql'.
server/routes/superadmin/audit-logs/audit-service.ts(68,39): error TS2304: Cannot find name 'and'.
server/routes/superadmin/audit-logs/audit-service.ts(69,13): error TS7006: Parameter 'rows' implicitly has an 'any' type.
server/routes/superadmin/audit-logs/index.ts(2,35): error TS2307: Cannot find module '@shared/../middleware/superadmin' or its corresponding type declarations.
server/routes/superadmin/billing/controllers.ts(2,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/routes/superadmin/billing/controllers.ts(3,31): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/routes/superadmin/billing/controllers.ts(4,27): error TS2307: Cannot find module '@shared/../db/schema/auditLogs' or its corresponding type declarations.
server/routes/superadmin/billing/controllers.ts(6,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/stripe"' has no default export.
server/routes/superadmin/billing/controllers.ts(13,38): error TS2307: Cannot find module '@shared/../middleware/superadmin' or its corresponding type declarations.
server/routes/superadmin/billing/controllers.ts(16,42): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/billing/controllers.ts(46,41): error TS7006: Parameter 'p' implicitly has an 'any' type.
server/routes/superadmin/billing/controllers.ts(62,39): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(138,39): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(203,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/billing/controllers.ts(227,28): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(284,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/billing/controllers.ts(309,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(334,37): error TS7006: Parameter 'method' implicitly has an 'any' type.
server/routes/superadmin/billing/controllers.ts(350,33): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(419,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/billing/controllers.ts(441,40): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(479,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/billing/controllers.ts(500,28): error TS7030: Not all code paths return a value.
server/routes/superadmin/billing/controllers.ts(528,31): error TS7006: Parameter 'invoice' implicitly has an 'any' type.
server/routes/superadmin/billing/index.ts(2,35): error TS2307: Cannot find module '@shared/../middleware/superadmin' or its corresponding type declarations.
server/routes/superadmin/dashboard/index.ts(2,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/routes/superadmin/dashboard/index.ts(3,38): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/routes/superadmin/dashboard/index.ts(4,37): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/superadmin/dashboard/index.ts(10,33): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/dashboard/index.ts(65,24): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/feature-flags/controllers.ts(2,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/routes/superadmin/feature-flags/controllers.ts(7,8): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/routes/superadmin/feature-flags/controllers.ts(12,39): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/feature-flags/controllers.ts(27,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(57,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/feature-flags/controllers.ts(73,35): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(94,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(126,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/feature-flags/controllers.ts(145,34): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(173,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/feature-flags/controllers.ts(189,44): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(226,38): error TS7006: Parameter 'flag' implicitly has an 'any' type.
server/routes/superadmin/feature-flags/controllers.ts(239,43): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(309,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/feature-flags/controllers.ts(330,46): error TS7030: Not all code paths return a value.
server/routes/superadmin/feature-flags/controllers.ts(373,9): error TS2345: Argument of type 'string' is not assignable to parameter of type 'number'.
server/routes/superadmin/feature-flags/index.ts(2,35): error TS2307: Cannot find module '@shared/../middleware/superadmin' or its corresponding type declarations.
server/routes/superadmin/index.ts(2,30): error TS2307: Cannot find module '@shared/middleware/secureAuth' or its corresponding type declarations.
server/routes/superadmin/middleware/superadmin.ts(2,36): error TS2307: Cannot find module '@shared/../types/custom-express' or its corresponding type declarations.
server/routes/superadmin/organizations/controllers.ts(2,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/routes/superadmin/organizations/controllers.ts(3,59): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/routes/superadmin/organizations/controllers.ts(8,40): error TS6133: 'req' is declared but its value is never read.
server/routes/superadmin/organizations/index.ts(2,35): error TS2307: Cannot find module '@shared/../middleware/superadmin' or its corresponding type declarations.
server/routes/superadmin/organizations/index.ts(3,44): error TS2307: Cannot find module '@shared/../middleware/organizationContext' or its corresponding type declarations.
server/routes/superadmin/users/controllers.ts(2,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/routes/superadmin/users/controllers.ts(3,52): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/routes/superadmin/users/controllers.ts(6,30): error TS2307: Cannot find module '@shared/../utils/auth' or its corresponding type declarations.
server/routes/superadmin/users/controllers.ts(7,30): error TS2307: Cannot find module 'uuid.js' or its corresponding type declarations.
server/routes/superadmin/users/index.ts(2,35): error TS2307: Cannot find module '@shared/../middleware/superadmin' or its corresponding type declarations.
server/routes/system-metrics.ts(178,64): error TS6133: 'req' is declared but its value is never read.
server/routes/system-metrics.ts(267,65): error TS6133: 'req' is declared but its value is never read.
server/routes/system-metrics.ts(278,71): error TS6133: 'req' is declared but its value is never read.
server/routes/test.routes.ts(21,29): error TS6133: 'req' is declared but its value is never read.
server/routes/test.routes.ts(60,23): error TS6133: 'req' is declared but its value is never read.
server/routes/test.routes.ts(60,28): error TS6133: 'res' is declared but its value is never read.
server/routes/trips.ts(57,79): error TS2554: Expected 1 arguments, but got 2.
server/routes/trips.ts(60,97): error TS2554: Expected 1 arguments, but got 2.
server/routes/trips.ts(74,32): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(80,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(84,33): error TS2339: Property 'getTodosByTripId' does not exist on type 'MemStorage'.
server/routes/trips.ts(96,20): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(96,29): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(97,19): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(104,32): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(110,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(114,33): error TS2339: Property 'getNotesByTripId' does not exist on type 'MemStorage'.
server/routes/trips.ts(126,20): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(126,29): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(127,19): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(134,32): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(140,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(153,85): error TS2554: Expected 1 arguments, but got 2.
server/routes/trips.ts(156,18): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'RequestHandlerParams<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>'.
        Types of parameters 'req' and 'req' are incompatible.
          Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to type 'AuthenticatedRequest'.
            Types of property 'user' are incompatible.
              Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type 'JwtUser | undefined'.
                Property 'permissions' is missing in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' but required in type 'JwtUser'.
server/routes/trips.ts(160,16): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(160,25): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(161,24): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(168,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(168,16): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(170,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(170,7): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/trips.ts(192,40): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(197,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(198,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(203,39): error TS2554: Expected 3 arguments, but got 2.
server/routes/trips.ts(211,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(211,16): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(213,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(213,7): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/trips.ts(235,40): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(240,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(241,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(245,35): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(252,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(252,16): error TS2339: Property 'userId' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(254,7): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(254,7): error TS2345: Argument of type 'string | null | undefined' is not assignable to parameter of type 'string'.
  Type 'undefined' is not assignable to type 'string'.
server/routes/trips.ts(272,32): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(278,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(279,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(285,15): error TS2339: Property 'getTodosByTripId' does not exist on type 'MemStorage'.
server/routes/trips.ts(286,15): error TS2339: Property 'getNotesByTripId' does not exist on type 'MemStorage'.
server/routes/trips.ts(311,32): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(317,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(318,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(328,21): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(328,30): error TS2339: Property 'displayName' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(328,59): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(329,18): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(329,27): error TS2339: Property 'displayName' does not exist on type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/routes/trips.ts(365,32): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(371,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(372,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(390,32): error TS2554: Expected 2 arguments, but got 1.
server/routes/trips.ts(396,23): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(397,9): error TS18048: 'req.user' is possibly 'undefined'.
server/routes/trips.ts(408,39): error TS2554: Expected 3 arguments, but got 2.
server/routes/v1/index.ts(12,11): error TS6133: 'req' is declared but its value is never read.
server/routes/v1/index.ts(36,30): error TS6133: 'req' is declared but its value is never read.
server/routes/v1/index.ts(50,23): error TS6133: 'req' is declared but its value is never read.
server/routes/webhooks.ts(2,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/stripe"' has no default export.
server/routes/webhooks.ts(6,31): error TS2307: Cannot find module '@nestjs/config.js' or its corresponding type declarations.
server/routes/webhooks.ts(14,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/routes/webhooks.ts(14,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/routes/webhooks.ts(37,13): error TS2310: Type 'Request<P, ResBody, ReqBody, ReqQuery, LocalsObj>' recursively references itself as a base type.
server/routes/webhooks.ts(50,20): error TS2554: Expected 2 arguments, but got 1.
server/routes/webhooks.ts(155,38): error TS2554: Expected 2 arguments, but got 1.
server/routes/webhooks.ts(255,31): error TS2551: Property 'stripe_connect_account_id' does not exist on type 'PgTableWithColumns<{ name: "organizations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "organizations"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<...>; }; ...'. Did you mean 'stripeConnectAccountId'?
server/routes/webhooks.ts(286,31): error TS2551: Property 'stripe_connect_account_id' does not exist on type 'PgTableWithColumns<{ name: "organizations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "organizations"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<...>; }; ...'. Did you mean 'stripeConnectAccountId'?
server/routes/webhooks.ts(328,31): error TS2551: Property 'stripe_connect_account_id' does not exist on type 'PgTableWithColumns<{ name: "organizations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "organizations"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<...>; }; ...'. Did you mean 'stripeConnectAccountId'?
server/routes/webhooks.ts(358,31): error TS2551: Property 'stripe_connect_account_id' does not exist on type 'PgTableWithColumns<{ name: "organizations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "organizations"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<...>; }; ...'. Did you mean 'stripeConnectAccountId'?
server/routes/webhooks.ts(369,9): error TS2561: Object literal may only specify known properties, but 'stripe_payout_id' does not exist in type '{ name?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; slug?: string | SQL<unknown> | PgColumn<...> | undefined; ... 17 more ...; updatedAt?: Date | ... 2 more ... | undefined; }'. Did you mean to write 'stripePayoutId'?
server/routes/webhooks.ts(389,31): error TS2551: Property 'stripe_connect_account_id' does not exist on type 'PgTableWithColumns<{ name: "organizations"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "organizations"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; ... 7 more ...; generated: undefined; }, {}, {}>; ... 18 more ...; updatedAt: PgColumn<...>; }; ...'. Did you mean 'stripeConnectAccountId'?
server/routes/webhooks.ts(400,9): error TS2561: Object literal may only specify known properties, but 'stripe_payout_id' does not exist in type '{ name?: string | SQL<unknown> | PgColumn<ColumnBaseConfig<ColumnDataType, string>, {}, {}> | undefined; slug?: string | SQL<unknown> | PgColumn<...> | undefined; ... 17 more ...; updatedAt?: Date | ... 2 more ... | undefined; }'. Did you mean to write 'stripePayoutId'?
server/routes/whiteLabelSimplified.ts(3,58): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/whiteLabelSimplified.ts(22,44): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(22,44): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(79,43): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(79,43): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(125,37): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(125,37): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(161,42): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(161,42): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(282,49): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(282,49): error TS7030: Not all code paths return a value.
server/routes/whiteLabelSimplified.ts(326,38): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelSimplified.ts(326,38): error TS7030: Not all code paths return a value.
server/routes/whiteLabelStatus.ts(3,66): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/routes/whiteLabelStatus.ts(16,38): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelStatus.ts(19,38): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: AuthenticatedRequest, res: Response) => Promise<Response<any, Record<string, any>> | undefined>' is not assignable to parameter of type 'Application<Record<string, any>>'.
      Type '(req: AuthenticatedRequest<any, any, any, any>, res: Response<any, Record<string, any>>) => Promise<Response<any, Record<string, any>> | undefined>' is missing the following properties from type 'Application<Record<string, any>>': init, defaultConfiguration, engine, set, and 63 more.
server/routes/whiteLabelStatus.ts(19,38): error TS7030: Not all code paths return a value.
server/services/activity.service.ts(5,30): error TS2307: Cannot find module 'uuid.js' or its corresponding type declarations.
server/services/activity.service.ts(18,12): error TS2304: Cannot find name 'ActivityStatus'.
server/services/activity.service.ts(19,10): error TS2304: Cannot find name 'ActivityType'.
server/services/activity.service.ts(38,17): error TS2339: Property 'mapToActivity' does not exist on type '{ create(activityData: Omit<{ id: string; tag: string | null; time: string | null; notes: string | null; date: Date; createdAt: Date; updatedAt: Date; organizationId: string | null; ... 8 more ...; travelMode: string | null; }, "id" | ... 1 more ... | "updatedAt">): Promise<...>; ... 4 more ...; exists(id: string): ...'.
server/services/activity.service.ts(48,28): error TS2339: Property 'mapToActivity' does not exist on type '{ create(activityData: Omit<{ id: string; tag: string | null; time: string | null; notes: string | null; date: Date; createdAt: Date; updatedAt: Date; organizationId: string | null; ... 8 more ...; travelMode: string | null; }, "id" | ... 1 more ... | "updatedAt">): Promise<...>; ... 4 more ...; exists(id: string): ...'.
server/services/activity.service.ts(52,39): error TS2551: Property 'trip_id' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'. Did you mean 'tripId'?
server/services/activity.service.ts(59,37): error TS2551: Property 'assigned_to' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'. Did you mean 'assignedTo'?
server/services/activity.service.ts(74,37): error TS2551: Property 'organization_id' does not exist on type 'PgTableWithColumns<{ name: "activities"; schema: undefined; columns: { id: PgColumn<{ name: "id"; tableName: "activities"; dataType: "string"; columnType: "PgUUID"; data: string; driverParam: string; notNull: true; hasDefault: true; ... 6 more ...; generated: undefined; }, {}, {}>; ... 15 more ...; updatedAt: PgColu...'. Did you mean 'organizationId'?
server/services/activity.service.ts(103,27): error TS2339: Property 'mapToActivity' does not exist on type '{ create(activityData: Omit<{ id: string; tag: string | null; time: string | null; notes: string | null; date: Date; createdAt: Date; updatedAt: Date; organizationId: string | null; ... 8 more ...; travelMode: string | null; }, "id" | ... 1 more ... | "updatedAt">): Promise<...>; ... 4 more ...; exists(id: string): ...'.
server/services/database.service.ts(1,34): error TS2307: Cannot find module 'pg.js' or its corresponding type declarations.
server/services/database.service.ts(2,30): error TS2307: Cannot find module 'redis.js' or its corresponding type declarations.
server/services/database.service.ts(3,25): error TS2307: Cannot find module 'drizzle-orm/node-postgres.js' or its corresponding type declarations.
server/services/database.service.ts(41,31): error TS7006: Parameter 'retries' implicitly has an 'any' type.
server/services/database.service.ts(52,37): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/services/database.service.ts(64,28): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/services/database.service.ts(70,10): error TS2339: Property 'drizzle' does not exist on type 'DatabaseService'.
server/services/database.service.ts(73,24): error TS7006: Parameter 'query' implicitly has an 'any' type.
server/services/database.service.ts(73,31): error TS7006: Parameter 'params' implicitly has an 'any' type.
server/services/database.service.ts(174,17): error TS2339: Property 'drizzle' does not exist on type 'DatabaseService'.
server/services/duffelFlightService.ts(229,34): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(243,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(320,34): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(334,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(357,42): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(361,44): error TS7006: Parameter 'baggage' implicitly has an 'any' type.
server/services/duffelFlightService.ts(398,29): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(420,43): error TS7006: Parameter 'doc' implicitly has an 'any' type.
server/services/duffelFlightService.ts(424,44): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(430,36): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(432,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(434,48): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(461,29): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(469,43): error TS7006: Parameter 'doc' implicitly has an 'any' type.
server/services/duffelFlightService.ts(473,44): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(479,36): error TS7006: Parameter 'slice' implicitly has an 'any' type.
server/services/duffelFlightService.ts(481,40): error TS7006: Parameter 'segment' implicitly has an 'any' type.
server/services/duffelFlightService.ts(483,48): error TS7006: Parameter 'passenger' implicitly has an 'any' type.
server/services/duffelFlightService.ts(507,34): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(530,30): error TS2304: Cannot find name 'duffel'.
server/services/duffelFlightService.ts(535,32): error TS7006: Parameter 'airport' implicitly has an 'any' type.
server/services/invoicePdfService.ts(1,23): error TS2307: Cannot find module 'puppeteer.js' or its corresponding type declarations.
server/services/invoicePdfService.ts(2,24): error TS2307: Cannot find module 'nodemailer.js' or its corresponding type declarations.
server/services/organizationFundingService.ts(1,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/stripe"' has no default export.
server/services/organizationFundingService.ts(3,31): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/services/organizationFundingService.ts(179,14): error TS2678: Type '"stripe_balance"' is not comparable to type '"bank_account" | "credit_line" | "stripe_balance.js"'.
server/services/performanceOptimizer.ts(55,13): error TS6133: 'req' is declared but its value is never read.
server/services/performanceOptimizer.ts(55,27): error TS6133: 'res' is declared but its value is never read.
server/services/stripeIssuingService.ts(1,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/stripe"' has no default export.
server/services/stripeIssuingService.ts(242,21): error TS2551: Property 'deleteCorporateCard' does not exist on type 'MemStorage'. Did you mean 'getCorporateCard'?
server/services/stripeIssuingService.ts(291,38): error TS2339: Property 'getCorporateCardByStripeId' does not exist on type 'MemStorage'.
server/services/stripeIssuingService.ts(293,21): error TS2339: Property 'createCardTransaction' does not exist on type 'MemStorage'.
server/services/stripeIssuingService.ts(324,19): error TS2339: Property 'updateCardTransactionByStripeId' does not exist on type 'MemStorage'.
server/services/stripeIssuingService.ts(337,38): error TS2339: Property 'getCorporateCardByStripeId' does not exist on type 'MemStorage'.
server/services/stripeIssuingService.ts(344,19): error TS2339: Property 'upsertCardTransaction' does not exist on type 'MemStorage'.
server/services/stripeIssuingService.ts(381,19): error TS2339: Property 'createExpense' does not exist on type 'MemStorage'.
server/services/stripeIssuingService.ts(444,40): error TS2345: Argument of type 'number' is not assignable to parameter of type 'string'.
server/services/stripeIssuingService.ts(452,40): error TS2345: Argument of type 'number' is not assignable to parameter of type 'string'.
server/services/tripService.ts(5,25): error TS2339: Property 'trips' does not exist on type 'PostgresJsDatabase<{ transformTripToFrontend(trip: Trip): { id: string; title: string; startDate: string; endDate: string; userId: string; organizationId: string; collaborators: Record<string, string> | undefined; ... 19 more ...; updatedAt: string | undefined; }; ... 124 more ...; selectAdminAuditLogSchema: BuildSc...'.
server/simple-server.ts(2,18): error TS2307: Cannot find module 'http.js' or its corresponding type declarations.
server/simple-server.ts(10,9): error TS2552: Cannot find name 'expresson'. Did you mean 'express'?
server/simple-server.ts(11,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'NextHandleFunction' is not assignable to parameter of type 'PathParams'.
server/simple-server.ts(27,21): error TS6133: 'req' is declared but its value is never read.
server/simple-server.ts(36,23): error TS6133: 'req' is declared but its value is never read.
server/simple-server.ts(53,20): error TS6133: 'req' is declared but its value is never read.
server/simple-server.ts(53,40): error TS6133: 'next' is declared but its value is never read.
server/simple-server.ts(59,10): error TS6133: 'req' is declared but its value is never read.
server/smartOptimizer.ts(3,45): error TS6059: File '/home/runner/work/NestMapRepo/NestMapRepo/shared/interfaces.ts' is not under 'rootDir' '/home/runner/work/NestMapRepo/NestMapRepo/server'. 'rootDir' is expected to contain all source files.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/shared/package.json' has field "type" with value "module"
server/smartOptimizer.ts(3,45): error TS6307: File '/home/runner/work/NestMapRepo/NestMapRepo/shared/interfaces.ts' is not listed within the file list of project '/home/runner/work/NestMapRepo/NestMapRepo/server/tsconfig.json'. Projects must list all files or use an 'include' pattern.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/shared/package.json' has field "type" with value "module"
server/smartOptimizer.ts(76,7): error TS2322: Type 'ConflictDetection[]' is not assignable to type 'import("/home/runner/work/NestMapRepo/NestMapRepo/shared/interfaces", { with: { "resolution-mode": "import" } }).ConflictDetection[]'.
  Type 'ConflictDetection' is not assignable to type 'import("/home/runner/work/NestMapRepo/NestMapRepo/shared/interfaces", { with: { "resolution-mode": "import" } }).ConflictDetection'.
    Types of property 'type' are incompatible.
      Type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap.js"' is not assignable to type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap"'.
        Type '"schedule_gap.js"' is not assignable to type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap"'. Did you mean '"schedule_gap"'?
server/smartOptimizer.ts(91,7): error TS2322: Type 'ConflictDetection[]' is not assignable to type 'import("/home/runner/work/NestMapRepo/NestMapRepo/shared/interfaces", { with: { "resolution-mode": "import" } }).ConflictDetection[]'.
  Type 'ConflictDetection' is not assignable to type 'import("/home/runner/work/NestMapRepo/NestMapRepo/shared/interfaces", { with: { "resolution-mode": "import" } }).ConflictDetection'.
    Types of property 'type' are incompatible.
      Type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap.js"' is not assignable to type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap"'.
        Type '"schedule_gap.js"' is not assignable to type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap"'. Did you mean '"schedule_gap"'?
server/smartOptimizer.ts(211,11): error TS2820: Type '"schedule_gap"' is not assignable to type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap.js"'. Did you mean '"schedule_gap.js"'?
server/smartOptimizer.ts(220,11): error TS2820: Type '"schedule_gap"' is not assignable to type '"time_overlap" | "location_conflict" | "capacity_issue" | "schedule_gap.js"'. Did you mean '"schedule_gap.js"'?
server/smartOptimizer.ts(322,32): error TS6133: 'original' is declared but its value is never read.
server/smartOptimizer.ts(322,54): error TS6133: 'optimized' is declared but its value is never read.
server/smartOptimizer.ts(331,34): error TS6133: 'activities' is declared but its value is never read.
server/smartOptimizer.ts(390,45): error TS6133: 'activity' is declared but its value is never read.
server/src/auth/auth.controller.ts(2,48): error TS2307: Cannot find module 'express-serve-static-core.js' or its corresponding type declarations.
server/src/auth/auth.controller.ts(3,39): error TS2307: Cannot find module 'express-serve-static-core.js' or its corresponding type declarations.
server/src/auth/auth.controller.ts(4,31): error TS2307: Cannot find module 'qs.js' or its corresponding type declarations.
server/src/auth/auth.controller.ts(5,24): error TS2307: Cannot find module 'jsonwebtoken.js' or its corresponding type declarations.
server/src/auth/auth.controller.ts(15,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/auth/auth.module.ts(1,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/auth/auth.module.ts(2,30): error TS2307: Cannot find module '@nestjs/config.js' or its corresponding type declarations.
server/src/auth/auth.module.ts(4,32): error TS2307: Cannot find module './services/jwtAuthService.js' or its corresponding type declarations.
server/src/auth/auth.routes.ts(4,36): error TS2307: Cannot find module '@shared/types/custom-express' or its corresponding type declarations.
server/src/auth/auth.routes.ts(7,32): error TS2307: Cannot find module './services/jwtAuthService.js' or its corresponding type declarations.
server/src/auth/auth.routes.ts(12,44): error TS2307: Cannot find module '@shared/middleware/inputValidation' or its corresponding type declarations.
server/src/auth/auth.routes.ts(13,10): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'loginSchema'.
server/src/auth/auth.routes.ts(13,23): error TS2724: '"./dtos/auth.dto.js"' has no exported member named 'requestPasswordResetSchema'. Did you mean 'RequestPasswordResetDto'?
server/src/auth/auth.routes.ts(13,51): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'resetPasswordSchema'.
server/src/auth/auth.routes.ts(13,72): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'refreshTokenSchema'.
server/src/auth/auth.routes.ts(13,92): error TS2305: Module '"./dtos/auth.dto.js"' has no exported member 'logoutSchema'.
server/src/auth/auth.routes.ts(14,30): error TS2307: Cannot find module '@shared/middleware/secureAuth' or its corresponding type declarations.
server/src/auth/auth.routes.ts(20,31): error TS2307: Cannot find module 'qs.js' or its corresponding type declarations.
server/src/auth/auth.routes.ts(45,6): error TS2300: Duplicate identifier 'ControllerMethod'.
server/src/auth/auth.routes.ts(81,6): error TS2300: Duplicate identifier 'ControllerMethod'.
server/src/auth/auth.service.ts(5,31): error TS2307: Cannot find module 'bcrypt.js' or its corresponding type declarations.
server/src/auth/auth.service.ts(6,38): error TS2307: Cannot find module 'jsonwebtoken.js' or its corresponding type declarations.
server/src/auth/auth.service.ts(7,20): error TS2307: Cannot find module '../db.js' or its corresponding type declarations.
server/src/auth/auth.service.ts(8,23): error TS2307: Cannot find module '../db/schema.js' or its corresponding type declarations.
server/src/auth/auth.service.ts(10,80): error TS2307: Cannot find module './auth.service.interface.js' or its corresponding type declarations.
server/src/auth/auth.service.ts(11,26): error TS2307: Cannot find module '../types.js' or its corresponding type declarations.
server/src/auth/auth.service.ts(12,10): error TS2724: '"../utils/logger.js"' has no exported member named 'Logger'. Did you mean 'logger'?
server/src/auth/auth.service.ts(13,10): error TS2614: Module '"../utils/redis.js"' has no exported member 'redisClient'. Did you mean to use 'import redisClient from "../utils/redis.js"' instead?
server/src/auth/auth.service.ts(64,44): error TS6133: 'type' is declared but its value is never read.
server/src/auth/auth.service.ts(276,38): error TS6133: 'newPassword' is declared but its value is never read.
server/src/auth/controllers/auth.controller.ts(2,25): error TS2307: Cannot find module '@shared/types/express/index' or its corresponding type declarations.
server/src/auth/controllers/auth.controller.ts(13,36): error TS2307: Cannot find module '@shared/utils/error-utils' or its corresponding type declarations.
server/src/auth/controllers/auth.controller.ts(14,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/auth/controllers/auth.controller.ts(29,48): error TS18046: 'error' is of type 'unknown'.
server/src/auth/controllers/auth.controller.ts(29,65): error TS18046: 'error' is of type 'unknown'.
server/src/auth/controllers/auth.controller.ts(88,11): error TS2739: Type '{ readonly emailVerified: boolean; readonly id: string; readonly email: string; readonly role: UserRole; readonly firstName: string | null; readonly lastName: string | null; }' is missing the following properties from type 'UserResponse': createdAt, updatedAt
server/src/auth/controllers/auth.controller.ts(146,11): error TS2739: Type '{ readonly emailVerified: boolean; readonly id: string; readonly email: string; readonly role: UserRole; readonly firstName: string | null; readonly lastName: string | null; }' is missing the following properties from type 'UserResponse': createdAt, updatedAt
server/src/auth/index.ts(2,15): error TS2307: Cannot find module './jwt.js' or its corresponding type declarations.
server/src/auth/index.ts(3,15): error TS2307: Cannot find module './middleware.js' or its corresponding type declarations.
server/src/auth/index.ts(4,15): error TS2307: Cannot find module './types.js' or its corresponding type declarations.
server/src/auth/index.ts(21,60): error TS2307: Cannot find module './types.js' or its corresponding type declarations.
server/src/auth/index.ts(24,10): error TS2305: Module '"./auth.container.js"' has no exported member 'registerAuthRoutes'.
server/src/auth/interfaces/user.repository.interface.ts(1,22): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/auth/interfaces/user.repository.interface.ts(2,32): error TS2307: Cannot find module '@shared/common/repositories/base.repository.interface' or its corresponding type declarations.
server/src/auth/jwt/index.ts(1,39): error TS2307: Cannot find module 'jsonwebtoken.js' or its corresponding type declarations.
server/src/auth/jwt/index.ts(3,30): error TS2307: Cannot find module 'uuid.js' or its corresponding type declarations.
server/src/auth/jwt/index.ts(4,23): error TS2307: Cannot find module '@shared/utils/redis' or its corresponding type declarations.
server/src/auth/jwt/index.ts(65,8): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/src/auth/jwt/index.ts(65,13): error TS7006: Parameter 'token' implicitly has an 'any' type.
server/src/auth/jwt/index.ts(141,12): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/src/auth/jwt/index.ts(141,17): error TS7006: Parameter 'decoded' implicitly has an 'any' type.
server/src/auth/jwt/index.ts(205,3): error TS2322: Type '"user"' is not assignable to type 'UserRole'.
server/src/auth/jwt/index.ts(249,43): error TS6133: 'userId' is declared but its value is never read.
server/src/auth/jwt/types.ts(1,46): error TS2307: Cannot find module 'jsonwebtoken.js' or its corresponding type declarations.
server/src/auth/middleware/index.ts(2,29): error TS2307: Cannot find module '../jwt.js' or its corresponding type declarations.
server/src/auth/middleware/index.ts(3,62): error TS2307: Cannot find module '../types.js' or its corresponding type declarations.
server/src/auth/middleware/index.ts(4,24): error TS2307: Cannot find module '@shared/../utils/logger' or its corresponding type declarations.
server/src/auth/middleware/index.ts(5,23): error TS2307: Cannot find module '@shared/../db/redis' or its corresponding type declarations.
server/src/auth/middleware/index.ts(10,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/src/auth/middleware/index.ts(10,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/src/auth/middleware/index.ts(46,29): error TS7030: Not all code paths return a value.
server/src/auth/middleware/index.ts(97,7): error TS2353: Object literal may only specify known properties, and 'sessionId' does not exist in type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
server/src/auth/middleware/index.ts(115,10): error TS7030: Not all code paths return a value.
server/src/auth/middleware/rate-limiter.middleware.ts(2,23): error TS2307: Cannot find module 'express-rate-limit.js' or its corresponding type declarations.
server/src/auth/middleware/rate-limiter.middleware.ts(16,13): error TS6133: 'req' is declared but its value is never read.
server/src/auth/repositories/refresh-token.repository.ts(2,20): error TS2307: Cannot find module '@shared/../db/db' or its corresponding type declarations.
server/src/auth/repositories/refresh-token.repository.ts(3,23): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/auth/repositories/refresh-token.repository.ts(5,24): error TS2307: Cannot find module '@shared/../utils/logger' or its corresponding type declarations.
server/src/auth/repositories/refresh-token.ts(2,36): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/auth/repositories/refresh-token.ts(3,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/src/auth/repositories/refresh-token.ts(4,50): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/auth/repositories/refresh-token.ts(8,14): error TS2420: Class 'RefreshTokenRepositoryImpl' incorrectly implements interface 'RefreshTokenRepository'.
  Type 'RefreshTokenRepositoryImpl' is missing the following properties from type 'RefreshTokenRepository': revokeByUserId, revokeByToken, deleteExpired
server/src/auth/repositories/user.repository.ts(2,20): error TS2307: Cannot find module '@shared/../db/db' or its corresponding type declarations.
server/src/auth/repositories/user.repository.ts(3,23): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/auth/repositories/user.repository.ts(4,56): error TS2307: Cannot find module '@shared/common/repositories/user/user.repository.interface' or its corresponding type declarations.
server/src/auth/repositories/user.repository.ts(5,22): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/auth/repositories/user.repository.ts(6,36): error TS2307: Cannot find module '@shared/common/repositories/base.repository' or its corresponding type declarations.
server/src/auth/repositories/user.repository.ts(7,24): error TS2307: Cannot find module '@shared/../utils/logger' or its corresponding type declarations.
server/src/auth/repositories/user.repository.ts(8,40): error TS2307: Cannot find module '@shared/common/interfaces/booking.interfaces' or its corresponding type declarations.
server/src/auth/repositories/user.repository.ts(253,12): error TS2339: Property 'logger' does not exist on type 'UserRepositoryImpl'.
server/src/auth/repositories/user.repository.ts(295,12): error TS2339: Property 'logger' does not exist on type 'UserRepositoryImpl'.
server/src/auth/services/auth.service.ts(4,32): error TS2307: Cannot find module '@shared/common/repositories/user/user.repository.interface' or its corresponding type declarations.
server/src/auth/services/auth.service.ts(5,24): error TS2307: Cannot find module '@shared/../utils/logger' or its corresponding type declarations.
server/src/common/common.module.ts(1,32): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(1,81): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(4,25): error TS2307: Cannot find module '@shared/../db/bookingSchema' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(7,42): error TS2305: Module '"../middleware/auth.middleware.js"' has no exported member 'enforceOrganizationSecurity'.
server/src/common/controllers/booking.controller.ts(8,40): error TS2307: Cannot find module '../middleware/validation.middleware.js' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(9,10): error TS2305: Module '"../interfaces/booking.interfaces.js"' has no exported member 'BookingConfirmationDetails'.
server/src/common/controllers/booking.controller.ts(11,57): error TS2307: Cannot find module '../shared/src/schema.js' or its corresponding type declarations.
server/src/common/controllers/booking.controller.ts(31,62): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(31,96): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(31,127): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(34,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(34,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(51,75): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(51,109): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(51,140): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(54,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(54,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(66,75): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(66,109): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(66,140): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(69,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(69,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(81,106): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(81,140): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(81,171): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(85,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(85,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(133,24): error TS6133: 'req' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(134,25): error TS6133: 'res' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(135,21): error TS6133: 'next' is declared but its value is never read.
server/src/common/controllers/booking.controller.ts(139,7): error TS2304: Cannot find name 'asyncHandler'.
server/src/common/controllers/booking.controller.ts(139,27): error TS6133: 'req' is declared but its value is never read.
server/src/common/interfaces/booking.interfaces.ts(32,18): error TS2430: Interface 'FlightBooking' incorrectly extends interface 'BookingDetails'.
  Types of property 'type' are incompatible.
    Type '"flight.js"' is not assignable to type '"hotel" | "flight" | "car" | "activity.js"'. Did you mean '"flight"'?
server/src/common/interfaces/booking.interfaces.ts(48,18): error TS2430: Interface 'HotelBooking' incorrectly extends interface 'BookingDetails'.
  Types of property 'type' are incompatible.
    Type '"hotel.js"' is not assignable to type '"hotel" | "flight" | "car" | "activity.js"'.
server/src/common/interfaces/booking.interfaces.ts(58,18): error TS2430: Interface 'CarRentalBooking' incorrectly extends interface 'BookingDetails'.
  Types of property 'type' are incompatible.
    Type '"car.js"' is not assignable to type '"hotel" | "flight" | "car" | "activity.js"'.
server/src/common/middleware/auth.middleware.test.ts(2,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/middleware/auth.middleware.test.ts(15,15): error TS2310: Type 'Request<ReqBody, ResBody, ReqQuery, P, Locals>' recursively references itself as a base type.
server/src/common/middleware/auth.middleware.test.ts(15,15): error TS2428: All declarations of 'Request' must have identical type parameters.
server/src/common/middleware/auth.middleware.test.ts(16,7): error TS2717: Subsequent property declarations must have the same type.  Property 'user' must be of type 'AuthUser | undefined', but here has type 'AuthUser | undefined'.
server/src/common/middleware/auth.middleware.test.ts(47,7): error TS2322: Type '{ id: string; organizationId: string | number; role: string; email: string; }' is not assignable to type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | number' is not assignable to type 'string | null | undefined'.
      Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(72,7): error TS2322: Type '{ id: string; email: string; role: string; organizationId: string | number | null; }' is not assignable to type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }'.
  Types of property 'organizationId' are incompatible.
    Type 'string | number | null' is not assignable to type 'string | null | undefined'.
      Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(89,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(101,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(127,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(143,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(163,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(186,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(200,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(214,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(228,70): error TS2322: Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(230,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(235,60): error TS2322: Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(237,18): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(253,24): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(260,60): error TS2322: Type 'number' is not assignable to type 'string'.
server/src/common/middleware/auth.middleware.test.ts(263,24): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(272,24): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(287,24): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.test.ts(303,24): error TS2345: Argument of type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not assignable to parameter of type 'AuthenticatedRequest'.
  Types of property 'user' are incompatible.
    Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; } | undefined' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; } | undefined'.
      Type '{ id: string; email: string; role: string; organizationId?: string | null | undefined; }' is not assignable to type '{ [key: string]: any; id: string; email: string; role: string; organizationId: string | null; }'.
        Types of property 'organizationId' are incompatible.
          Type 'string | null | undefined' is not assignable to type 'string | null'.
            Type 'undefined' is not assignable to type 'string | null'.
server/src/common/middleware/auth.middleware.ts(3,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/middleware/auth.middleware.ts(22,38): error TS6133: 'res' is declared but its value is never read.
server/src/common/middleware/auth.middleware.ts(104,44): error TS6133: 'res' is declared but its value is never read.
server/src/common/middleware/error-handler.middleware.test.ts(2,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/middleware/error-handler.middleware.test.ts(8,8): error TS2307: Cannot find module './error-handler.middleware.js' or its corresponding type declarations.
server/src/common/middleware/standardized-error-handler.middleware.ts(2,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/middleware/standardized-error-handler.middleware.ts(88,33): error TS2304: Cannot find name 'ExtendedErrorResponse'.
server/src/common/middleware/standardized-error-handler.middleware.ts(98,31): error TS2304: Cannot find name 'ExtendedErrorResponse'.
server/src/common/middleware/standardized-error-handler.middleware.ts(114,3): error TS6133: 'logger' is declared but its value is never read.
server/src/common/modules/booking.module.ts(1,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/activity/activity.repository.interface.ts(1,26): error TS2307: Cannot find module '@shared/../../db/schema' or its corresponding type declarations.
server/src/common/repositories/activity/activity.repository.ts(1,28): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/activity/activity.repository.ts(3,20): error TS2307: Cannot find module '@shared/../../db' or its corresponding type declarations.
server/src/common/repositories/activity/activity.repository.ts(4,43): error TS2307: Cannot find module '@shared/../../db/schema' or its corresponding type declarations.
server/src/common/repositories/base.repository.ts(1,24): error TS2307: Cannot find module '@shared/../utils/logger' or its corresponding type declarations.
server/src/common/repositories/base.repository.ts(4,20): error TS2307: Cannot find module '@shared/../db/db' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.interface.ts(1,25): error TS2307: Cannot find module '@shared/../db/bookingSchema' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.interface.ts(3,44): error TS2307: Cannot find module '@shared/interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.spec.ts(1,22): error TS2307: Cannot find module '@nestjs/testing.js' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.spec.ts(3,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(1,28): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(3,20): error TS2307: Cannot find module '@shared/../../db' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(4,40): error TS2307: Cannot find module '@shared/../../db/bookingSchema' or its corresponding type declarations.
server/src/common/repositories/booking/booking.repository.ts(7,44): error TS2307: Cannot find module '@shared/interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.interface.ts(1,36): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.interface.ts(2,45): error TS2307: Cannot find module '@shared/interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(1,28): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(3,20): error TS2307: Cannot find module '@shared/../../db' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(4,89): error TS2307: Cannot find module '@shared/../../db/schema' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(6,45): error TS2307: Cannot find module '@shared/interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/organization/organization.repository.ts(38,24): error TS7006: Parameter 'm' implicitly has an 'any' type.
server/src/common/repositories/repositories.module.ts(1,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(1,26): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(2,36): error TS2307: Cannot find module '@shared/trips/repositories/trip.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(7,62): error TS2307: Cannot find module '@shared/auth/repositories/user.repository' or its corresponding type declarations.
server/src/common/repositories/repository.providers.ts(8,44): error TS2307: Cannot find module '@shared/auth/repositories/refresh-token.repository' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.interface.ts(1,22): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.interface.ts(3,40): error TS2307: Cannot find module '@shared/interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(1,28): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(3,20): error TS2307: Cannot find module '@shared/../../db' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(4,55): error TS2307: Cannot find module '@shared/../../db/schema' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(6,40): error TS2307: Cannot find module '@shared/interfaces/booking.interfaces' or its corresponding type declarations.
server/src/common/repositories/user/user.repository.ts(38,24): error TS7006: Parameter 'm' implicitly has an 'any' type.
server/src/common/services/booking.service.ts(1,44): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/services/booking.service.ts(3,25): error TS2307: Cannot find module '@shared/../db/bookingSchema' or its corresponding type declarations.
server/src/common/services/booking.service.ts(4,10): error TS2305: Module '"../interfaces/booking.interfaces.js"' has no exported member 'BookingConfirmationDetails'.
server/src/common/services/error.service.ts(1,36): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/common/utils/async-handler.ts(2,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/config/env.ts(2,18): error TS2307: Cannot find module 'path.js' or its corresponding type declarations.
server/src/config/env.ts(17,31): error TS2367: This comparison appears to be unintentional because the types '"development" | "production" | "test.js" | undefined' and '"test"' have no overlap.
server/src/email/email.module.ts(1,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/email/email.module.ts(2,45): error TS2307: Cannot find module '@nestjs/config.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(1,36): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(2,31): error TS2307: Cannot find module '@nestjs/config.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(3,46): error TS2307: Cannot find module 'nodemailer.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(4,30): error TS2307: Cannot find module 'fs.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(5,31): error TS2307: Cannot find module 'path.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(6,31): error TS2307: Cannot find module 'url.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(7,30): error TS2307: Cannot find module '@shared/common/services/error.service' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(15,24): error TS2307: Cannot find module 'handlebars.js' or its corresponding type declarations.
server/src/email/services/nodemailer-email.service.ts(49,30): error TS7006: Parameter 'error' implicitly has an 'any' type.
server/src/email/services/nodemailer-email.service.ts(147,79): error TS2366: Function lacks ending return statement and return type does not include 'undefined'.
server/src/middleware/authenticate.ts(2,29): error TS2307: Cannot find module '../auth/services/jwtAuthService.js' or its corresponding type declarations.
server/src/middleware/authenticate.ts(5,17): error TS7030: Not all code paths return a value.
server/src/middleware/authenticate.ts(24,40): error TS2693: 'TokenType' only refers to a type, but is being used as a value here.
server/src/trips/controllers/trip.controller.ts(2,86): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/trips/controllers/trip.controller.ts(4,35): error TS2307: Cannot find module '@shared/common/utils/response-formatter.util' or its corresponding type declarations.
server/src/trips/controllers/trip.controller.ts(5,48): error TS2307: Cannot find module '@shared/common/middleware/auth.middleware' or its corresponding type declarations.
server/src/trips/interfaces/trip.repository.interface.ts(1,28): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/trips/interfaces/trip.repository.interface.ts(3,32): error TS2307: Cannot find module '@shared/common/repositories/base.repository.interface' or its corresponding type declarations.
server/src/trips/interfaces/trip.service.interface.ts(1,28): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(1,28): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(3,20): error TS2307: Cannot find module '@shared/../db' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(4,58): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(5,28): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(8,35): error TS2307: Cannot find module '@shared/common/errors' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(9,36): error TS2307: Cannot find module '@shared/common/repositories/base.repository' or its corresponding type declarations.
server/src/trips/repositories/trip.repository.ts(18,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(32,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(41,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(46,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(51,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(56,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/repositories/trip.repository.ts(61,10): error TS2339: Property 'logger' does not exist on type 'TripRepositoryImpl'.
server/src/trips/services/trip.service.ts(1,36): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/trips/services/trip.service.ts(2,28): error TS2307: Cannot find module '@shared/../db/schema' or its corresponding type declarations.
server/src/trips/services/trip.service.ts(5,35): error TS2307: Cannot find module '@shared/common/errors' or its corresponding type declarations.
server/src/trips/services/trip.service.ts(6,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/trips/trip.container.ts(1,26): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/trips/trip.container.ts(2,29): error TS2307: Cannot find module '@nestjs/core.js' or its corresponding type declarations.
server/src/trips/trip.module.ts(1,24): error TS2307: Cannot find module '@nestjs/common.js' or its corresponding type declarations.
server/src/trips/trip.module.ts(4,36): error TS2307: Cannot find module '../common/repositories.js' or its corresponding type declarations.
server/src/utils/logger.ts(1,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/types/winston"' has no default export.
server/src/utils/logger.ts(2,35): error TS2307: Cannot find module 'logform.js' or its corresponding type declarations.
server/src/utils/logger.ts(3,31): error TS2307: Cannot find module 'morgan.js' or its corresponding type declarations.
server/src/utils/redis.ts(1,19): error TS2307: Cannot find module 'ioredis-mock.js' or its corresponding type declarations.
server/src/utils/redis.ts(2,41): error TS2307: Cannot find module 'ioredis.js' or its corresponding type declarations.
server/src/utils/redis.ts(8,5): error TS2367: This comparison appears to be unintentional because the types '"development" | "production" | "test.js" | undefined' and '"test"' have no overlap.
server/src/utils/redis.ts(23,28): error TS7006: Parameter 'err' implicitly has an 'any' type.
server/sslManager.ts(1,20): error TS2307: Cannot find module 'crypto.js' or its corresponding type declarations.
server/sslManager.ts(2,16): error TS2307: Cannot find module 'fs/promises.js' or its corresponding type declarations.
server/sslManager.ts(3,18): error TS2307: Cannot find module 'path.js' or its corresponding type declarations.
server/sslManager.ts(282,33): error TS6133: 'certificate' is declared but its value is never read.
server/sslManager.ts(293,60): error TS6133: 'privateKey' is declared but its value is never read.
server/ssoProvider.ts(3,52): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/ssoProvider.ts(61,51): error TS6133: 'relayState' is declared but its value is never read.
server/ssoProvider.ts(239,29): error TS6133: 'samlResponse' is declared but its value is never read.
server/ssoProvider.ts(296,35): error TS6133: 'code' is declared but its value is never read.
server/ssoProvider.ts(296,49): error TS6133: 'state' is declared but its value is never read.
server/ssoProvider.ts(301,34): error TS6133: 'accessToken' is declared but its value is never read.
server/ssoProvider.ts(413,9): error TS2339: Property 'session' does not exist on type 'Request<{ organizationId: string; }, any, any, ParsedQs, Record<string, any>>'.
server/ssoProvider.ts(414,9): error TS2339: Property 'session' does not exist on type 'Request<{ organizationId: string; }, any, any, ParsedQs, Record<string, any>>'.
server/ssoProvider.ts(439,9): error TS2339: Property 'session' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'.
server/ssoProvider.ts(440,9): error TS2339: Property 'session' does not exist on type 'Request<{}, any, any, ParsedQs, Record<string, any>>'.
server/storage.ts(5,15): error TS2307: Cannot find module './storage/types.js' or its corresponding type declarations.
server/storage/implementations/MemStorage.ts(3,25): error TS2307: Cannot find module 'crypto.js' or its corresponding type declarations.
server/storage/implementations/MemStorage.ts(12,8): error TS2307: Cannot find module '@shared/../shared/src/schema' or its corresponding type declarations.
server/storage/index.ts(2,15): error TS2307: Cannot find module './types.js' or its corresponding type declarations.
server/storage/types/index.ts(6,8): error TS2307: Cannot find module '@shared/../shared/src/schema' or its corresponding type declarations.
server/stripe.ts(1,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/stripe"' has no default export.
server/test-app.ts(8,10): error TS2614: Module '"./middleware/secureAuth.js"' has no exported member 'preventSQLInjection'. Did you mean to use 'import preventSQLInjection from "./middleware/secureAuth.js"' instead?
server/test-app.ts(8,31): error TS2614: Module '"./middleware/secureAuth.js"' has no exported member 'configureCORS'. Did you mean to use 'import configureCORS from "./middleware/secureAuth.js"' instead?
server/test-app.ts(35,10): error TS2614: Module '"./middleware/secureAuth.js"' has no exported member 'unifiedAuthMiddleware'. Did you mean to use 'import unifiedAuthMiddleware from "./middleware/secureAuth.js"' instead?
server/test-app.ts(38,10): error TS2724: '"./middleware/caseConverter.js"' has no exported member named 'caseConversionMiddleware'. Did you mean 'caseConverterMiddleware'?
server/test-app.ts(62,9): error TS2552: Cannot find name 'expresson'. Did you mean 'express'?
server/test-app.ts(63,9): error TS2352: Conversion of type 'NextHandleFunction' to type 'RequestHandler<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' may be a mistake because neither type sufficiently overlaps with the other. If this was intentional, convert the expression to 'unknown' first.
  Types of parameters 'req' and 'req' are incompatible.
    Type 'Request<ParamsDictionary, any, any, ParsedQs, Record<string, any>>' is not comparable to type 'IncomingMessage'.
      Types of property 'socket' are incompatible.
        Type '{ remoteAddress?: string | undefined; } | undefined' is not comparable to type 'Socket'.
          Type '{ remoteAddress?: string | undefined; }' is missing the following properties from type 'Socket': destroySoon, write, connect, setEncoding, and 85 more.
server/test-app.ts(84,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: CustomRequest, res: Response<any, Record<string, any>>, next: NextFunction) => Promise<void | Response<any, Record<string, any>>>' is not assignable to parameter of type 'PathParams'.
server/test-app.ts(85,9): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type '(req: CustomRequest, res: Response<any, Record<string, any>>, next: NextFunction) => void | Response<any, Record<string, any>>' is not assignable to parameter of type 'PathParams'.
server/types/interfaces/express.ts(2,26): error TS2307: Cannot find module '@server/src/types/auth-user.js' or its corresponding type declarations.
server/types/interfaces/express.ts(9,18): error TS2430: Interface 'AuthenticatedRequest<Params, ResBody, ReqBody, ReqQuery>' incorrectly extends interface 'Request<Params, ResBody, ReqBody, ReqQuery, Record<string, any>>'.
  Types of property 'organizationId' are incompatible.
    Type 'string | number' is not assignable to type 'string | undefined'.
      Type 'number' is not assignable to type 'string'.
server/types/interfaces/express.ts(27,18): error TS2430: Interface 'OptionalAuthRequest<Params, ResBody, ReqBody, ReqQuery>' incorrectly extends interface 'Request<Params, ResBody, ReqBody, ReqQuery, Record<string, any>>'.
  Types of property 'organizationId' are incompatible.
    Type 'string | number | undefined' is not assignable to type 'string | undefined'.
      Type 'number' is not assignable to type 'string'.
server/utils/auth.ts(1,31): error TS2307: Cannot find module 'bcrypt.js' or its corresponding type declarations.
server/utils/auth.ts(2,41): error TS2307: Cannot find module 'crypto.js' or its corresponding type declarations.
server/utils/auth.ts(6,27): error TS2307: Cannot find module '@shared/shared/src/schema' or its corresponding type declarations.
server/utils/dnsVerification.ts(1,17): error TS2307: Cannot find module 'dns.js' or its corresponding type declarations.
server/utils/dnsVerification.ts(2,27): error TS2307: Cannot find module 'util.js' or its corresponding type declarations.
server/utils/dnsVerification.ts(3,20): error TS2307: Cannot find module 'crypto.js' or its corresponding type declarations.
server/utils/dnsVerification.ts(30,25): error TS7006: Parameter 'record' implicitly has an 'any' type.
server/utils/dnsVerification.ts(50,28): error TS7006: Parameter 'cname' implicitly has an 'any' type.
server/utils/errorHandler.ts(108,39): error TS2307: Cannot find module 'express-serve-static-core.js' or its corresponding type declarations.
server/utils/errorHandler.ts(109,31): error TS2307: Cannot find module 'qs.js' or its corresponding type declarations.
server/utils/errorHandler.ts(112,43): error TS2834: Relative import paths need explicit file extensions in ECMAScript imports when '--moduleResolution' is 'node16' or 'nodenext'. Consider adding an extension to the import path.
server/utils/exporters.ts(1,27): error TS2307: Cannot find module 'csv-stringify/sync.js' or its corresponding type declarations.
server/utils/exporters.ts(2,30): error TS2307: Cannot find module 'ics.js' or its corresponding type declarations.
server/utils/logger.ts(1,8): error TS1192: Module '"/home/runner/work/NestMapRepo/NestMapRepo/server/types/winston"' has no default export.
server/utils/logger.ts(2,18): error TS2307: Cannot find module 'path.js' or its corresponding type declarations.
server/utils/logger.ts(3,16): error TS2307: Cannot find module 'fs.js' or its corresponding type declarations.
server/utils/logger.ts(53,6): error TS7006: Parameter 'info' implicitly has an 'any' type.
server/utils/pdfHelper.ts(1,23): error TS2307: Cannot find module 'puppeteer.js' or its corresponding type declarations.
server/utils/redis.ts(1,23): error TS2307: Cannot find module 'ioredis.js' or its corresponding type declarations.
server/utils/request.ts(3,38): error TS2307: Cannot find module '../types/custom-request.js' or its corresponding type declarations.
server/utils/request.ts(6,38): error TS2307: Cannot find module '../types/custom-request.js' or its corresponding type declarations.
server/utils/response.ts(2,51): error TS2307: Cannot find module '@shared/shared/types/api' or its corresponding type declarations.
server/utils/secureJwt.ts(1,51): error TS2307: Cannot find module 'jsonwebtoken.js' or its corresponding type declarations.
server/utils/secureJwt.ts(4,30): error TS2307: Cannot find module 'uuid.js' or its corresponding type declarations.
server/utils/validation.ts(3,43): error TS2307: Cannot find module '../types/custom-request.js' or its corresponding type declarations.
server/vite.ts(24,48): error TS6059: File '/home/runner/work/NestMapRepo/NestMapRepo/vite.config.ts' is not under 'rootDir' '/home/runner/work/NestMapRepo/NestMapRepo/server'. 'rootDir' is expected to contain all source files.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/package.json' has field "type" with value "module"
server/vite.ts(24,48): error TS6307: File '/home/runner/work/NestMapRepo/NestMapRepo/vite.config.ts' is not listed within the file list of project '/home/runner/work/NestMapRepo/NestMapRepo/server/tsconfig.json'. Projects must list all files or use an 'include' pattern.
  File is ECMAScript module because '/home/runner/work/NestMapRepo/NestMapRepo/package.json' has field "type" with value "module"
server/vite.ts(84,11): error TS2769: No overload matches this call.
  The last overload gave the following error.
    Argument of type 'RequestHandler<Response<any, Record<string, any>>>' is not assignable to parameter of type 'PathParams'.
server/weather.ts(56,5): error TS2820: Type '"imperial.js"' is not assignable to type '"metric" | "imperial"'. Did you mean '"imperial"'?
server/weather.ts(61,5): error TS2820: Type '"imperial.js"' is not assignable to type '"metric" | "imperial"'. Did you mean '"imperial"'?
server/weather.ts(65,3): error TS2820: Type '"metric.js"' is not assignable to type '"metric" | "imperial"'. Did you mean '"metric"'?
server/weather.ts(98,7): error TS2322: Type '"F" | "C"' is not assignable to type '"F.js" | "C"'.
  Type '"F"' is not assignable to type '"F.js" | "C"'.
server/weather.ts(161,9): error TS2322: Type '"F" | "C"' is not assignable to type '"F.js" | "C"'.
  Type '"F"' is not assignable to type '"F.js" | "C"'.
server/websocket.ts(1,58): error TS2307: Cannot find module 'ws.js' or its corresponding type declarations.
server/websocket.ts(2,24): error TS2307: Cannot find module 'http.js' or its corresponding type declarations.
server/websocket.ts(3,23): error TS2307: Cannot find module 'url.js' or its corresponding type declarations.
server/websocket.ts(4,17): error TS2307: Cannot find module 'jsonwebtoken.js' or its corresponding type declarations.
server/websocket.ts(41,12): error TS2339: Property 'close' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(52,10): error TS2339: Property 'on' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(52,25): error TS7006: Parameter 'data' implicitly has an 'any' type.
server/websocket.ts(53,10): error TS2339: Property 'on' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(54,10): error TS2339: Property 'on' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(54,23): error TS7006: Parameter 'error' implicitly has an 'any' type.
server/websocket.ts(57,10): error TS2339: Property 'send' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(65,10): error TS2339: Property 'close' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(101,14): error TS2678: Type '"user_presence"' is not comparable to type '"join_trip" | "leave_trip" | "trip_update" | "comment_added" | "activity_changed" | "user_presence.js"'.
server/websocket.ts(186,39): error TS2339: Property 'readyState' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(192,16): error TS2339: Property 'send' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(212,20): error TS2339: Property 'readyState' does not exist on type 'AuthenticatedWebSocket'.
server/websocket.ts(241,32): error TS2339: Property 'readyState' does not exist on type 'AuthenticatedWebSocket'.
